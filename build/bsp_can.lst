ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_can.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "bsp/can/bsp_can.c"
  20              		.section	.text.CANServiceInit,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	CANServiceInit:
  27              	.LFB139:
   1:bsp/can/bsp_can.c **** #include "bsp_can.h"
   2:bsp/can/bsp_can.c **** #include "main.h"
   3:bsp/can/bsp_can.c **** #include "memory.h"
   4:bsp/can/bsp_can.c **** #include "stdlib.h"
   5:bsp/can/bsp_can.c **** #include "bsp_dwt.h"
   6:bsp/can/bsp_can.c **** #include "bsp_log.h"
   7:bsp/can/bsp_can.c **** 
   8:bsp/can/bsp_can.c **** /* can instance ptrs storage, used for recv callback */
   9:bsp/can/bsp_can.c **** // åœ¨CANäº§ç”Ÿæ¥æ”¶ä¸­æ–­ä¼šéå†æ•°ç»„,é€‰å‡ºhcanå’Œrxidä¸å‘ç”Ÿä¸­æ–­çš„å®ä¾‹ç›¸åŒçš„é‚£ä¸ª
  10:bsp/can/bsp_can.c **** // @todo: åç»­ä¸ºæ¯ä¸ªCANæ€»çº¿å•ç‹¬æ·»åŠ ä¸€ä¸ªcan_instanceæŒ‡é’ˆæ•°ç»„,æé«˜å›è°ƒæŸ¥æ‰¾çš„æ
  11:bsp/can/bsp_can.c **** static CANInstance *can_instance[CAN_MX_REGISTER_CNT] = {NULL};
  12:bsp/can/bsp_can.c **** static uint8_t idx; // å…¨å±€CANå®ä¾‹ç´¢å¼•,æ¯æ¬¡æœ‰æ–°çš„æ¨¡å—æ³¨å†Œä¼šè‡ªå¢
  13:bsp/can/bsp_can.c **** 
  14:bsp/can/bsp_can.c **** /* ----------------two static function called by CANRegister()-------------------- */
  15:bsp/can/bsp_can.c **** 
  16:bsp/can/bsp_can.c **** /**
  17:bsp/can/bsp_can.c ****  * @brief æ·»åŠ è¿‡æ»¤å™¨ä»¥å®ç°å¯¹ç‰¹å®šidçš„æŠ¥æ–‡çš„æ¥æ”¶,ä¼šè¢«CANRegister()è°ƒç”¨
  18:bsp/can/bsp_can.c ****  *        ç»™CANæ·»åŠ è¿‡æ»¤å™¨å,BxCANä¼šæ ¹æ®æ¥æ”¶åˆ°çš„æŠ¥æ–‡çš„idè¿›è¡Œæ¶ˆæ¯è¿‡æ»¤,ç¬¦åˆè§
  19:bsp/can/bsp_can.c ****  *
  20:bsp/can/bsp_can.c ****  * @note f407çš„bxCANæœ‰28ä¸ªè¿‡æ»¤å™¨,è¿™é‡Œå°†å…¶é…ç½®ä¸ºå‰14ä¸ªè¿‡æ»¤å™¨ç»™CAN1ä½¿ç”¨,å14ä¸ª
  21:bsp/can/bsp_can.c ****  *       åˆå§‹åŒ–æ—¶,å¥‡æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO0,å¶æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO1
  22:bsp/can/bsp_can.c ****  *       æ³¨å†Œåˆ°CAN1çš„æ¨¡å—ä½¿ç”¨è¿‡æ»¤å™¨0-13,CAN2ä½¿ç”¨è¿‡æ»¤å™¨14-27
  23:bsp/can/bsp_can.c ****  *
  24:bsp/can/bsp_can.c ****  * @attention ä½ ä¸éœ€è¦å®Œå…¨ç†è§£è¿™ä¸ªå‡½æ•°çš„ä½œç”¨,å› ä¸ºå®ƒä¸»è¦æ˜¯ç”¨äºåˆå§‹åŒ–,åœ¨å¼
  25:bsp/can/bsp_can.c ****  *            äº«å—å¼€å‘çš„ä¹è¶£å§!å¦‚æœä½ çœŸçš„æƒ³çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨å¹²ä»€ä¹ˆ,è¯·è”ç³»ä½
  26:bsp/can/bsp_can.c ****  *
  27:bsp/can/bsp_can.c ****  * @param _instance can instance owned by specific module
  28:bsp/can/bsp_can.c ****  */
  29:bsp/can/bsp_can.c **** static void CANAddFilter(CANInstance *_instance)
  30:bsp/can/bsp_can.c **** {
  31:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 2


  32:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
  33:bsp/can/bsp_can.c **** 
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterMode = CAN_FILTERMODE_IDLIST;                                            
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
  36:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
  37:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
  40:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
  41:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
  42:bsp/can/bsp_can.c **** }
  43:bsp/can/bsp_can.c **** 
  44:bsp/can/bsp_can.c **** static void EXTCANAddFilter(CANInstance *_instance){
  45:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  46:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 8, can2_filter_idx = 23; // 8-13ç»™ex can1ç”¨,23-27ç»™ex can2ç
  47:bsp/can/bsp_can.c **** 
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMode = CAN_FILTERMODE_IDMASK;                                          
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  50:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
  51:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow =(_instance->rx_id << 13) & 0xFFE00000;  // ä½8ä½å·¦ç§»21ä½ï¼ˆ
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFFE00000;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
  57:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
  58:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
  59:bsp/can/bsp_can.c **** }
  60:bsp/can/bsp_can.c **** 
  61:bsp/can/bsp_can.c **** 
  62:bsp/can/bsp_can.c **** 
  63:bsp/can/bsp_can.c **** 
  64:bsp/can/bsp_can.c **** 
  65:bsp/can/bsp_can.c **** /**
  66:bsp/can/bsp_can.c ****  * @brief åœ¨ç¬¬ä¸€ä¸ªCANå®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°,å¯åŠ¨CANæœåŠ¡
  67:bsp/can/bsp_can.c ****  *
  68:bsp/can/bsp_can.c ****  * @note æ­¤å‡½æ•°ä¼šå¯åŠ¨CAN1å’ŒCAN2,å¼€å¯CAN1å’ŒCAN2çš„FIFO0 & FIFO1æº¢å‡ºé€šçŸ¥
  69:bsp/can/bsp_can.c ****  *
  70:bsp/can/bsp_can.c ****  */
  71:bsp/can/bsp_can.c **** static void CANServiceInit()
  72:bsp/can/bsp_can.c **** {
  28              		.loc 1 72 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 10B5     		push	{r4, lr}
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
  73:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan1);
  36              		.loc 1 73 5 view .LVU1
  37 0002 0C4C     		ldr	r4, .L3
  38 0004 2046     		mov	r0, r4
  39 0006 FFF7FEFF 		bl	HAL_CAN_Start
  40              	.LVL0:
  74:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO0_MSG_PENDING);
  41              		.loc 1 74 5 view .LVU2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 3


  42 000a 0221     		movs	r1, #2
  43 000c 2046     		mov	r0, r4
  44 000e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  45              	.LVL1:
  75:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO1_MSG_PENDING);
  46              		.loc 1 75 5 view .LVU3
  47 0012 1021     		movs	r1, #16
  48 0014 2046     		mov	r0, r4
  49 0016 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  50              	.LVL2:
  76:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan2);
  51              		.loc 1 76 5 view .LVU4
  52 001a 074C     		ldr	r4, .L3+4
  53 001c 2046     		mov	r0, r4
  54 001e FFF7FEFF 		bl	HAL_CAN_Start
  55              	.LVL3:
  77:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO0_MSG_PENDING);
  56              		.loc 1 77 5 view .LVU5
  57 0022 0221     		movs	r1, #2
  58 0024 2046     		mov	r0, r4
  59 0026 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  60              	.LVL4:
  78:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO1_MSG_PENDING);
  61              		.loc 1 78 5 view .LVU6
  62 002a 1021     		movs	r1, #16
  63 002c 2046     		mov	r0, r4
  64 002e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  65              	.LVL5:
  79:bsp/can/bsp_can.c **** }
  66              		.loc 1 79 1 is_stmt 0 view .LVU7
  67 0032 10BD     		pop	{r4, pc}
  68              	.L4:
  69              		.align	2
  70              	.L3:
  71 0034 00000000 		.word	hcan1
  72 0038 00000000 		.word	hcan2
  73              		.cfi_endproc
  74              	.LFE139:
  76              		.section	.text.EXTCANAddFilter,"ax",%progbits
  77              		.align	1
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	EXTCANAddFilter:
  83              	.LVL6:
  84              	.LFB138:
  44:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  85              		.loc 1 44 52 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 40
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  44:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  89              		.loc 1 44 52 is_stmt 0 view .LVU9
  90 0000 00B5     		push	{lr}
  91              		.cfi_def_cfa_offset 4
  92              		.cfi_offset 14, -4
  93 0002 8BB0     		sub	sp, sp, #44
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 4


  94              		.cfi_def_cfa_offset 48
  45:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 8, can2_filter_idx = 23; // 8-13ç»™ex can1ç”¨,23-27ç»™ex can2ç
  95              		.loc 1 45 6 is_stmt 1 view .LVU10
  46:bsp/can/bsp_can.c **** 
  96              		.loc 1 46 5 view .LVU11
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  97              		.loc 1 48 5 view .LVU12
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  98              		.loc 1 48 34 is_stmt 0 view .LVU13
  99 0004 0022     		movs	r2, #0
 100 0006 0692     		str	r2, [sp, #24]
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
 101              		.loc 1 49 5 is_stmt 1 view .LVU14
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
 102              		.loc 1 49 35 is_stmt 0 view .LVU15
 103 0008 0123     		movs	r3, #1
 104 000a 0793     		str	r3, [sp, #28]
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 105              		.loc 1 50 5 is_stmt 1 view .LVU16
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 106              		.loc 1 50 56 is_stmt 0 view .LVU17
 107 000c 90F83830 		ldrb	r3, [r0, #56]	@ zero_extendqisi2
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 108              		.loc 1 50 84 view .LVU18
 109 0010 83F00103 		eor	r3, r3, #1
 110 0014 03F00103 		and	r3, r3, #1
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 111              		.loc 1 50 44 view .LVU19
 112 0018 0493     		str	r3, [sp, #16]
  51:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
 113              		.loc 1 51 5 is_stmt 1 view .LVU20
  51:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
 114              		.loc 1 51 44 is_stmt 0 view .LVU21
 115 001a 0E23     		movs	r3, #14
 116 001c 0993     		str	r3, [sp, #36]
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow =(_instance->rx_id << 13) & 0xFFE00000;  // ä½8ä½å·¦ç§»21ä½ï¼ˆ
 117              		.loc 1 52 5 is_stmt 1 view .LVU22
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow =(_instance->rx_id << 13) & 0xFFE00000;  // ä½8ä½å·¦ç§»21ä½ï¼ˆ
 118              		.loc 1 52 36 is_stmt 0 view .LVU23
 119 001e 0092     		str	r2, [sp]
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 120              		.loc 1 53 5 is_stmt 1 view .LVU24
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 121              		.loc 1 53 35 is_stmt 0 view .LVU25
 122 0020 0192     		str	r2, [sp, #4]
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFFE00000;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
 123              		.loc 1 54 5 is_stmt 1 view .LVU26
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFFE00000;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
 124              		.loc 1 54 40 is_stmt 0 view .LVU27
 125 0022 0292     		str	r2, [sp, #8]
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
 126              		.loc 1 55 5 is_stmt 1 view .LVU28
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
 127              		.loc 1 55 39 is_stmt 0 view .LVU29
 128 0024 A2F50013 		sub	r3, r2, #2097152
 129 0028 0393     		str	r3, [sp, #12]
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 5


 130              		.loc 1 56 5 is_stmt 1 view .LVU30
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 131              		.loc 1 56 45 is_stmt 0 view .LVU31
 132 002a 0268     		ldr	r2, [r0]	@ unaligned
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 133              		.loc 1 56 90 view .LVU32
 134 002c 0A4B     		ldr	r3, .L10
 135 002e 9A42     		cmp	r2, r3
 136 0030 0DD0     		beq	.L9
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 137              		.loc 1 56 108 discriminator 2 view .LVU33
 138 0032 0A4A     		ldr	r2, .L10+4
 139 0034 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 140 0036 591C     		adds	r1, r3, #1
 141 0038 1170     		strb	r1, [r2]
 142              	.L7:
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 143              		.loc 1 56 34 discriminator 4 view .LVU34
 144 003a 0593     		str	r3, [sp, #20]
  57:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
 145              		.loc 1 57 5 is_stmt 1 view .LVU35
  57:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
 146              		.loc 1 57 40 is_stmt 0 view .LVU36
 147 003c 0123     		movs	r3, #1
 148 003e 0893     		str	r3, [sp, #32]
  58:bsp/can/bsp_can.c **** }
 149              		.loc 1 58 5 is_stmt 1 view .LVU37
 150 0040 6946     		mov	r1, sp
 151 0042 0068     		ldr	r0, [r0]	@ unaligned
 152              	.LVL7:
  58:bsp/can/bsp_can.c **** }
 153              		.loc 1 58 5 is_stmt 0 view .LVU38
 154 0044 FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 155              	.LVL8:
  59:bsp/can/bsp_can.c **** 
 156              		.loc 1 59 1 view .LVU39
 157 0048 0BB0     		add	sp, sp, #44
 158              		.cfi_remember_state
 159              		.cfi_def_cfa_offset 4
 160              		@ sp needed
 161 004a 5DF804FB 		ldr	pc, [sp], #4
 162              	.LVL9:
 163              	.L9:
 164              		.cfi_restore_state
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 165              		.loc 1 56 86 discriminator 1 view .LVU40
 166 004e 044A     		ldr	r2, .L10+8
 167 0050 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 168 0052 591C     		adds	r1, r3, #1
 169 0054 1170     		strb	r1, [r2]
 170 0056 F0E7     		b	.L7
 171              	.L11:
 172              		.align	2
 173              	.L10:
 174 0058 00000000 		.word	hcan1
 175 005c 00000000 		.word	can2_filter_idx.5
 176 0060 00000000 		.word	can1_filter_idx.6
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 6


 177              		.cfi_endproc
 178              	.LFE138:
 180              		.section	.text.CANAddFilter,"ax",%progbits
 181              		.align	1
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 186              	CANAddFilter:
 187              	.LVL10:
 188              	.LFB137:
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
 189              		.loc 1 30 1 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 40
 192              		@ frame_needed = 0, uses_anonymous_args = 0
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
 193              		.loc 1 30 1 is_stmt 0 view .LVU42
 194 0000 00B5     		push	{lr}
 195              		.cfi_def_cfa_offset 4
 196              		.cfi_offset 14, -4
 197 0002 8BB0     		sub	sp, sp, #44
 198              		.cfi_def_cfa_offset 48
  31:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
 199              		.loc 1 31 5 is_stmt 1 view .LVU43
  32:bsp/can/bsp_can.c **** 
 200              		.loc 1 32 5 view .LVU44
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
 201              		.loc 1 34 5 view .LVU45
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
 202              		.loc 1 34 32 is_stmt 0 view .LVU46
 203 0004 0123     		movs	r3, #1
 204 0006 0693     		str	r3, [sp, #24]
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 205              		.loc 1 35 5 is_stmt 1 view .LVU47
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 206              		.loc 1 35 33 is_stmt 0 view .LVU48
 207 0008 0023     		movs	r3, #0
 208 000a 0793     		str	r3, [sp, #28]
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 209              		.loc 1 36 5 is_stmt 1 view .LVU49
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 210              		.loc 1 36 54 is_stmt 0 view .LVU50
 211 000c 90F83830 		ldrb	r3, [r0, #56]	@ zero_extendqisi2
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 212              		.loc 1 36 82 view .LVU51
 213 0010 83F00103 		eor	r3, r3, #1
 214 0014 03F00103 		and	r3, r3, #1
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 215              		.loc 1 36 42 view .LVU52
 216 0018 0493     		str	r3, [sp, #16]
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
 217              		.loc 1 37 5 is_stmt 1 view .LVU53
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
 218              		.loc 1 37 42 is_stmt 0 view .LVU54
 219 001a 0E23     		movs	r3, #14
 220 001c 0993     		str	r3, [sp, #36]
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 7


 221              		.loc 1 38 5 is_stmt 1 view .LVU55
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 222              		.loc 1 38 44 is_stmt 0 view .LVU56
 223 001e 90F84D30 		ldrb	r3, [r0, #77]	@ zero_extendqisi2
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 224              		.loc 1 38 52 view .LVU57
 225 0022 5B01     		lsls	r3, r3, #5
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 226              		.loc 1 38 33 view .LVU58
 227 0024 0193     		str	r3, [sp, #4]
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 228              		.loc 1 39 5 is_stmt 1 view .LVU59
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 229              		.loc 1 39 43 is_stmt 0 view .LVU60
 230 0026 0268     		ldr	r2, [r0]	@ unaligned
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 231              		.loc 1 39 88 view .LVU61
 232 0028 0A4B     		ldr	r3, .L17
 233 002a 9A42     		cmp	r2, r3
 234 002c 0DD0     		beq	.L16
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 235              		.loc 1 39 106 discriminator 2 view .LVU62
 236 002e 0A4A     		ldr	r2, .L17+4
 237 0030 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 238 0032 591C     		adds	r1, r3, #1
 239 0034 1170     		strb	r1, [r2]
 240              	.L14:
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 241              		.loc 1 39 32 discriminator 4 view .LVU63
 242 0036 0593     		str	r3, [sp, #20]
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 243              		.loc 1 40 5 is_stmt 1 view .LVU64
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 244              		.loc 1 40 38 is_stmt 0 view .LVU65
 245 0038 0123     		movs	r3, #1
 246 003a 0893     		str	r3, [sp, #32]
  41:bsp/can/bsp_can.c **** }
 247              		.loc 1 41 5 is_stmt 1 view .LVU66
 248 003c 6946     		mov	r1, sp
 249 003e 0068     		ldr	r0, [r0]	@ unaligned
 250              	.LVL11:
  41:bsp/can/bsp_can.c **** }
 251              		.loc 1 41 5 is_stmt 0 view .LVU67
 252 0040 FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 253              	.LVL12:
  42:bsp/can/bsp_can.c **** 
 254              		.loc 1 42 1 view .LVU68
 255 0044 0BB0     		add	sp, sp, #44
 256              		.cfi_remember_state
 257              		.cfi_def_cfa_offset 4
 258              		@ sp needed
 259 0046 5DF804FB 		ldr	pc, [sp], #4
 260              	.LVL13:
 261              	.L16:
 262              		.cfi_restore_state
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 263              		.loc 1 39 84 discriminator 1 view .LVU69
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 8


 264 004a 044A     		ldr	r2, .L17+8
 265 004c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 266 004e 591C     		adds	r1, r3, #1
 267 0050 1170     		strb	r1, [r2]
 268 0052 F0E7     		b	.L14
 269              	.L18:
 270              		.align	2
 271              	.L17:
 272 0054 00000000 		.word	hcan1
 273 0058 00000000 		.word	can2_filter_idx.3
 274 005c 00000000 		.word	can1_filter_idx.4
 275              		.cfi_endproc
 276              	.LFE137:
 278              		.section	.text.CANFIFOxCallback,"ax",%progbits
 279              		.align	1
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 284              	CANFIFOxCallback:
 285              	.LVL14:
 286              	.LFB143:
  80:bsp/can/bsp_can.c **** 
  81:bsp/can/bsp_can.c **** /* ----------------------- two extern callable function -----------------------*/
  82:bsp/can/bsp_can.c **** 
  83:bsp/can/bsp_can.c **** CANInstance *CANRegister(CAN_Init_Config_s *config)
  84:bsp/can/bsp_can.c **** {
  85:bsp/can/bsp_can.c ****     if (!idx)
  86:bsp/can/bsp_can.c ****     {
  87:bsp/can/bsp_can.c ****         CANServiceInit(); // ç¬¬ä¸€æ¬¡æ³¨å†Œ,å…ˆè¿›è¡Œç¡¬ä»¶åˆå§‹åŒ–
  88:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
  89:bsp/can/bsp_can.c ****       }
  90:bsp/can/bsp_can.c ****       if (idx >= CAN_MX_REGISTER_CNT) // è¶…è¿‡æœ€å¤§å®ä¾‹æ•°
  91:bsp/can/bsp_can.c ****      {
  92:bsp/can/bsp_can.c ****         while (1)
  93:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
  94:bsp/can/bsp_can.c ****       }
  95:bsp/can/bsp_can.c ****       for (size_t i = 0; i < idx; i++)
  96:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
  97:bsp/can/bsp_can.c ****      if (can_instance[i]->rx_id == config->rx_id && can_instance[i]->can_handle == config->can_hand
  98:bsp/can/bsp_can.c ****       {
  99:bsp/can/bsp_can.c ****          while (1)
 100:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 101:bsp/can/bsp_can.c ****       }      
 102:bsp/can/bsp_can.c ****      }
 103:bsp/can/bsp_can.c ****     
 104:bsp/can/bsp_can.c ****     CANInstance *instance = (CANInstance *)malloc(sizeof(CANInstance)); // åˆ†é…ç©ºé—´
 105:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 106:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
 107:bsp/can/bsp_can.c ****     if(config->tx_ide==CAN_ID_EXT){
 108:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 109:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
 110:bsp/can/bsp_can.c ****         instance->txconf.StdId = config->tx_id; // å‘é€id
 111:bsp/can/bsp_can.c ****     }
 112:bsp/can/bsp_can.c ****     instance->txconf.IDE = config->tx_ide;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰
 113:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 114:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
 115:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 9


 116:bsp/can/bsp_can.c ****     instance->can_handle = config->can_handle;
 117:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 118:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 119:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 120:bsp/can/bsp_can.c ****     instance->id = config->id;
 121:bsp/can/bsp_can.c **** 
 122:bsp/can/bsp_can.c **** 
 123:bsp/can/bsp_can.c ****     if(instance->txconf.IDE==CAN_ID_EXT){
 124:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 125:bsp/can/bsp_can.c ****     }else{
 126:bsp/can/bsp_can.c ****          CANAddFilter(instance);
 127:bsp/can/bsp_can.c ****     }         // æ·»åŠ CANè¿‡æ»¤å™¨è§„åˆ™
 128:bsp/can/bsp_can.c ****     can_instance[idx++] = instance; // å°†å®ä¾‹ä¿å­˜åˆ°can_instanceä¸­
 129:bsp/can/bsp_can.c **** 
 130:bsp/can/bsp_can.c ****     return instance; // è¿”å›canå®ä¾‹æŒ‡é’ˆ
 131:bsp/can/bsp_can.c **** }
 132:bsp/can/bsp_can.c **** 
 133:bsp/can/bsp_can.c **** /* @todo ç›®å‰ä¼¼ä¹å°è£…è¿‡åº¦,åº”è¯¥æ·»åŠ ä¸€ä¸ªæŒ‡å‘tx_buffçš„æŒ‡é’ˆ,tx_buffä¸åº”è¯¥ç”±CAN i
 134:bsp/can/bsp_can.c **** /* å¦‚æœè®©CANinstanceä¿å­˜txbuff,ä¼šå¢åŠ ä¸€æ¬¡å¤åˆ¶çš„å¼€é”€ */
 135:bsp/can/bsp_can.c **** uint8_t CANTransmit(CANInstance *_instance, float timeout)
 136:bsp/can/bsp_can.c **** {
 137:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 138:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 139:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 140:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 141:bsp/can/bsp_can.c ****     {
 142:bsp/can/bsp_can.c ****         if (DWT_GetTimeline_ms() - dwt_start > timeout) // è¶…æ—¶
 143:bsp/can/bsp_can.c ****         {
 144:bsp/can/bsp_can.c ****             LOGWARNING("[bsp_can] CAN MAILbox full! failed to add msg to mailbox. Cnt [%d]", busy_c
 145:bsp/can/bsp_can.c ****             busy_count++;
 146:bsp/can/bsp_can.c ****             return 0;
 147:bsp/can/bsp_can.c ****         }
 148:bsp/can/bsp_can.c ****     }
 149:bsp/can/bsp_can.c ****     wait_time = DWT_GetTimeline_ms() - dwt_start;
 150:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 151:bsp/can/bsp_can.c ****     if (HAL_CAN_AddTxMessage(_instance->can_handle, &_instance->txconf, _instance->tx_buff, &_insta
 152:bsp/can/bsp_can.c ****     {
 153:bsp/can/bsp_can.c ****         // LOGWARNING("[bsp_can] CAN bus BUS! cnt:%d", busy_count);
 154:bsp/can/bsp_can.c ****         busy_count++;
 155:bsp/can/bsp_can.c ****         return 0;
 156:bsp/can/bsp_can.c ****     }
 157:bsp/can/bsp_can.c ****     return 1; // å‘é€æˆåŠŸ
 158:bsp/can/bsp_can.c **** }
 159:bsp/can/bsp_can.c **** 
 160:bsp/can/bsp_can.c **** void CANSetDLC(CANInstance *_instance, uint8_t length)
 161:bsp/can/bsp_can.c **** {
 162:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 163:bsp/can/bsp_can.c ****     if (length > 8 || length == 0) // å®‰å…¨æ£€æŸ¥
 164:bsp/can/bsp_can.c ****         while (1)
 165:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 166:bsp/can/bsp_can.c ****     _instance->txconf.DLC = length;
 167:bsp/can/bsp_can.c **** }
 168:bsp/can/bsp_can.c **** 
 169:bsp/can/bsp_can.c **** /* -----------------------belows are callback definitions--------------------------*/
 170:bsp/can/bsp_can.c **** 
 171:bsp/can/bsp_can.c **** /**
 172:bsp/can/bsp_can.c ****  * @brief æ­¤å‡½æ•°ä¼šè¢«ä¸‹é¢ä¸¤ä¸ªå‡½æ•°è°ƒç”¨,ç”¨äºå¤„ç†FIFO0å’ŒFIFO1æº¢å‡ºä¸­æ–­(è¯´æ˜æ”¶åˆ
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 10


 173:bsp/can/bsp_can.c ****  *        æ‰€æœ‰çš„å®ä¾‹éƒ½ä¼šè¢«éå†,æ‰¾åˆ°can_handleå’Œrx_idç›¸ç­‰çš„å®ä¾‹æ—¶,è°ƒç”¨è¯¥å®ä¾‹
 174:bsp/can/bsp_can.c ****  *
 175:bsp/can/bsp_can.c ****  * @param _hcan
 176:bsp/can/bsp_can.c ****  * @param fifox passed to HAL_CAN_GetRxMessage() to get mesg from a specific fifo
 177:bsp/can/bsp_can.c ****  */
 178:bsp/can/bsp_can.c **** static void CANFIFOxCallback(CAN_HandleTypeDef *_hcan, uint32_t fifox)
 179:bsp/can/bsp_can.c **** {
 287              		.loc 1 179 1 is_stmt 1 view -0
 288              		.cfi_startproc
 289              		@ args = 0, pretend = 0, frame = 8
 290              		@ frame_needed = 0, uses_anonymous_args = 0
 291              		.loc 1 179 1 is_stmt 0 view .LVU71
 292 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 293              		.cfi_def_cfa_offset 20
 294              		.cfi_offset 4, -20
 295              		.cfi_offset 5, -16
 296              		.cfi_offset 6, -12
 297              		.cfi_offset 7, -8
 298              		.cfi_offset 14, -4
 299 0002 83B0     		sub	sp, sp, #12
 300              		.cfi_def_cfa_offset 32
 301 0004 0646     		mov	r6, r0
 302 0006 0F46     		mov	r7, r1
 180:bsp/can/bsp_can.c ****     static CAN_RxHeaderTypeDef rxconf; // åŒä¸Š
 303              		.loc 1 180 5 is_stmt 1 view .LVU72
 181:bsp/can/bsp_can.c ****     uint8_t can_rx_buff[8];
 304              		.loc 1 181 5 view .LVU73
 182:bsp/can/bsp_can.c ****     while (HAL_CAN_GetRxFifoFillLevel(_hcan, fifox)) // FIFOä¸ä¸ºç©º,æœ‰å¯èƒ½åœ¨å…¶ä»–ä¸­æ–­æ—¶æœ
 305              		.loc 1 182 5 view .LVU74
 306              	.LVL15:
 307              	.L20:
 308              		.loc 1 182 12 view .LVU75
 309 0008 3946     		mov	r1, r7
 310 000a 3046     		mov	r0, r6
 311 000c FFF7FEFF 		bl	HAL_CAN_GetRxFifoFillLevel
 312              	.LVL16:
 313              		.loc 1 182 12 is_stmt 0 discriminator 1 view .LVU76
 314 0010 E8B1     		cbz	r0, .L19
 183:bsp/can/bsp_can.c ****     {
 184:bsp/can/bsp_can.c ****         HAL_CAN_GetRxMessage(_hcan, fifox, &rxconf, can_rx_buff); // ä»FIFOä¸­è·å–æ•°æ®
 315              		.loc 1 184 9 is_stmt 1 view .LVU77
 316 0012 6B46     		mov	r3, sp
 317 0014 274A     		ldr	r2, .L32
 318 0016 3946     		mov	r1, r7
 319 0018 3046     		mov	r0, r6
 320 001a FFF7FEFF 		bl	HAL_CAN_GetRxMessage
 321              	.LVL17:
 185:bsp/can/bsp_can.c ****         for (size_t i = 0; i < idx; ++i)
 322              		.loc 1 185 9 view .LVU78
 323              	.LBB2:
 324              		.loc 1 185 14 view .LVU79
 325              		.loc 1 185 21 is_stmt 0 view .LVU80
 326 001e 0024     		movs	r4, #0
 327              		.loc 1 185 9 view .LVU81
 328 0020 18E0     		b	.L21
 329              	.LVL18:
 330              	.L31:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 11


 186:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 187:bsp/can/bsp_can.c ****             if (_hcan == can_instance[i]->can_handle && rxconf.StdId == can_instance[i]->rx_id)//æ 
 331              		.loc 1 187 63 discriminator 1 view .LVU82
 332 0022 244A     		ldr	r2, .L32
 333 0024 1168     		ldr	r1, [r2]
 334              		.loc 1 187 88 discriminator 1 view .LVU83
 335 0026 95F84D20 		ldrb	r2, [r5, #77]	@ zero_extendqisi2
 336              		.loc 1 187 54 discriminator 1 view .LVU84
 337 002a 9142     		cmp	r1, r2
 338 002c 1CD1     		bne	.L22
 188:bsp/can/bsp_can.c ****             {
 189:bsp/can/bsp_can.c ****                 if (can_instance[i]->can_module_callback != NULL) // å›è°ƒå‡½æ•°ä¸ä¸ºç©ºå°±è°ƒç”¨
 339              		.loc 1 189 17 is_stmt 1 view .LVU85
 340              		.loc 1 189 36 is_stmt 0 view .LVU86
 341 002e D5F84F30 		ldr	r3, [r5, #79]	@ unaligned
 342              		.loc 1 189 20 view .LVU87
 343 0032 63B1     		cbz	r3, .L19
 190:bsp/can/bsp_can.c ****                 {
 191:bsp/can/bsp_can.c ****                     can_instance[i]->rx_len = rxconf.DLC;                      // ä¿å­˜æ¥æ”¶åˆ°çš
 344              		.loc 1 191 21 is_stmt 1 view .LVU88
 345              		.loc 1 191 53 is_stmt 0 view .LVU89
 346 0034 1F4B     		ldr	r3, .L32
 347 0036 1A69     		ldr	r2, [r3, #16]
 348              		.loc 1 191 45 view .LVU90
 349 0038 85F84E20 		strb	r2, [r5, #78]
 192:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 350              		.loc 1 192 21 is_stmt 1 view .LVU91
 351 003c 6946     		mov	r1, sp
 352 003e 05F14500 		add	r0, r5, #69
 353 0042 FFF7FEFF 		bl	memcpy
 354              	.LVL19:
 193:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 355              		.loc 1 193 21 view .LVU92
 356              		.loc 1 193 36 is_stmt 0 view .LVU93
 357 0046 D5F84F30 		ldr	r3, [r5, #79]	@ unaligned
 358              		.loc 1 193 21 view .LVU94
 359 004a 2846     		mov	r0, r5
 360 004c 9847     		blx	r3
 361              	.LVL20:
 194:bsp/can/bsp_can.c ****                 }
 195:bsp/can/bsp_can.c ****                 return;
 362              		.loc 1 195 17 is_stmt 1 view .LVU95
 363              	.L19:
 364              		.loc 1 195 17 is_stmt 0 view .LVU96
 365              	.LBE2:
 196:bsp/can/bsp_can.c ****             }
 197:bsp/can/bsp_can.c ****             if(_hcan == can_instance[i]->can_handle&&((rxconf.ExtId>>8)&0xFF)==can_instance[i]->rx_
 198:bsp/can/bsp_can.c ****             {
 199:bsp/can/bsp_can.c ****                 if (can_instance[i]->can_module_callback != NULL) // å›è°ƒå‡½æ•°ä¸ä¸ºç©ºå°±è°ƒç”¨
 200:bsp/can/bsp_can.c ****                 {
 201:bsp/can/bsp_can.c ****                     can_instance[i]->rx_len = rxconf.DLC;                      // ä¿å­˜æ¥æ”¶åˆ°çš
 202:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 203:bsp/can/bsp_can.c ****                     memcpy(&can_instance[i]->rxconf, &rxconf, sizeof( CAN_RxHeaderTypeDef));//ä¿å­
 204:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 205:bsp/can/bsp_can.c ****                 }
 206:bsp/can/bsp_can.c ****                 return;
 207:bsp/can/bsp_can.c ****             }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 12


 208:bsp/can/bsp_can.c ****         }
 209:bsp/can/bsp_can.c ****     }
 210:bsp/can/bsp_can.c **** }
 366              		.loc 1 210 1 view .LVU97
 367 004e 03B0     		add	sp, sp, #12
 368              		.cfi_remember_state
 369              		.cfi_def_cfa_offset 20
 370              		@ sp needed
 371 0050 F0BD     		pop	{r4, r5, r6, r7, pc}
 372              	.LVL21:
 373              	.L25:
 374              		.cfi_restore_state
 375              	.LBB3:
 185:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 376              		.loc 1 185 37 is_stmt 1 discriminator 2 view .LVU98
 377 0052 0134     		adds	r4, r4, #1
 378              	.LVL22:
 379              	.L21:
 185:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 380              		.loc 1 185 30 discriminator 1 view .LVU99
 381 0054 184B     		ldr	r3, .L32+4
 382 0056 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 383 0058 A342     		cmp	r3, r4
 384 005a D5D9     		bls	.L20
 187:bsp/can/bsp_can.c ****             {
 385              		.loc 1 187 13 view .LVU100
 187:bsp/can/bsp_can.c ****             {
 386              		.loc 1 187 38 is_stmt 0 view .LVU101
 387 005c 174B     		ldr	r3, .L32+8
 388 005e 53F82450 		ldr	r5, [r3, r4, lsl #2]
 187:bsp/can/bsp_can.c ****             {
 389              		.loc 1 187 41 view .LVU102
 390 0062 2B68     		ldr	r3, [r5]	@ unaligned
 187:bsp/can/bsp_can.c ****             {
 391              		.loc 1 187 16 view .LVU103
 392 0064 B342     		cmp	r3, r6
 393 0066 DCD0     		beq	.L31
 394              	.L22:
 197:bsp/can/bsp_can.c ****             {
 395              		.loc 1 197 13 is_stmt 1 view .LVU104
 197:bsp/can/bsp_can.c ****             {
 396              		.loc 1 197 15 is_stmt 0 view .LVU105
 397 0068 B342     		cmp	r3, r6
 398 006a F2D1     		bne	.L25
 197:bsp/can/bsp_can.c ****             {
 399              		.loc 1 197 72 discriminator 1 view .LVU106
 400 006c 114B     		ldr	r3, .L32
 401 006e 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 197:bsp/can/bsp_can.c ****             {
 402              		.loc 1 197 95 discriminator 1 view .LVU107
 403 0070 95F84D30 		ldrb	r3, [r5, #77]	@ zero_extendqisi2
 197:bsp/can/bsp_can.c ****             {
 404              		.loc 1 197 52 discriminator 1 view .LVU108
 405 0074 9A42     		cmp	r2, r3
 406 0076 ECD1     		bne	.L25
 199:bsp/can/bsp_can.c ****                 {
 407              		.loc 1 199 17 is_stmt 1 view .LVU109
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 13


 199:bsp/can/bsp_can.c ****                 {
 408              		.loc 1 199 36 is_stmt 0 view .LVU110
 409 0078 D5F84F30 		ldr	r3, [r5, #79]	@ unaligned
 199:bsp/can/bsp_can.c ****                 {
 410              		.loc 1 199 20 view .LVU111
 411 007c 002B     		cmp	r3, #0
 412 007e E6D0     		beq	.L19
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 413              		.loc 1 201 21 is_stmt 1 view .LVU112
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 414              		.loc 1 201 53 is_stmt 0 view .LVU113
 415 0080 0C4E     		ldr	r6, .L32
 416              	.LVL23:
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 417              		.loc 1 201 53 view .LVU114
 418 0082 3269     		ldr	r2, [r6, #16]
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 419              		.loc 1 201 45 view .LVU115
 420 0084 85F84E20 		strb	r2, [r5, #78]
 202:bsp/can/bsp_can.c ****                     memcpy(&can_instance[i]->rxconf, &rxconf, sizeof( CAN_RxHeaderTypeDef));//ä¿å­
 421              		.loc 1 202 21 is_stmt 1 view .LVU116
 422 0088 6946     		mov	r1, sp
 423 008a 05F14500 		add	r0, r5, #69
 424 008e FFF7FEFF 		bl	memcpy
 425              	.LVL24:
 203:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 426              		.loc 1 203 21 view .LVU117
 427 0092 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 428 0094 E861     		str	r0, [r5, #28]	@ unaligned
 429 0096 2962     		str	r1, [r5, #32]	@ unaligned
 430 0098 6A62     		str	r2, [r5, #36]	@ unaligned
 431 009a AB62     		str	r3, [r5, #40]	@ unaligned
 432 009c 07CE     		ldmia	r6!, {r0, r1, r2}
 433 009e E862     		str	r0, [r5, #44]	@ unaligned
 434 00a0 2963     		str	r1, [r5, #48]	@ unaligned
 435 00a2 6A63     		str	r2, [r5, #52]	@ unaligned
 204:bsp/can/bsp_can.c ****                 }
 436              		.loc 1 204 21 view .LVU118
 204:bsp/can/bsp_can.c ****                 }
 437              		.loc 1 204 33 is_stmt 0 view .LVU119
 438 00a4 054B     		ldr	r3, .L32+8
 439 00a6 53F82400 		ldr	r0, [r3, r4, lsl #2]
 204:bsp/can/bsp_can.c ****                 }
 440              		.loc 1 204 36 view .LVU120
 441 00aa D0F84F30 		ldr	r3, [r0, #79]	@ unaligned
 204:bsp/can/bsp_can.c ****                 }
 442              		.loc 1 204 21 view .LVU121
 443 00ae 9847     		blx	r3
 444              	.LVL25:
 206:bsp/can/bsp_can.c ****             }
 445              		.loc 1 206 17 is_stmt 1 view .LVU122
 446 00b0 CDE7     		b	.L19
 447              	.L33:
 448 00b2 00BF     		.align	2
 449              	.L32:
 450 00b4 00000000 		.word	rxconf.0
 451 00b8 00000000 		.word	idx
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 14


 452 00bc 00000000 		.word	can_instance
 453              	.LBE3:
 454              		.cfi_endproc
 455              	.LFE143:
 457              		.section	.text.CANRegister,"ax",%progbits
 458              		.align	1
 459              		.global	CANRegister
 460              		.syntax unified
 461              		.thumb
 462              		.thumb_func
 464              	CANRegister:
 465              	.LVL26:
 466              	.LFB140:
  84:bsp/can/bsp_can.c ****     if (!idx)
 467              		.loc 1 84 1 view -0
 468              		.cfi_startproc
 469              		@ args = 0, pretend = 0, frame = 0
 470              		@ frame_needed = 0, uses_anonymous_args = 0
  84:bsp/can/bsp_can.c ****     if (!idx)
 471              		.loc 1 84 1 is_stmt 0 view .LVU124
 472 0000 38B5     		push	{r3, r4, r5, lr}
 473              		.cfi_def_cfa_offset 16
 474              		.cfi_offset 3, -16
 475              		.cfi_offset 4, -12
 476              		.cfi_offset 5, -8
 477              		.cfi_offset 14, -4
 478 0002 0446     		mov	r4, r0
  85:bsp/can/bsp_can.c ****     {
 479              		.loc 1 85 5 is_stmt 1 view .LVU125
  85:bsp/can/bsp_can.c ****     {
 480              		.loc 1 85 9 is_stmt 0 view .LVU126
 481 0004 2C4B     		ldr	r3, .L51
 482 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  85:bsp/can/bsp_can.c ****     {
 483              		.loc 1 85 8 view .LVU127
 484 0008 33B1     		cbz	r3, .L47
 485              	.LVL27:
 486              	.L35:
  88:bsp/can/bsp_can.c ****       }
 487              		.loc 1 88 47 is_stmt 1 view .LVU128
  90:bsp/can/bsp_can.c ****      {
 488              		.loc 1 90 7 view .LVU129
  90:bsp/can/bsp_can.c ****      {
 489              		.loc 1 90 15 is_stmt 0 view .LVU130
 490 000a 2B4B     		ldr	r3, .L51
 491 000c 93F800C0 		ldrb	ip, [r3]	@ zero_extendqisi2
  90:bsp/can/bsp_can.c ****      {
 492              		.loc 1 90 10 view .LVU131
 493 0010 BCF10F0F 		cmp	ip, #15
 494 0014 13D9     		bls	.L45
 495              	.L37:
  92:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 496              		.loc 1 92 9 is_stmt 1 view .LVU132
  92:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 497              		.loc 1 92 15 view .LVU133
 498 0016 FEE7     		b	.L37
 499              	.LVL28:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 15


 500              	.L47:
  87:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 501              		.loc 1 87 9 view .LVU134
 502 0018 FFF7FEFF 		bl	CANServiceInit
 503              	.LVL29:
  87:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 504              		.loc 1 87 9 is_stmt 0 view .LVU135
 505 001c F5E7     		b	.L35
 506              	.LVL30:
 507              	.L38:
 508              	.LBB4:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 509              		.loc 1 95 36 is_stmt 1 discriminator 2 view .LVU136
 510 001e 0133     		adds	r3, r3, #1
 511              	.LVL31:
 512              	.L36:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 513              		.loc 1 95 28 discriminator 1 view .LVU137
 514 0020 9C45     		cmp	ip, r3
 515 0022 0ED9     		bls	.L48
  97:bsp/can/bsp_can.c ****       {
 516              		.loc 1 97 6 view .LVU138
  97:bsp/can/bsp_can.c ****       {
 517              		.loc 1 97 22 is_stmt 0 view .LVU139
 518 0024 254A     		ldr	r2, .L51+4
 519 0026 52F82320 		ldr	r2, [r2, r3, lsl #2]
  97:bsp/can/bsp_can.c ****       {
 520              		.loc 1 97 25 view .LVU140
 521 002a 92F84D00 		ldrb	r0, [r2, #77]	@ zero_extendqisi2
  97:bsp/can/bsp_can.c ****       {
 522              		.loc 1 97 42 view .LVU141
 523 002e A179     		ldrb	r1, [r4, #6]	@ zero_extendqisi2
  97:bsp/can/bsp_can.c ****       {
 524              		.loc 1 97 9 view .LVU142
 525 0030 8842     		cmp	r0, r1
 526 0032 F4D1     		bne	.L38
  97:bsp/can/bsp_can.c ****       {
 527              		.loc 1 97 68 discriminator 1 view .LVU143
 528 0034 1168     		ldr	r1, [r2]	@ unaligned
  97:bsp/can/bsp_can.c ****       {
 529              		.loc 1 97 90 discriminator 1 view .LVU144
 530 0036 2268     		ldr	r2, [r4]
  97:bsp/can/bsp_can.c ****       {
 531              		.loc 1 97 50 discriminator 1 view .LVU145
 532 0038 9142     		cmp	r1, r2
 533 003a F0D1     		bne	.L38
 534              	.L39:
  99:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 535              		.loc 1 99 10 is_stmt 1 view .LVU146
  99:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 536              		.loc 1 99 16 view .LVU147
 537 003c FEE7     		b	.L39
 538              	.LVL32:
 539              	.L45:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 540              		.loc 1 95 19 is_stmt 0 view .LVU148
 541 003e 0023     		movs	r3, #0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 16


 542 0040 EEE7     		b	.L36
 543              	.LVL33:
 544              	.L48:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 545              		.loc 1 95 19 view .LVU149
 546              	.LBE4:
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 547              		.loc 1 104 5 is_stmt 1 view .LVU150
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 548              		.loc 1 104 44 is_stmt 0 view .LVU151
 549 0042 5720     		movs	r0, #87
 550 0044 FFF7FEFF 		bl	malloc
 551              	.LVL34:
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 552              		.loc 1 104 44 view .LVU152
 553 0048 0546     		mov	r5, r0
 554              	.LVL35:
 105:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
 555              		.loc 1 105 5 is_stmt 1 view .LVU153
 556 004a 5722     		movs	r2, #87
 557 004c 0021     		movs	r1, #0
 558 004e FFF7FEFF 		bl	memset
 559              	.LVL36:
 107:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 560              		.loc 1 107 5 view .LVU154
 107:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 561              		.loc 1 107 14 is_stmt 0 view .LVU155
 562 0052 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 107:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 563              		.loc 1 107 7 view .LVU156
 564 0054 042B     		cmp	r3, #4
 565 0056 03D0     		beq	.L49
 109:bsp/can/bsp_can.c ****         instance->txconf.StdId = config->tx_id; // å‘é€id
 566              		.loc 1 109 11 is_stmt 1 view .LVU157
 109:bsp/can/bsp_can.c ****         instance->txconf.StdId = config->tx_id; // å‘é€id
 567              		.loc 1 109 13 is_stmt 0 view .LVU158
 568 0058 2BB9     		cbnz	r3, .L42
 110:bsp/can/bsp_can.c ****     }
 569              		.loc 1 110 9 is_stmt 1 view .LVU159
 110:bsp/can/bsp_can.c ****     }
 570              		.loc 1 110 40 is_stmt 0 view .LVU160
 571 005a 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 110:bsp/can/bsp_can.c ****     }
 572              		.loc 1 110 32 view .LVU161
 573 005c 6B60     		str	r3, [r5, #4]	@ unaligned
 574 005e 02E0     		b	.L42
 575              	.L49:
 108:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
 576              		.loc 1 108 9 is_stmt 1 view .LVU162
 108:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
 577              		.loc 1 108 48 is_stmt 0 view .LVU163
 578 0060 D4F80730 		ldr	r3, [r4, #7]	@ unaligned
 108:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
 579              		.loc 1 108 32 view .LVU164
 580 0064 AB60     		str	r3, [r5, #8]	@ unaligned
 581              	.L42:
 112:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 17


 582              		.loc 1 112 5 is_stmt 1 view .LVU165
 112:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 583              		.loc 1 112 34 is_stmt 0 view .LVU166
 584 0066 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 112:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 585              		.loc 1 112 26 view .LVU167
 586 0068 EA60     		str	r2, [r5, #12]	@ unaligned
 113:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
 587              		.loc 1 113 5 is_stmt 1 view .LVU168
 114:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 588              		.loc 1 114 5 view .LVU169
 114:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 589              		.loc 1 114 26 is_stmt 0 view .LVU170
 590 006a 0023     		movs	r3, #0
 591 006c 0821     		movs	r1, #8
 592 006e 2975     		strb	r1, [r5, #20]
 593 0070 6B75     		strb	r3, [r5, #21]
 594 0072 AB75     		strb	r3, [r5, #22]
 595 0074 EB75     		strb	r3, [r5, #23]
 116:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 596              		.loc 1 116 5 is_stmt 1 view .LVU171
 116:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 597              		.loc 1 116 34 is_stmt 0 view .LVU172
 598 0076 2368     		ldr	r3, [r4]
 116:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 599              		.loc 1 116 26 view .LVU173
 600 0078 2B60     		str	r3, [r5]	@ unaligned
 117:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 601              		.loc 1 117 5 is_stmt 1 view .LVU174
 117:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 602              		.loc 1 117 29 is_stmt 0 view .LVU175
 603 007a 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 117:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 604              		.loc 1 117 21 view .LVU176
 605 007c 85F83830 		strb	r3, [r5, #56]
 118:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 606              		.loc 1 118 5 is_stmt 1 view .LVU177
 118:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 607              		.loc 1 118 29 is_stmt 0 view .LVU178
 608 0080 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 118:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 609              		.loc 1 118 21 view .LVU179
 610 0082 85F84D30 		strb	r3, [r5, #77]
 119:bsp/can/bsp_can.c ****     instance->id = config->id;
 611              		.loc 1 119 5 is_stmt 1 view .LVU180
 119:bsp/can/bsp_can.c ****     instance->id = config->id;
 612              		.loc 1 119 43 is_stmt 0 view .LVU181
 613 0086 E368     		ldr	r3, [r4, #12]
 119:bsp/can/bsp_can.c ****     instance->id = config->id;
 614              		.loc 1 119 35 view .LVU182
 615 0088 C5F84F30 		str	r3, [r5, #79]	@ unaligned
 120:bsp/can/bsp_can.c **** 
 616              		.loc 1 120 5 is_stmt 1 view .LVU183
 120:bsp/can/bsp_can.c **** 
 617              		.loc 1 120 26 is_stmt 0 view .LVU184
 618 008c 2369     		ldr	r3, [r4, #16]
 120:bsp/can/bsp_can.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 18


 619              		.loc 1 120 18 view .LVU185
 620 008e C5F85330 		str	r3, [r5, #83]	@ unaligned
 123:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 621              		.loc 1 123 5 is_stmt 1 view .LVU186
 123:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 622              		.loc 1 123 7 is_stmt 0 view .LVU187
 623 0092 042A     		cmp	r2, #4
 624 0094 0BD0     		beq	.L50
 126:bsp/can/bsp_can.c ****     }         // æ·»åŠ CANè¿‡æ»¤å™¨è§„åˆ™
 625              		.loc 1 126 10 is_stmt 1 view .LVU188
 626 0096 2846     		mov	r0, r5
 627 0098 FFF7FEFF 		bl	CANAddFilter
 628              	.LVL37:
 629              	.L44:
 128:bsp/can/bsp_can.c **** 
 630              		.loc 1 128 5 view .LVU189
 128:bsp/can/bsp_can.c **** 
 631              		.loc 1 128 21 is_stmt 0 view .LVU190
 632 009c 064A     		ldr	r2, .L51
 633 009e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 634 00a0 591C     		adds	r1, r3, #1
 635 00a2 1170     		strb	r1, [r2]
 128:bsp/can/bsp_can.c **** 
 636              		.loc 1 128 25 view .LVU191
 637 00a4 054A     		ldr	r2, .L51+4
 638 00a6 42F82350 		str	r5, [r2, r3, lsl #2]
 130:bsp/can/bsp_can.c **** }
 639              		.loc 1 130 5 is_stmt 1 view .LVU192
 131:bsp/can/bsp_can.c **** 
 640              		.loc 1 131 1 is_stmt 0 view .LVU193
 641 00aa 2846     		mov	r0, r5
 642 00ac 38BD     		pop	{r3, r4, r5, pc}
 643              	.LVL38:
 644              	.L50:
 124:bsp/can/bsp_can.c ****     }else{
 645              		.loc 1 124 9 is_stmt 1 view .LVU194
 646 00ae 2846     		mov	r0, r5
 647 00b0 FFF7FEFF 		bl	EXTCANAddFilter
 648              	.LVL39:
 649 00b4 F2E7     		b	.L44
 650              	.L52:
 651 00b6 00BF     		.align	2
 652              	.L51:
 653 00b8 00000000 		.word	idx
 654 00bc 00000000 		.word	can_instance
 655              		.cfi_endproc
 656              	.LFE140:
 658              		.section	.text.CANTransmit,"ax",%progbits
 659              		.align	1
 660              		.global	CANTransmit
 661              		.syntax unified
 662              		.thumb
 663              		.thumb_func
 665              	CANTransmit:
 666              	.LVL40:
 667              	.LFB141:
 136:bsp/can/bsp_can.c ****     static uint32_t busy_count;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 19


 668              		.loc 1 136 1 view -0
 669              		.cfi_startproc
 670              		@ args = 0, pretend = 0, frame = 0
 671              		@ frame_needed = 0, uses_anonymous_args = 0
 136:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 672              		.loc 1 136 1 is_stmt 0 view .LVU196
 673 0000 10B5     		push	{r4, lr}
 674              		.cfi_def_cfa_offset 8
 675              		.cfi_offset 4, -8
 676              		.cfi_offset 14, -4
 677 0002 2DED028B 		vpush.64	{d8}
 678              		.cfi_def_cfa_offset 16
 679              		.cfi_offset 80, -16
 680              		.cfi_offset 81, -12
 681 0006 0446     		mov	r4, r0
 682 0008 F0EE408A 		vmov.f32	s17, s0
 137:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 683              		.loc 1 137 5 is_stmt 1 view .LVU197
 138:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 684              		.loc 1 138 5 view .LVU198
 139:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 685              		.loc 1 139 5 view .LVU199
 139:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 686              		.loc 1 139 23 is_stmt 0 view .LVU200
 687 000c FFF7FEFF 		bl	DWT_GetTimeline_ms
 688              	.LVL41:
 139:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 689              		.loc 1 139 23 view .LVU201
 690 0010 B0EE408A 		vmov.f32	s16, s0
 691              	.LVL42:
 140:bsp/can/bsp_can.c ****     {
 692              		.loc 1 140 5 is_stmt 1 view .LVU202
 693              	.L54:
 140:bsp/can/bsp_can.c ****     {
 694              		.loc 1 140 67 view .LVU203
 140:bsp/can/bsp_can.c ****     {
 695              		.loc 1 140 12 is_stmt 0 view .LVU204
 696 0014 2068     		ldr	r0, [r4]	@ unaligned
 697 0016 FFF7FEFF 		bl	HAL_CAN_GetTxMailboxesFreeLevel
 698              	.LVL43:
 140:bsp/can/bsp_can.c ****     {
 699              		.loc 1 140 67 discriminator 1 view .LVU205
 700 001a 80B9     		cbnz	r0, .L61
 142:bsp/can/bsp_can.c ****         {
 701              		.loc 1 142 9 is_stmt 1 view .LVU206
 142:bsp/can/bsp_can.c ****         {
 702              		.loc 1 142 13 is_stmt 0 view .LVU207
 703 001c FFF7FEFF 		bl	DWT_GetTimeline_ms
 704              	.LVL44:
 142:bsp/can/bsp_can.c ****         {
 705              		.loc 1 142 34 discriminator 1 view .LVU208
 706 0020 30EE480A 		vsub.f32	s0, s0, s16
 142:bsp/can/bsp_can.c ****         {
 707              		.loc 1 142 12 discriminator 1 view .LVU209
 708 0024 B4EEE80A 		vcmpe.f32	s0, s17
 709 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 710 002c F2DD     		ble	.L54
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 20


 144:bsp/can/bsp_can.c ****             busy_count++;
 711              		.loc 1 144 105 is_stmt 1 view .LVU210
 145:bsp/can/bsp_can.c ****             return 0;
 712              		.loc 1 145 13 view .LVU211
 145:bsp/can/bsp_can.c ****             return 0;
 713              		.loc 1 145 23 is_stmt 0 view .LVU212
 714 002e 104A     		ldr	r2, .L63
 715 0030 1368     		ldr	r3, [r2]
 716 0032 0133     		adds	r3, r3, #1
 717 0034 1360     		str	r3, [r2]
 146:bsp/can/bsp_can.c ****         }
 718              		.loc 1 146 13 is_stmt 1 view .LVU213
 146:bsp/can/bsp_can.c ****         }
 719              		.loc 1 146 20 is_stmt 0 view .LVU214
 720 0036 0020     		movs	r0, #0
 721              	.L56:
 158:bsp/can/bsp_can.c **** 
 722              		.loc 1 158 1 view .LVU215
 723 0038 BDEC028B 		vldm	sp!, {d8}
 724              		.cfi_remember_state
 725              		.cfi_restore 80
 726              		.cfi_restore 81
 727              		.cfi_def_cfa_offset 8
 728              	.LVL45:
 158:bsp/can/bsp_can.c **** 
 729              		.loc 1 158 1 view .LVU216
 730 003c 10BD     		pop	{r4, pc}
 731              	.LVL46:
 732              	.L61:
 733              		.cfi_restore_state
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 734              		.loc 1 149 5 is_stmt 1 view .LVU217
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 735              		.loc 1 149 17 is_stmt 0 view .LVU218
 736 003e FFF7FEFF 		bl	DWT_GetTimeline_ms
 737              	.LVL47:
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 738              		.loc 1 149 38 discriminator 1 view .LVU219
 739 0042 30EE480A 		vsub.f32	s0, s0, s16
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 740              		.loc 1 149 15 discriminator 1 view .LVU220
 741 0046 0B4B     		ldr	r3, .L63+4
 742 0048 83ED000A 		vstr.32	s0, [r3]
 151:bsp/can/bsp_can.c ****     {
 743              		.loc 1 151 5 is_stmt 1 view .LVU221
 151:bsp/can/bsp_can.c ****     {
 744              		.loc 1 151 9 is_stmt 0 view .LVU222
 745 004c 2346     		mov	r3, r4
 746 004e 53F8390B 		ldr	r0, [r3], #57	@ unaligned
 747 0052 04F13D02 		add	r2, r4, #61
 748 0056 211D     		adds	r1, r4, #4
 749 0058 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 750              	.LVL48:
 151:bsp/can/bsp_can.c ****     {
 751              		.loc 1 151 8 discriminator 1 view .LVU223
 752 005c 08B9     		cbnz	r0, .L62
 157:bsp/can/bsp_can.c **** }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 21


 753              		.loc 1 157 12 view .LVU224
 754 005e 0120     		movs	r0, #1
 755 0060 EAE7     		b	.L56
 756              	.L62:
 154:bsp/can/bsp_can.c ****         return 0;
 757              		.loc 1 154 9 is_stmt 1 view .LVU225
 154:bsp/can/bsp_can.c ****         return 0;
 758              		.loc 1 154 19 is_stmt 0 view .LVU226
 759 0062 034A     		ldr	r2, .L63
 760 0064 1368     		ldr	r3, [r2]
 761 0066 0133     		adds	r3, r3, #1
 762 0068 1360     		str	r3, [r2]
 155:bsp/can/bsp_can.c ****     }
 763              		.loc 1 155 9 is_stmt 1 view .LVU227
 155:bsp/can/bsp_can.c ****     }
 764              		.loc 1 155 16 is_stmt 0 view .LVU228
 765 006a 0020     		movs	r0, #0
 766 006c E4E7     		b	.L56
 767              	.L64:
 768 006e 00BF     		.align	2
 769              	.L63:
 770 0070 00000000 		.word	busy_count.2
 771 0074 00000000 		.word	wait_time.1
 772              		.cfi_endproc
 773              	.LFE141:
 775              		.section	.text.CANSetDLC,"ax",%progbits
 776              		.align	1
 777              		.global	CANSetDLC
 778              		.syntax unified
 779              		.thumb
 780              		.thumb_func
 782              	CANSetDLC:
 783              	.LVL49:
 784              	.LFB142:
 161:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 785              		.loc 1 161 1 is_stmt 1 view -0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 0
 788              		@ frame_needed = 0, uses_anonymous_args = 0
 789              		@ link register save eliminated.
 163:bsp/can/bsp_can.c ****         while (1)
 790              		.loc 1 163 5 view .LVU230
 163:bsp/can/bsp_can.c ****         while (1)
 791              		.loc 1 163 20 is_stmt 0 view .LVU231
 792 0000 4B1E     		subs	r3, r1, #1
 793 0002 DBB2     		uxtb	r3, r3
 163:bsp/can/bsp_can.c ****         while (1)
 794              		.loc 1 163 8 view .LVU232
 795 0004 072B     		cmp	r3, #7
 796 0006 01D9     		bls	.L65
 797              	.L67:
 164:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 798              		.loc 1 164 9 is_stmt 1 view .LVU233
 166:bsp/can/bsp_can.c **** }
 799              		.loc 1 166 5 discriminator 1 view .LVU234
 166:bsp/can/bsp_can.c **** }
 800              		.loc 1 166 27 is_stmt 0 discriminator 1 view .LVU235
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 22


 801 0008 4161     		str	r1, [r0, #20]	@ unaligned
 164:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 802              		.loc 1 164 15 is_stmt 1 view .LVU236
 803 000a FDE7     		b	.L67
 804              	.L65:
 167:bsp/can/bsp_can.c **** 
 805              		.loc 1 167 1 is_stmt 0 view .LVU237
 806 000c 7047     		bx	lr
 807              		.cfi_endproc
 808              	.LFE142:
 810              		.section	.text.HAL_CAN_RxFifo0MsgPendingCallback,"ax",%progbits
 811              		.align	1
 812              		.global	HAL_CAN_RxFifo0MsgPendingCallback
 813              		.syntax unified
 814              		.thumb
 815              		.thumb_func
 817              	HAL_CAN_RxFifo0MsgPendingCallback:
 818              	.LVL50:
 819              	.LFB144:
 211:bsp/can/bsp_can.c **** 
 212:bsp/can/bsp_can.c **** /**
 213:bsp/can/bsp_can.c ****  * @brief æ³¨æ„,STM32çš„ä¸¤ä¸ªCANè®¾å¤‡å…±äº«ä¸¤ä¸ªFIFO
 214:bsp/can/bsp_can.c ****  * ä¸‹é¢ä¸¤ä¸ªå‡½æ•°æ˜¯HALåº“ä¸­çš„å›è°ƒå‡½æ•°,ä»–ä»¬è¢«HALå£°æ˜ä¸º__weak,è¿™é‡Œå¯¹ä»–ä»¬è¿›è¡Œé
 215:bsp/can/bsp_can.c ****  * å½“FIFO0æˆ–FIFO1æº¢å‡ºæ—¶ä¼šè°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°
 216:bsp/can/bsp_can.c ****  */
 217:bsp/can/bsp_can.c **** // ä¸‹é¢çš„å‡½æ•°ä¼šè°ƒç”¨CANFIFOxCallback()æ¥è¿›ä¸€æ­¥å¤„ç†æ¥è‡ªç‰¹å®šCANè®¾å¤‡çš„æ¶ˆæ¯
 218:bsp/can/bsp_can.c **** 
 219:bsp/can/bsp_can.c **** /**
 220:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_0 is full,this func would be called
 221:bsp/can/bsp_can.c ****  *
 222:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_0 comes from
 223:bsp/can/bsp_can.c ****  */
 224:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *hcan)
 225:bsp/can/bsp_can.c **** {
 820              		.loc 1 225 1 is_stmt 1 view -0
 821              		.cfi_startproc
 822              		@ args = 0, pretend = 0, frame = 0
 823              		@ frame_needed = 0, uses_anonymous_args = 0
 824              		.loc 1 225 1 is_stmt 0 view .LVU239
 825 0000 08B5     		push	{r3, lr}
 826              		.cfi_def_cfa_offset 8
 827              		.cfi_offset 3, -8
 828              		.cfi_offset 14, -4
 226:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO0); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 829              		.loc 1 226 5 is_stmt 1 view .LVU240
 830 0002 0021     		movs	r1, #0
 831 0004 FFF7FEFF 		bl	CANFIFOxCallback
 832              	.LVL51:
 227:bsp/can/bsp_can.c **** }
 833              		.loc 1 227 1 is_stmt 0 view .LVU241
 834 0008 08BD     		pop	{r3, pc}
 835              		.cfi_endproc
 836              	.LFE144:
 838              		.section	.text.HAL_CAN_RxFifo1MsgPendingCallback,"ax",%progbits
 839              		.align	1
 840              		.global	HAL_CAN_RxFifo1MsgPendingCallback
 841              		.syntax unified
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 23


 842              		.thumb
 843              		.thumb_func
 845              	HAL_CAN_RxFifo1MsgPendingCallback:
 846              	.LVL52:
 847              	.LFB145:
 228:bsp/can/bsp_can.c **** 
 229:bsp/can/bsp_can.c **** /**
 230:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_1 is full,this func would be called
 231:bsp/can/bsp_can.c ****  *
 232:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_1 comes from
 233:bsp/can/bsp_can.c ****  */
 234:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo1MsgPendingCallback(CAN_HandleTypeDef *hcan)
 235:bsp/can/bsp_can.c **** {
 848              		.loc 1 235 1 is_stmt 1 view -0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 0
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 852              		.loc 1 235 1 is_stmt 0 view .LVU243
 853 0000 08B5     		push	{r3, lr}
 854              		.cfi_def_cfa_offset 8
 855              		.cfi_offset 3, -8
 856              		.cfi_offset 14, -4
 236:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO1); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 857              		.loc 1 236 5 is_stmt 1 view .LVU244
 858 0002 0121     		movs	r1, #1
 859 0004 FFF7FEFF 		bl	CANFIFOxCallback
 860              	.LVL53:
 237:bsp/can/bsp_can.c **** }
 861              		.loc 1 237 1 is_stmt 0 view .LVU245
 862 0008 08BD     		pop	{r3, pc}
 863              		.cfi_endproc
 864              	.LFE145:
 866              		.section	.bss.rxconf.0,"aw",%nobits
 867              		.align	2
 870              	rxconf.0:
 871 0000 00000000 		.space	28
 871      00000000 
 871      00000000 
 871      00000000 
 871      00000000 
 872              		.section	.bss.wait_time.1,"aw",%nobits
 873              		.align	2
 876              	wait_time.1:
 877 0000 00000000 		.space	4
 878              		.section	.bss.busy_count.2,"aw",%nobits
 879              		.align	2
 882              	busy_count.2:
 883 0000 00000000 		.space	4
 884              		.section	.data.can2_filter_idx.3,"aw"
 887              	can2_filter_idx.3:
 888 0000 0E       		.byte	14
 889              		.section	.bss.can1_filter_idx.4,"aw",%nobits
 892              	can1_filter_idx.4:
 893 0000 00       		.space	1
 894              		.section	.data.can2_filter_idx.5,"aw"
 897              	can2_filter_idx.5:
 898 0000 17       		.byte	23
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 24


 899              		.section	.data.can1_filter_idx.6,"aw"
 902              	can1_filter_idx.6:
 903 0000 08       		.byte	8
 904              		.section	.bss.idx,"aw",%nobits
 907              	idx:
 908 0000 00       		.space	1
 909              		.section	.bss.can_instance,"aw",%nobits
 910              		.align	2
 913              	can_instance:
 914 0000 00000000 		.space	64
 914      00000000 
 914      00000000 
 914      00000000 
 914      00000000 
 915              		.text
 916              	.Letext0:
 917              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 918              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 919              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 920              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 921              		.file 6 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 922              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 923              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 924              		.file 9 "Core/Inc/can.h"
 925              		.file 10 "bsp/can/bsp_can.h"
 926              		.file 11 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 927              		.file 12 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 928              		.file 13 "<built-in>"
 929              		.file 14 "bsp/dwt/bsp_dwt.h"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_can.c
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:21     .text.CANServiceInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:26     .text.CANServiceInit:00000000 CANServiceInit
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:71     .text.CANServiceInit:00000034 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:77     .text.EXTCANAddFilter:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:82     .text.EXTCANAddFilter:00000000 EXTCANAddFilter
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:174    .text.EXTCANAddFilter:00000058 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:897    .data.can2_filter_idx.5:00000000 can2_filter_idx.5
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:902    .data.can1_filter_idx.6:00000000 can1_filter_idx.6
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:181    .text.CANAddFilter:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:186    .text.CANAddFilter:00000000 CANAddFilter
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:272    .text.CANAddFilter:00000054 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:887    .data.can2_filter_idx.3:00000000 can2_filter_idx.3
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:892    .bss.can1_filter_idx.4:00000000 can1_filter_idx.4
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:279    .text.CANFIFOxCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:284    .text.CANFIFOxCallback:00000000 CANFIFOxCallback
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:450    .text.CANFIFOxCallback:000000b4 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:870    .bss.rxconf.0:00000000 rxconf.0
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:907    .bss.idx:00000000 idx
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:913    .bss.can_instance:00000000 can_instance
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:458    .text.CANRegister:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:464    .text.CANRegister:00000000 CANRegister
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:653    .text.CANRegister:000000b8 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:659    .text.CANTransmit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:665    .text.CANTransmit:00000000 CANTransmit
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:770    .text.CANTransmit:00000070 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:882    .bss.busy_count.2:00000000 busy_count.2
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:876    .bss.wait_time.1:00000000 wait_time.1
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:776    .text.CANSetDLC:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:782    .text.CANSetDLC:00000000 CANSetDLC
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:811    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:817    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 HAL_CAN_RxFifo0MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:839    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:845    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 HAL_CAN_RxFifo1MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:867    .bss.rxconf.0:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:873    .bss.wait_time.1:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:879    .bss.busy_count.2:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:893    .bss.can1_filter_idx.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:908    .bss.idx:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cckJSwJa.s:910    .bss.can_instance:00000000 $d

UNDEFINED SYMBOLS
HAL_CAN_Start
HAL_CAN_ActivateNotification
hcan1
hcan2
HAL_CAN_ConfigFilter
HAL_CAN_GetRxFifoFillLevel
HAL_CAN_GetRxMessage
memcpy
malloc
memset
DWT_GetTimeline_ms
HAL_CAN_GetTxMailboxesFreeLevel
HAL_CAN_AddTxMessage
