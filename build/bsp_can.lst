ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_can.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "bsp/can/bsp_can.c"
  20              		.section	.text.CANServiceInit,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	CANServiceInit:
  27              	.LFB138:
   1:bsp/can/bsp_can.c **** #include "bsp_can.h"
   2:bsp/can/bsp_can.c **** #include "main.h"
   3:bsp/can/bsp_can.c **** #include "memory.h"
   4:bsp/can/bsp_can.c **** #include "stdlib.h"
   5:bsp/can/bsp_can.c **** #include "bsp_dwt.h"
   6:bsp/can/bsp_can.c **** #include "bsp_log.h"
   7:bsp/can/bsp_can.c **** 
   8:bsp/can/bsp_can.c **** /* can instance ptrs storage, used for recv callback */
   9:bsp/can/bsp_can.c **** // åœ¨CANäº§ç”Ÿæ¥æ”¶ä¸­æ–­ä¼šéå†æ•°ç»„,é€‰å‡ºhcanå’Œrxidä¸å‘ç”Ÿä¸­æ–­çš„å®ä¾‹ç›¸åŒçš„é‚£ä¸ª
  10:bsp/can/bsp_can.c **** // @todo: åç»­ä¸ºæ¯ä¸ªCANæ€»çº¿å•ç‹¬æ·»åŠ ä¸€ä¸ªcan_instanceæŒ‡é’ˆæ•°ç»„,æé«˜å›è°ƒæŸ¥æ‰¾çš„æ
  11:bsp/can/bsp_can.c **** static CANInstance *can_instance[CAN_MX_REGISTER_CNT] = {NULL};
  12:bsp/can/bsp_can.c **** static uint8_t idx; // å…¨å±€CANå®ä¾‹ç´¢å¼•,æ¯æ¬¡æœ‰æ–°çš„æ¨¡å—æ³¨å†Œä¼šè‡ªå¢
  13:bsp/can/bsp_can.c **** 
  14:bsp/can/bsp_can.c **** /* ----------------two static function called by CANRegister()-------------------- */
  15:bsp/can/bsp_can.c **** 
  16:bsp/can/bsp_can.c **** /**
  17:bsp/can/bsp_can.c ****  * @brief æ·»åŠ è¿‡æ»¤å™¨ä»¥å®ç°å¯¹ç‰¹å®šidçš„æŠ¥æ–‡çš„æ¥æ”¶,ä¼šè¢«CANRegister()è°ƒç”¨
  18:bsp/can/bsp_can.c ****  *        ç»™CANæ·»åŠ è¿‡æ»¤å™¨å,BxCANä¼šæ ¹æ®æ¥æ”¶åˆ°çš„æŠ¥æ–‡çš„idè¿›è¡Œæ¶ˆæ¯è¿‡æ»¤,ç¬¦åˆè§
  19:bsp/can/bsp_can.c ****  *
  20:bsp/can/bsp_can.c ****  * @note f407çš„bxCANæœ‰28ä¸ªè¿‡æ»¤å™¨,è¿™é‡Œå°†å…¶é…ç½®ä¸ºå‰14ä¸ªè¿‡æ»¤å™¨ç»™CAN1ä½¿ç”¨,å14ä¸ª
  21:bsp/can/bsp_can.c ****  *       åˆå§‹åŒ–æ—¶,å¥‡æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO0,å¶æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO1
  22:bsp/can/bsp_can.c ****  *       æ³¨å†Œåˆ°CAN1çš„æ¨¡å—ä½¿ç”¨è¿‡æ»¤å™¨0-13,CAN2ä½¿ç”¨è¿‡æ»¤å™¨14-27
  23:bsp/can/bsp_can.c ****  *
  24:bsp/can/bsp_can.c ****  * @attention ä½ ä¸éœ€è¦å®Œå…¨ç†è§£è¿™ä¸ªå‡½æ•°çš„ä½œç”¨,å› ä¸ºå®ƒä¸»è¦æ˜¯ç”¨äºåˆå§‹åŒ–,åœ¨å¼
  25:bsp/can/bsp_can.c ****  *            äº«å—å¼€å‘çš„ä¹è¶£å§!å¦‚æœä½ çœŸçš„æƒ³çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨å¹²ä»€ä¹ˆ,è¯·è”ç³»ä½
  26:bsp/can/bsp_can.c ****  *
  27:bsp/can/bsp_can.c ****  * @param _instance can instance owned by specific module
  28:bsp/can/bsp_can.c ****  */
  29:bsp/can/bsp_can.c **** static void CANAddFilter(CANInstance *_instance)
  30:bsp/can/bsp_can.c **** {
  31:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 2


  32:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
  33:bsp/can/bsp_can.c **** 
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterMode = CAN_FILTERMODE_IDLIST;                                            
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
  36:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
  37:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
  40:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
  41:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
  42:bsp/can/bsp_can.c **** }
  43:bsp/can/bsp_can.c **** 
  44:bsp/can/bsp_can.c **** /**
  45:bsp/can/bsp_can.c ****  * @brief åœ¨ç¬¬ä¸€ä¸ªCANå®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°,å¯åŠ¨CANæœåŠ¡
  46:bsp/can/bsp_can.c ****  *
  47:bsp/can/bsp_can.c ****  * @note æ­¤å‡½æ•°ä¼šå¯åŠ¨CAN1å’ŒCAN2,å¼€å¯CAN1å’ŒCAN2çš„FIFO0 & FIFO1æº¢å‡ºé€šçŸ¥
  48:bsp/can/bsp_can.c ****  *
  49:bsp/can/bsp_can.c ****  */
  50:bsp/can/bsp_can.c **** static void CANServiceInit()
  51:bsp/can/bsp_can.c **** {
  28              		.loc 1 51 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 10B5     		push	{r4, lr}
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
  52:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan1);
  36              		.loc 1 52 5 view .LVU1
  37 0002 0C4C     		ldr	r4, .L3
  38 0004 2046     		mov	r0, r4
  39 0006 FFF7FEFF 		bl	HAL_CAN_Start
  40              	.LVL0:
  53:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO0_MSG_PENDING);
  41              		.loc 1 53 5 view .LVU2
  42 000a 0221     		movs	r1, #2
  43 000c 2046     		mov	r0, r4
  44 000e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  45              	.LVL1:
  54:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO1_MSG_PENDING);
  46              		.loc 1 54 5 view .LVU3
  47 0012 1021     		movs	r1, #16
  48 0014 2046     		mov	r0, r4
  49 0016 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  50              	.LVL2:
  55:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan2);
  51              		.loc 1 55 5 view .LVU4
  52 001a 074C     		ldr	r4, .L3+4
  53 001c 2046     		mov	r0, r4
  54 001e FFF7FEFF 		bl	HAL_CAN_Start
  55              	.LVL3:
  56:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO0_MSG_PENDING);
  56              		.loc 1 56 5 view .LVU5
  57 0022 0221     		movs	r1, #2
  58 0024 2046     		mov	r0, r4
  59 0026 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 3


  60              	.LVL4:
  57:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO1_MSG_PENDING);
  61              		.loc 1 57 5 view .LVU6
  62 002a 1021     		movs	r1, #16
  63 002c 2046     		mov	r0, r4
  64 002e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  65              	.LVL5:
  58:bsp/can/bsp_can.c **** }
  66              		.loc 1 58 1 is_stmt 0 view .LVU7
  67 0032 10BD     		pop	{r4, pc}
  68              	.L4:
  69              		.align	2
  70              	.L3:
  71 0034 00000000 		.word	hcan1
  72 0038 00000000 		.word	hcan2
  73              		.cfi_endproc
  74              	.LFE138:
  76              		.section	.text.CANAddFilter,"ax",%progbits
  77              		.align	1
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	CANAddFilter:
  83              	.LVL6:
  84              	.LFB137:
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
  85              		.loc 1 30 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 40
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
  89              		.loc 1 30 1 is_stmt 0 view .LVU9
  90 0000 00B5     		push	{lr}
  91              		.cfi_def_cfa_offset 4
  92              		.cfi_offset 14, -4
  93 0002 8BB0     		sub	sp, sp, #44
  94              		.cfi_def_cfa_offset 48
  31:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
  95              		.loc 1 31 5 is_stmt 1 view .LVU10
  32:bsp/can/bsp_can.c **** 
  96              		.loc 1 32 5 view .LVU11
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
  97              		.loc 1 34 5 view .LVU12
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
  98              		.loc 1 34 32 is_stmt 0 view .LVU13
  99 0004 0123     		movs	r3, #1
 100 0006 0693     		str	r3, [sp, #24]
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 101              		.loc 1 35 5 is_stmt 1 view .LVU14
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 102              		.loc 1 35 33 is_stmt 0 view .LVU15
 103 0008 0023     		movs	r3, #0
 104 000a 0793     		str	r3, [sp, #28]
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 105              		.loc 1 36 5 is_stmt 1 view .LVU16
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 106              		.loc 1 36 54 is_stmt 0 view .LVU17
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 4


 107 000c C369     		ldr	r3, [r0, #28]	@ unaligned
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 108              		.loc 1 36 82 view .LVU18
 109 000e 13F0010F 		tst	r3, #1
 110 0012 0CBF     		ite	eq
 111 0014 0123     		moveq	r3, #1
 112 0016 0023     		movne	r3, #0
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 113              		.loc 1 36 42 view .LVU19
 114 0018 0493     		str	r3, [sp, #16]
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
 115              		.loc 1 37 5 is_stmt 1 view .LVU20
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
 116              		.loc 1 37 42 is_stmt 0 view .LVU21
 117 001a 0E23     		movs	r3, #14
 118 001c 0993     		str	r3, [sp, #36]
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 119              		.loc 1 38 5 is_stmt 1 view .LVU22
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 120              		.loc 1 38 44 is_stmt 0 view .LVU23
 121 001e 436B     		ldr	r3, [r0, #52]	@ unaligned
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 122              		.loc 1 38 52 view .LVU24
 123 0020 5B01     		lsls	r3, r3, #5
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 124              		.loc 1 38 33 view .LVU25
 125 0022 0193     		str	r3, [sp, #4]
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 126              		.loc 1 39 5 is_stmt 1 view .LVU26
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 127              		.loc 1 39 43 is_stmt 0 view .LVU27
 128 0024 0268     		ldr	r2, [r0]	@ unaligned
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 129              		.loc 1 39 88 view .LVU28
 130 0026 0B4B     		ldr	r3, .L10
 131 0028 9A42     		cmp	r2, r3
 132 002a 0DD0     		beq	.L9
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 133              		.loc 1 39 106 discriminator 2 view .LVU29
 134 002c 0A4A     		ldr	r2, .L10+4
 135 002e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 136 0030 591C     		adds	r1, r3, #1
 137 0032 1170     		strb	r1, [r2]
 138              	.L7:
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 139              		.loc 1 39 32 discriminator 4 view .LVU30
 140 0034 0593     		str	r3, [sp, #20]
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 141              		.loc 1 40 5 is_stmt 1 view .LVU31
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 142              		.loc 1 40 38 is_stmt 0 view .LVU32
 143 0036 0123     		movs	r3, #1
 144 0038 0893     		str	r3, [sp, #32]
  41:bsp/can/bsp_can.c **** }
 145              		.loc 1 41 5 is_stmt 1 view .LVU33
 146 003a 6946     		mov	r1, sp
 147 003c 0068     		ldr	r0, [r0]	@ unaligned
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 5


 148              	.LVL7:
  41:bsp/can/bsp_can.c **** }
 149              		.loc 1 41 5 is_stmt 0 view .LVU34
 150 003e FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 151              	.LVL8:
  42:bsp/can/bsp_can.c **** 
 152              		.loc 1 42 1 view .LVU35
 153 0042 0BB0     		add	sp, sp, #44
 154              		.cfi_remember_state
 155              		.cfi_def_cfa_offset 4
 156              		@ sp needed
 157 0044 5DF804FB 		ldr	pc, [sp], #4
 158              	.LVL9:
 159              	.L9:
 160              		.cfi_restore_state
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 161              		.loc 1 39 84 discriminator 1 view .LVU36
 162 0048 044A     		ldr	r2, .L10+8
 163 004a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 164 004c 591C     		adds	r1, r3, #1
 165 004e 1170     		strb	r1, [r2]
 166 0050 F0E7     		b	.L7
 167              	.L11:
 168 0052 00BF     		.align	2
 169              	.L10:
 170 0054 00000000 		.word	hcan1
 171 0058 00000000 		.word	can2_filter_idx.3
 172 005c 00000000 		.word	can1_filter_idx.4
 173              		.cfi_endproc
 174              	.LFE137:
 176              		.section	.text.CANFIFOxCallback,"ax",%progbits
 177              		.align	1
 178              		.syntax unified
 179              		.thumb
 180              		.thumb_func
 182              	CANFIFOxCallback:
 183              	.LVL10:
 184              	.LFB142:
  59:bsp/can/bsp_can.c **** 
  60:bsp/can/bsp_can.c **** /* ----------------------- two extern callable function -----------------------*/
  61:bsp/can/bsp_can.c **** 
  62:bsp/can/bsp_can.c **** CANInstance *CANRegister(CAN_Init_Config_s *config)
  63:bsp/can/bsp_can.c **** {
  64:bsp/can/bsp_can.c ****     if (!idx)
  65:bsp/can/bsp_can.c ****     {
  66:bsp/can/bsp_can.c ****         CANServiceInit(); // ç¬¬ä¸€æ¬¡æ³¨å†Œ,å…ˆè¿›è¡Œç¡¬ä»¶åˆå§‹åŒ–
  67:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
  68:bsp/can/bsp_can.c ****       }
  69:bsp/can/bsp_can.c ****       if (idx >= CAN_MX_REGISTER_CNT) // è¶…è¿‡æœ€å¤§å®ä¾‹æ•°
  70:bsp/can/bsp_can.c ****      {
  71:bsp/can/bsp_can.c ****         while (1)
  72:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
  73:bsp/can/bsp_can.c ****       }
  74:bsp/can/bsp_can.c ****       for (size_t i = 0; i < idx; i++)
  75:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
  76:bsp/can/bsp_can.c ****      if (can_instance[i]->rx_id == config->rx_id && can_instance[i]->can_handle == config->can_hand
  77:bsp/can/bsp_can.c ****       {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 6


  78:bsp/can/bsp_can.c ****          while (1)
  79:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
  80:bsp/can/bsp_can.c ****       }      
  81:bsp/can/bsp_can.c ****      }
  82:bsp/can/bsp_can.c ****     
  83:bsp/can/bsp_can.c ****     CANInstance *instance = (CANInstance *)malloc(sizeof(CANInstance)); // åˆ†é…ç©ºé—´
  84:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
  85:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
  86:bsp/can/bsp_can.c ****     instance->txconf.StdId = config->tx_id; // å‘é€id
  87:bsp/can/bsp_can.c ****     instance->txconf.IDE = CAN_ID_STD;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰æ²¡
  88:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
  89:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
  90:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
  91:bsp/can/bsp_can.c ****     instance->can_handle = config->can_handle;
  92:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
  93:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
  94:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
  95:bsp/can/bsp_can.c ****     instance->id = config->id;
  96:bsp/can/bsp_can.c **** 
  97:bsp/can/bsp_can.c ****     CANAddFilter(instance);         // æ·»åŠ CANè¿‡æ»¤å™¨è§„åˆ™
  98:bsp/can/bsp_can.c ****     can_instance[idx++] = instance; // å°†å®ä¾‹ä¿å­˜åˆ°can_instanceä¸­
  99:bsp/can/bsp_can.c **** 
 100:bsp/can/bsp_can.c ****     return instance; // è¿”å›canå®ä¾‹æŒ‡é’ˆ
 101:bsp/can/bsp_can.c **** }
 102:bsp/can/bsp_can.c **** 
 103:bsp/can/bsp_can.c **** /* @todo ç›®å‰ä¼¼ä¹å°è£…è¿‡åº¦,åº”è¯¥æ·»åŠ ä¸€ä¸ªæŒ‡å‘tx_buffçš„æŒ‡é’ˆ,tx_buffä¸åº”è¯¥ç”±CAN i
 104:bsp/can/bsp_can.c **** /* å¦‚æœè®©CANinstanceä¿å­˜txbuff,ä¼šå¢åŠ ä¸€æ¬¡å¤åˆ¶çš„å¼€é”€ */
 105:bsp/can/bsp_can.c **** uint8_t CANTransmit(CANInstance *_instance, float timeout)
 106:bsp/can/bsp_can.c **** {
 107:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 108:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 109:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 110:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 111:bsp/can/bsp_can.c ****     {
 112:bsp/can/bsp_can.c ****         if (DWT_GetTimeline_ms() - dwt_start > timeout) // è¶…æ—¶
 113:bsp/can/bsp_can.c ****         {
 114:bsp/can/bsp_can.c ****             LOGWARNING("[bsp_can] CAN MAILbox full! failed to add msg to mailbox. Cnt [%d]", busy_c
 115:bsp/can/bsp_can.c ****             busy_count++;
 116:bsp/can/bsp_can.c ****             return 0;
 117:bsp/can/bsp_can.c ****         }
 118:bsp/can/bsp_can.c ****     }
 119:bsp/can/bsp_can.c ****     wait_time = DWT_GetTimeline_ms() - dwt_start;
 120:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 121:bsp/can/bsp_can.c ****     if (HAL_CAN_AddTxMessage(_instance->can_handle, &_instance->txconf, _instance->tx_buff, &_insta
 122:bsp/can/bsp_can.c ****     {
 123:bsp/can/bsp_can.c ****         // LOGWARNING("[bsp_can] CAN bus BUS! cnt:%d", busy_count);
 124:bsp/can/bsp_can.c ****         busy_count++;
 125:bsp/can/bsp_can.c ****         return 0;
 126:bsp/can/bsp_can.c ****     }
 127:bsp/can/bsp_can.c ****     return 1; // å‘é€æˆåŠŸ
 128:bsp/can/bsp_can.c **** }
 129:bsp/can/bsp_can.c **** 
 130:bsp/can/bsp_can.c **** void CANSetDLC(CANInstance *_instance, uint8_t length)
 131:bsp/can/bsp_can.c **** {
 132:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 133:bsp/can/bsp_can.c ****     if (length > 8 || length == 0) // å®‰å…¨æ£€æŸ¥
 134:bsp/can/bsp_can.c ****         while (1)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 7


 135:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 136:bsp/can/bsp_can.c ****     _instance->txconf.DLC = length;
 137:bsp/can/bsp_can.c **** }
 138:bsp/can/bsp_can.c **** 
 139:bsp/can/bsp_can.c **** /* -----------------------belows are callback definitions--------------------------*/
 140:bsp/can/bsp_can.c **** 
 141:bsp/can/bsp_can.c **** /**
 142:bsp/can/bsp_can.c ****  * @brief æ­¤å‡½æ•°ä¼šè¢«ä¸‹é¢ä¸¤ä¸ªå‡½æ•°è°ƒç”¨,ç”¨äºå¤„ç†FIFO0å’ŒFIFO1æº¢å‡ºä¸­æ–­(è¯´æ˜æ”¶åˆ
 143:bsp/can/bsp_can.c ****  *        æ‰€æœ‰çš„å®ä¾‹éƒ½ä¼šè¢«éå†,æ‰¾åˆ°can_handleå’Œrx_idç›¸ç­‰çš„å®ä¾‹æ—¶,è°ƒç”¨è¯¥å®ä¾‹
 144:bsp/can/bsp_can.c ****  *
 145:bsp/can/bsp_can.c ****  * @param _hcan
 146:bsp/can/bsp_can.c ****  * @param fifox passed to HAL_CAN_GetRxMessage() to get mesg from a specific fifo
 147:bsp/can/bsp_can.c ****  */
 148:bsp/can/bsp_can.c **** static void CANFIFOxCallback(CAN_HandleTypeDef *_hcan, uint32_t fifox)
 149:bsp/can/bsp_can.c **** {
 185              		.loc 1 149 1 is_stmt 1 view -0
 186              		.cfi_startproc
 187              		@ args = 0, pretend = 0, frame = 8
 188              		@ frame_needed = 0, uses_anonymous_args = 0
 189              		.loc 1 149 1 is_stmt 0 view .LVU38
 190 0000 70B5     		push	{r4, r5, r6, lr}
 191              		.cfi_def_cfa_offset 16
 192              		.cfi_offset 4, -16
 193              		.cfi_offset 5, -12
 194              		.cfi_offset 6, -8
 195              		.cfi_offset 14, -4
 196 0002 82B0     		sub	sp, sp, #8
 197              		.cfi_def_cfa_offset 24
 198 0004 0546     		mov	r5, r0
 199 0006 0E46     		mov	r6, r1
 150:bsp/can/bsp_can.c ****     static CAN_RxHeaderTypeDef rxconf; // åŒä¸Š
 200              		.loc 1 150 5 is_stmt 1 view .LVU39
 151:bsp/can/bsp_can.c ****     uint8_t can_rx_buff[8];
 201              		.loc 1 151 5 view .LVU40
 152:bsp/can/bsp_can.c ****     while (HAL_CAN_GetRxFifoFillLevel(_hcan, fifox)) // FIFOä¸ä¸ºç©º,æœ‰å¯èƒ½åœ¨å…¶ä»–ä¸­æ–­æ—¶æœ
 202              		.loc 1 152 5 view .LVU41
 203              	.LVL11:
 204              	.L13:
 205              		.loc 1 152 12 view .LVU42
 206 0008 3146     		mov	r1, r6
 207 000a 2846     		mov	r0, r5
 208 000c FFF7FEFF 		bl	HAL_CAN_GetRxFifoFillLevel
 209              	.LVL12:
 210              		.loc 1 152 12 is_stmt 0 discriminator 1 view .LVU43
 211 0010 48B3     		cbz	r0, .L12
 153:bsp/can/bsp_can.c ****     {
 154:bsp/can/bsp_can.c ****         HAL_CAN_GetRxMessage(_hcan, fifox, &rxconf, can_rx_buff); // ä»FIFOä¸­è·å–æ•°æ®
 212              		.loc 1 154 9 is_stmt 1 view .LVU44
 213 0012 6B46     		mov	r3, sp
 214 0014 154A     		ldr	r2, .L21
 215 0016 3146     		mov	r1, r6
 216 0018 2846     		mov	r0, r5
 217 001a FFF7FEFF 		bl	HAL_CAN_GetRxMessage
 218              	.LVL13:
 155:bsp/can/bsp_can.c ****         for (size_t i = 0; i < idx; ++i)
 219              		.loc 1 155 9 view .LVU45
 220              	.LBB2:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 8


 221              		.loc 1 155 14 view .LVU46
 222              		.loc 1 155 21 is_stmt 0 view .LVU47
 223 001e 0024     		movs	r4, #0
 224              		.loc 1 155 9 view .LVU48
 225 0020 00E0     		b	.L14
 226              	.LVL14:
 227              	.L15:
 228              		.loc 1 155 37 is_stmt 1 discriminator 2 view .LVU49
 229 0022 0134     		adds	r4, r4, #1
 230              	.LVL15:
 231              	.L14:
 232              		.loc 1 155 30 discriminator 1 view .LVU50
 233 0024 124B     		ldr	r3, .L21+4
 234 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 235 0028 A342     		cmp	r3, r4
 236 002a EDD9     		bls	.L13
 156:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 157:bsp/can/bsp_can.c ****             if (_hcan == can_instance[i]->can_handle && rxconf.StdId == can_instance[i]->rx_id)
 237              		.loc 1 157 13 view .LVU51
 238              		.loc 1 157 38 is_stmt 0 view .LVU52
 239 002c 114B     		ldr	r3, .L21+8
 240 002e 53F82430 		ldr	r3, [r3, r4, lsl #2]
 241              		.loc 1 157 41 view .LVU53
 242 0032 1A68     		ldr	r2, [r3]	@ unaligned
 243              		.loc 1 157 16 view .LVU54
 244 0034 AA42     		cmp	r2, r5
 245 0036 F4D1     		bne	.L15
 246              		.loc 1 157 63 discriminator 1 view .LVU55
 247 0038 0C4A     		ldr	r2, .L21
 248 003a 1168     		ldr	r1, [r2]
 249              		.loc 1 157 88 discriminator 1 view .LVU56
 250 003c 5A6B     		ldr	r2, [r3, #52]	@ unaligned
 251              		.loc 1 157 54 discriminator 1 view .LVU57
 252 003e 9142     		cmp	r1, r2
 253 0040 EFD1     		bne	.L15
 158:bsp/can/bsp_can.c ****             {
 159:bsp/can/bsp_can.c ****                 if (can_instance[i]->can_module_callback != NULL) // å›è°ƒå‡½æ•°ä¸ä¸ºç©ºå°±è°ƒç”¨
 254              		.loc 1 159 17 is_stmt 1 view .LVU58
 255              		.loc 1 159 36 is_stmt 0 view .LVU59
 256 0042 D3F83920 		ldr	r2, [r3, #57]	@ unaligned
 257              		.loc 1 159 20 view .LVU60
 258 0046 72B1     		cbz	r2, .L12
 160:bsp/can/bsp_can.c ****                 {
 161:bsp/can/bsp_can.c ****                     can_instance[i]->rx_len = rxconf.DLC;                      // ä¿å­˜æ¥æ”¶åˆ°çš
 259              		.loc 1 161 21 is_stmt 1 view .LVU61
 260              		.loc 1 161 53 is_stmt 0 view .LVU62
 261 0048 084A     		ldr	r2, .L21
 262 004a 1269     		ldr	r2, [r2, #16]
 263              		.loc 1 161 45 view .LVU63
 264 004c 83F83820 		strb	r2, [r3, #56]
 162:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 265              		.loc 1 162 21 is_stmt 1 view .LVU64
 266              		.loc 1 162 40 is_stmt 0 view .LVU65
 267 0050 084D     		ldr	r5, .L21+8
 268              	.LVL16:
 269              		.loc 1 162 40 view .LVU66
 270 0052 1846     		mov	r0, r3
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 9


 271              		.loc 1 162 21 view .LVU67
 272 0054 6946     		mov	r1, sp
 273 0056 2C30     		adds	r0, r0, #44
 274 0058 FFF7FEFF 		bl	memcpy
 275              	.LVL17:
 163:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 276              		.loc 1 163 21 is_stmt 1 view .LVU68
 277              		.loc 1 163 33 is_stmt 0 view .LVU69
 278 005c 55F82400 		ldr	r0, [r5, r4, lsl #2]
 279              		.loc 1 163 36 view .LVU70
 280 0060 D0F83930 		ldr	r3, [r0, #57]	@ unaligned
 281              		.loc 1 163 21 view .LVU71
 282 0064 9847     		blx	r3
 283              	.LVL18:
 164:bsp/can/bsp_can.c ****                 }
 165:bsp/can/bsp_can.c ****                 return;
 284              		.loc 1 165 17 is_stmt 1 view .LVU72
 285              	.L12:
 286              		.loc 1 165 17 is_stmt 0 view .LVU73
 287              	.LBE2:
 166:bsp/can/bsp_can.c ****             }
 167:bsp/can/bsp_can.c ****         }
 168:bsp/can/bsp_can.c ****     }
 169:bsp/can/bsp_can.c **** }
 288              		.loc 1 169 1 view .LVU74
 289 0066 02B0     		add	sp, sp, #8
 290              		.cfi_def_cfa_offset 16
 291              		@ sp needed
 292 0068 70BD     		pop	{r4, r5, r6, pc}
 293              	.LVL19:
 294              	.L22:
 295              		.loc 1 169 1 view .LVU75
 296 006a 00BF     		.align	2
 297              	.L21:
 298 006c 00000000 		.word	rxconf.0
 299 0070 00000000 		.word	idx
 300 0074 00000000 		.word	can_instance
 301              		.cfi_endproc
 302              	.LFE142:
 304              		.section	.text.CANRegister,"ax",%progbits
 305              		.align	1
 306              		.global	CANRegister
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 311              	CANRegister:
 312              	.LVL20:
 313              	.LFB139:
  63:bsp/can/bsp_can.c ****     if (!idx)
 314              		.loc 1 63 1 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
  63:bsp/can/bsp_can.c ****     if (!idx)
 318              		.loc 1 63 1 is_stmt 0 view .LVU77
 319 0000 38B5     		push	{r3, r4, r5, lr}
 320              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 10


 321              		.cfi_offset 3, -16
 322              		.cfi_offset 4, -12
 323              		.cfi_offset 5, -8
 324              		.cfi_offset 14, -4
 325 0002 0446     		mov	r4, r0
  64:bsp/can/bsp_can.c ****     {
 326              		.loc 1 64 5 is_stmt 1 view .LVU78
  64:bsp/can/bsp_can.c ****     {
 327              		.loc 1 64 9 is_stmt 0 view .LVU79
 328 0004 224B     		ldr	r3, .L34
 329 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  64:bsp/can/bsp_can.c ****     {
 330              		.loc 1 64 8 view .LVU80
 331 0008 33B1     		cbz	r3, .L32
 332              	.LVL21:
 333              	.L24:
  67:bsp/can/bsp_can.c ****       }
 334              		.loc 1 67 47 is_stmt 1 view .LVU81
  69:bsp/can/bsp_can.c ****      {
 335              		.loc 1 69 7 view .LVU82
  69:bsp/can/bsp_can.c ****      {
 336              		.loc 1 69 15 is_stmt 0 view .LVU83
 337 000a 214B     		ldr	r3, .L34
 338 000c 93F800C0 		ldrb	ip, [r3]	@ zero_extendqisi2
  69:bsp/can/bsp_can.c ****      {
 339              		.loc 1 69 10 view .LVU84
 340 0010 BCF10F0F 		cmp	ip, #15
 341 0014 12D9     		bls	.L30
 342              	.L26:
  71:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 343              		.loc 1 71 9 is_stmt 1 view .LVU85
  71:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 344              		.loc 1 71 15 view .LVU86
 345 0016 FEE7     		b	.L26
 346              	.LVL22:
 347              	.L32:
  66:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 348              		.loc 1 66 9 view .LVU87
 349 0018 FFF7FEFF 		bl	CANServiceInit
 350              	.LVL23:
  66:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 351              		.loc 1 66 9 is_stmt 0 view .LVU88
 352 001c F5E7     		b	.L24
 353              	.LVL24:
 354              	.L27:
 355              	.LBB3:
  74:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 356              		.loc 1 74 36 is_stmt 1 discriminator 2 view .LVU89
 357 001e 0133     		adds	r3, r3, #1
 358              	.LVL25:
 359              	.L25:
  74:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 360              		.loc 1 74 28 discriminator 1 view .LVU90
 361 0020 9C45     		cmp	ip, r3
 362 0022 0DD9     		bls	.L33
  76:bsp/can/bsp_can.c ****       {
 363              		.loc 1 76 6 view .LVU91
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 11


  76:bsp/can/bsp_can.c ****       {
 364              		.loc 1 76 22 is_stmt 0 view .LVU92
 365 0024 1B4A     		ldr	r2, .L34+4
 366 0026 52F82320 		ldr	r2, [r2, r3, lsl #2]
  76:bsp/can/bsp_can.c ****       {
 367              		.loc 1 76 25 view .LVU93
 368 002a 506B     		ldr	r0, [r2, #52]	@ unaligned
  76:bsp/can/bsp_can.c ****       {
 369              		.loc 1 76 42 view .LVU94
 370 002c A168     		ldr	r1, [r4, #8]
  76:bsp/can/bsp_can.c ****       {
 371              		.loc 1 76 9 view .LVU95
 372 002e 8842     		cmp	r0, r1
 373 0030 F5D1     		bne	.L27
  76:bsp/can/bsp_can.c ****       {
 374              		.loc 1 76 68 discriminator 1 view .LVU96
 375 0032 1168     		ldr	r1, [r2]	@ unaligned
  76:bsp/can/bsp_can.c ****       {
 376              		.loc 1 76 90 discriminator 1 view .LVU97
 377 0034 2268     		ldr	r2, [r4]
  76:bsp/can/bsp_can.c ****       {
 378              		.loc 1 76 50 discriminator 1 view .LVU98
 379 0036 9142     		cmp	r1, r2
 380 0038 F1D1     		bne	.L27
 381              	.L28:
  78:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 382              		.loc 1 78 10 is_stmt 1 view .LVU99
  78:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 383              		.loc 1 78 16 view .LVU100
 384 003a FEE7     		b	.L28
 385              	.LVL26:
 386              	.L30:
  74:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 387              		.loc 1 74 19 is_stmt 0 view .LVU101
 388 003c 0023     		movs	r3, #0
 389 003e EFE7     		b	.L25
 390              	.LVL27:
 391              	.L33:
  74:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 392              		.loc 1 74 19 view .LVU102
 393              	.LBE3:
  83:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 394              		.loc 1 83 5 is_stmt 1 view .LVU103
  83:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 395              		.loc 1 83 44 is_stmt 0 view .LVU104
 396 0040 4120     		movs	r0, #65
 397 0042 FFF7FEFF 		bl	malloc
 398              	.LVL28:
  83:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 399              		.loc 1 83 44 view .LVU105
 400 0046 0546     		mov	r5, r0
 401              	.LVL29:
  84:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
 402              		.loc 1 84 5 is_stmt 1 view .LVU106
 403 0048 4122     		movs	r2, #65
 404 004a 0021     		movs	r1, #0
 405 004c FFF7FEFF 		bl	memset
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 12


 406              	.LVL30:
  86:bsp/can/bsp_can.c ****     instance->txconf.IDE = CAN_ID_STD;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰æ²¡
 407              		.loc 1 86 5 view .LVU107
  86:bsp/can/bsp_can.c ****     instance->txconf.IDE = CAN_ID_STD;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰æ²¡
 408              		.loc 1 86 36 is_stmt 0 view .LVU108
 409 0050 6268     		ldr	r2, [r4, #4]
  86:bsp/can/bsp_can.c ****     instance->txconf.IDE = CAN_ID_STD;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰æ²¡
 410              		.loc 1 86 28 view .LVU109
 411 0052 6A60     		str	r2, [r5, #4]	@ unaligned
  87:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 412              		.loc 1 87 5 is_stmt 1 view .LVU110
  88:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
 413              		.loc 1 88 5 view .LVU111
  89:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 414              		.loc 1 89 5 view .LVU112
  89:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 415              		.loc 1 89 26 is_stmt 0 view .LVU113
 416 0054 0023     		movs	r3, #0
 417 0056 0821     		movs	r1, #8
 418 0058 2975     		strb	r1, [r5, #20]
 419 005a 6B75     		strb	r3, [r5, #21]
 420 005c AB75     		strb	r3, [r5, #22]
 421 005e EB75     		strb	r3, [r5, #23]
  91:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 422              		.loc 1 91 5 is_stmt 1 view .LVU114
  91:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 423              		.loc 1 91 34 is_stmt 0 view .LVU115
 424 0060 2368     		ldr	r3, [r4]
  91:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 425              		.loc 1 91 26 view .LVU116
 426 0062 2B60     		str	r3, [r5]	@ unaligned
  92:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 427              		.loc 1 92 5 is_stmt 1 view .LVU117
  92:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 428              		.loc 1 92 21 is_stmt 0 view .LVU118
 429 0064 EA61     		str	r2, [r5, #28]	@ unaligned
  93:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 430              		.loc 1 93 5 is_stmt 1 view .LVU119
  93:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 431              		.loc 1 93 29 is_stmt 0 view .LVU120
 432 0066 A368     		ldr	r3, [r4, #8]
  93:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 433              		.loc 1 93 21 view .LVU121
 434 0068 6B63     		str	r3, [r5, #52]	@ unaligned
  94:bsp/can/bsp_can.c ****     instance->id = config->id;
 435              		.loc 1 94 5 is_stmt 1 view .LVU122
  94:bsp/can/bsp_can.c ****     instance->id = config->id;
 436              		.loc 1 94 43 is_stmt 0 view .LVU123
 437 006a E368     		ldr	r3, [r4, #12]
  94:bsp/can/bsp_can.c ****     instance->id = config->id;
 438              		.loc 1 94 35 view .LVU124
 439 006c C5F83930 		str	r3, [r5, #57]	@ unaligned
  95:bsp/can/bsp_can.c **** 
 440              		.loc 1 95 5 is_stmt 1 view .LVU125
  95:bsp/can/bsp_can.c **** 
 441              		.loc 1 95 26 is_stmt 0 view .LVU126
 442 0070 2369     		ldr	r3, [r4, #16]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 13


  95:bsp/can/bsp_can.c **** 
 443              		.loc 1 95 18 view .LVU127
 444 0072 C5F83D30 		str	r3, [r5, #61]	@ unaligned
  97:bsp/can/bsp_can.c ****     can_instance[idx++] = instance; // å°†å®ä¾‹ä¿å­˜åˆ°can_instanceä¸­
 445              		.loc 1 97 5 is_stmt 1 view .LVU128
 446 0076 2846     		mov	r0, r5
 447 0078 FFF7FEFF 		bl	CANAddFilter
 448              	.LVL31:
  98:bsp/can/bsp_can.c **** 
 449              		.loc 1 98 5 view .LVU129
  98:bsp/can/bsp_can.c **** 
 450              		.loc 1 98 21 is_stmt 0 view .LVU130
 451 007c 044A     		ldr	r2, .L34
 452 007e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 453 0080 591C     		adds	r1, r3, #1
 454 0082 1170     		strb	r1, [r2]
  98:bsp/can/bsp_can.c **** 
 455              		.loc 1 98 25 view .LVU131
 456 0084 034A     		ldr	r2, .L34+4
 457 0086 42F82350 		str	r5, [r2, r3, lsl #2]
 100:bsp/can/bsp_can.c **** }
 458              		.loc 1 100 5 is_stmt 1 view .LVU132
 101:bsp/can/bsp_can.c **** 
 459              		.loc 1 101 1 is_stmt 0 view .LVU133
 460 008a 2846     		mov	r0, r5
 461 008c 38BD     		pop	{r3, r4, r5, pc}
 462              	.LVL32:
 463              	.L35:
 101:bsp/can/bsp_can.c **** 
 464              		.loc 1 101 1 view .LVU134
 465 008e 00BF     		.align	2
 466              	.L34:
 467 0090 00000000 		.word	idx
 468 0094 00000000 		.word	can_instance
 469              		.cfi_endproc
 470              	.LFE139:
 472              		.section	.text.CANTransmit,"ax",%progbits
 473              		.align	1
 474              		.global	CANTransmit
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 479              	CANTransmit:
 480              	.LVL33:
 481              	.LFB140:
 106:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 482              		.loc 1 106 1 is_stmt 1 view -0
 483              		.cfi_startproc
 484              		@ args = 0, pretend = 0, frame = 0
 485              		@ frame_needed = 0, uses_anonymous_args = 0
 106:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 486              		.loc 1 106 1 is_stmt 0 view .LVU136
 487 0000 10B5     		push	{r4, lr}
 488              		.cfi_def_cfa_offset 8
 489              		.cfi_offset 4, -8
 490              		.cfi_offset 14, -4
 491 0002 2DED028B 		vpush.64	{d8}
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 14


 492              		.cfi_def_cfa_offset 16
 493              		.cfi_offset 80, -16
 494              		.cfi_offset 81, -12
 495 0006 0446     		mov	r4, r0
 496 0008 F0EE408A 		vmov.f32	s17, s0
 107:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 497              		.loc 1 107 5 is_stmt 1 view .LVU137
 108:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 498              		.loc 1 108 5 view .LVU138
 109:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 499              		.loc 1 109 5 view .LVU139
 109:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 500              		.loc 1 109 23 is_stmt 0 view .LVU140
 501 000c FFF7FEFF 		bl	DWT_GetTimeline_ms
 502              	.LVL34:
 109:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 503              		.loc 1 109 23 view .LVU141
 504 0010 B0EE408A 		vmov.f32	s16, s0
 505              	.LVL35:
 110:bsp/can/bsp_can.c ****     {
 506              		.loc 1 110 5 is_stmt 1 view .LVU142
 507              	.L37:
 110:bsp/can/bsp_can.c ****     {
 508              		.loc 1 110 67 view .LVU143
 110:bsp/can/bsp_can.c ****     {
 509              		.loc 1 110 12 is_stmt 0 view .LVU144
 510 0014 2068     		ldr	r0, [r4]	@ unaligned
 511 0016 FFF7FEFF 		bl	HAL_CAN_GetTxMailboxesFreeLevel
 512              	.LVL36:
 110:bsp/can/bsp_can.c ****     {
 513              		.loc 1 110 67 discriminator 1 view .LVU145
 514 001a 80B9     		cbnz	r0, .L44
 112:bsp/can/bsp_can.c ****         {
 515              		.loc 1 112 9 is_stmt 1 view .LVU146
 112:bsp/can/bsp_can.c ****         {
 516              		.loc 1 112 13 is_stmt 0 view .LVU147
 517 001c FFF7FEFF 		bl	DWT_GetTimeline_ms
 518              	.LVL37:
 112:bsp/can/bsp_can.c ****         {
 519              		.loc 1 112 34 discriminator 1 view .LVU148
 520 0020 30EE480A 		vsub.f32	s0, s0, s16
 112:bsp/can/bsp_can.c ****         {
 521              		.loc 1 112 12 discriminator 1 view .LVU149
 522 0024 B4EEE80A 		vcmpe.f32	s0, s17
 523 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 524 002c F2DD     		ble	.L37
 114:bsp/can/bsp_can.c ****             busy_count++;
 525              		.loc 1 114 105 is_stmt 1 view .LVU150
 115:bsp/can/bsp_can.c ****             return 0;
 526              		.loc 1 115 13 view .LVU151
 115:bsp/can/bsp_can.c ****             return 0;
 527              		.loc 1 115 23 is_stmt 0 view .LVU152
 528 002e 104A     		ldr	r2, .L46
 529 0030 1368     		ldr	r3, [r2]
 530 0032 0133     		adds	r3, r3, #1
 531 0034 1360     		str	r3, [r2]
 116:bsp/can/bsp_can.c ****         }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 15


 532              		.loc 1 116 13 is_stmt 1 view .LVU153
 116:bsp/can/bsp_can.c ****         }
 533              		.loc 1 116 20 is_stmt 0 view .LVU154
 534 0036 0020     		movs	r0, #0
 535              	.L39:
 128:bsp/can/bsp_can.c **** 
 536              		.loc 1 128 1 view .LVU155
 537 0038 BDEC028B 		vldm	sp!, {d8}
 538              		.cfi_remember_state
 539              		.cfi_restore 80
 540              		.cfi_restore 81
 541              		.cfi_def_cfa_offset 8
 542              	.LVL38:
 128:bsp/can/bsp_can.c **** 
 543              		.loc 1 128 1 view .LVU156
 544 003c 10BD     		pop	{r4, pc}
 545              	.LVL39:
 546              	.L44:
 547              		.cfi_restore_state
 119:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 548              		.loc 1 119 5 is_stmt 1 view .LVU157
 119:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 549              		.loc 1 119 17 is_stmt 0 view .LVU158
 550 003e FFF7FEFF 		bl	DWT_GetTimeline_ms
 551              	.LVL40:
 119:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 552              		.loc 1 119 38 discriminator 1 view .LVU159
 553 0042 30EE480A 		vsub.f32	s0, s0, s16
 119:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 554              		.loc 1 119 15 discriminator 1 view .LVU160
 555 0046 0B4B     		ldr	r3, .L46+4
 556 0048 83ED000A 		vstr.32	s0, [r3]
 121:bsp/can/bsp_can.c ****     {
 557              		.loc 1 121 5 is_stmt 1 view .LVU161
 121:bsp/can/bsp_can.c ****     {
 558              		.loc 1 121 9 is_stmt 0 view .LVU162
 559 004c 2346     		mov	r3, r4
 560 004e 53F8200B 		ldr	r0, [r3], #32	@ unaligned
 561 0052 04F12402 		add	r2, r4, #36
 562 0056 211D     		adds	r1, r4, #4
 563 0058 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 564              	.LVL41:
 121:bsp/can/bsp_can.c ****     {
 565              		.loc 1 121 8 discriminator 1 view .LVU163
 566 005c 08B9     		cbnz	r0, .L45
 127:bsp/can/bsp_can.c **** }
 567              		.loc 1 127 12 view .LVU164
 568 005e 0120     		movs	r0, #1
 569 0060 EAE7     		b	.L39
 570              	.L45:
 124:bsp/can/bsp_can.c ****         return 0;
 571              		.loc 1 124 9 is_stmt 1 view .LVU165
 124:bsp/can/bsp_can.c ****         return 0;
 572              		.loc 1 124 19 is_stmt 0 view .LVU166
 573 0062 034A     		ldr	r2, .L46
 574 0064 1368     		ldr	r3, [r2]
 575 0066 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 16


 576 0068 1360     		str	r3, [r2]
 125:bsp/can/bsp_can.c ****     }
 577              		.loc 1 125 9 is_stmt 1 view .LVU167
 125:bsp/can/bsp_can.c ****     }
 578              		.loc 1 125 16 is_stmt 0 view .LVU168
 579 006a 0020     		movs	r0, #0
 580 006c E4E7     		b	.L39
 581              	.L47:
 582 006e 00BF     		.align	2
 583              	.L46:
 584 0070 00000000 		.word	busy_count.2
 585 0074 00000000 		.word	wait_time.1
 586              		.cfi_endproc
 587              	.LFE140:
 589              		.section	.text.CANSetDLC,"ax",%progbits
 590              		.align	1
 591              		.global	CANSetDLC
 592              		.syntax unified
 593              		.thumb
 594              		.thumb_func
 596              	CANSetDLC:
 597              	.LVL42:
 598              	.LFB141:
 131:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 599              		.loc 1 131 1 is_stmt 1 view -0
 600              		.cfi_startproc
 601              		@ args = 0, pretend = 0, frame = 0
 602              		@ frame_needed = 0, uses_anonymous_args = 0
 603              		@ link register save eliminated.
 133:bsp/can/bsp_can.c ****         while (1)
 604              		.loc 1 133 5 view .LVU170
 133:bsp/can/bsp_can.c ****         while (1)
 605              		.loc 1 133 20 is_stmt 0 view .LVU171
 606 0000 4B1E     		subs	r3, r1, #1
 607 0002 DBB2     		uxtb	r3, r3
 133:bsp/can/bsp_can.c ****         while (1)
 608              		.loc 1 133 8 view .LVU172
 609 0004 072B     		cmp	r3, #7
 610 0006 01D9     		bls	.L48
 611              	.L50:
 134:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 612              		.loc 1 134 9 is_stmt 1 view .LVU173
 136:bsp/can/bsp_can.c **** }
 613              		.loc 1 136 5 discriminator 1 view .LVU174
 136:bsp/can/bsp_can.c **** }
 614              		.loc 1 136 27 is_stmt 0 discriminator 1 view .LVU175
 615 0008 4161     		str	r1, [r0, #20]	@ unaligned
 134:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 616              		.loc 1 134 15 is_stmt 1 view .LVU176
 617 000a FDE7     		b	.L50
 618              	.L48:
 137:bsp/can/bsp_can.c **** 
 619              		.loc 1 137 1 is_stmt 0 view .LVU177
 620 000c 7047     		bx	lr
 621              		.cfi_endproc
 622              	.LFE141:
 624              		.section	.text.HAL_CAN_RxFifo0MsgPendingCallback,"ax",%progbits
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 17


 625              		.align	1
 626              		.global	HAL_CAN_RxFifo0MsgPendingCallback
 627              		.syntax unified
 628              		.thumb
 629              		.thumb_func
 631              	HAL_CAN_RxFifo0MsgPendingCallback:
 632              	.LVL43:
 633              	.LFB143:
 170:bsp/can/bsp_can.c **** 
 171:bsp/can/bsp_can.c **** /**
 172:bsp/can/bsp_can.c ****  * @brief æ³¨æ„,STM32çš„ä¸¤ä¸ªCANè®¾å¤‡å…±äº«ä¸¤ä¸ªFIFO
 173:bsp/can/bsp_can.c ****  * ä¸‹é¢ä¸¤ä¸ªå‡½æ•°æ˜¯HALåº“ä¸­çš„å›è°ƒå‡½æ•°,ä»–ä»¬è¢«HALå£°æ˜ä¸º__weak,è¿™é‡Œå¯¹ä»–ä»¬è¿›è¡Œé
 174:bsp/can/bsp_can.c ****  * å½“FIFO0æˆ–FIFO1æº¢å‡ºæ—¶ä¼šè°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°
 175:bsp/can/bsp_can.c ****  */
 176:bsp/can/bsp_can.c **** // ä¸‹é¢çš„å‡½æ•°ä¼šè°ƒç”¨CANFIFOxCallback()æ¥è¿›ä¸€æ­¥å¤„ç†æ¥è‡ªç‰¹å®šCANè®¾å¤‡çš„æ¶ˆæ¯
 177:bsp/can/bsp_can.c **** 
 178:bsp/can/bsp_can.c **** /**
 179:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_0 is full,this func would be called
 180:bsp/can/bsp_can.c ****  *
 181:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_0 comes from
 182:bsp/can/bsp_can.c ****  */
 183:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *hcan)
 184:bsp/can/bsp_can.c **** {
 634              		.loc 1 184 1 is_stmt 1 view -0
 635              		.cfi_startproc
 636              		@ args = 0, pretend = 0, frame = 0
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              		.loc 1 184 1 is_stmt 0 view .LVU179
 639 0000 08B5     		push	{r3, lr}
 640              		.cfi_def_cfa_offset 8
 641              		.cfi_offset 3, -8
 642              		.cfi_offset 14, -4
 185:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO0); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 643              		.loc 1 185 5 is_stmt 1 view .LVU180
 644 0002 0021     		movs	r1, #0
 645 0004 FFF7FEFF 		bl	CANFIFOxCallback
 646              	.LVL44:
 186:bsp/can/bsp_can.c **** }
 647              		.loc 1 186 1 is_stmt 0 view .LVU181
 648 0008 08BD     		pop	{r3, pc}
 649              		.cfi_endproc
 650              	.LFE143:
 652              		.section	.text.HAL_CAN_RxFifo1MsgPendingCallback,"ax",%progbits
 653              		.align	1
 654              		.global	HAL_CAN_RxFifo1MsgPendingCallback
 655              		.syntax unified
 656              		.thumb
 657              		.thumb_func
 659              	HAL_CAN_RxFifo1MsgPendingCallback:
 660              	.LVL45:
 661              	.LFB144:
 187:bsp/can/bsp_can.c **** 
 188:bsp/can/bsp_can.c **** /**
 189:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_1 is full,this func would be called
 190:bsp/can/bsp_can.c ****  *
 191:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_1 comes from
 192:bsp/can/bsp_can.c ****  */
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 18


 193:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo1MsgPendingCallback(CAN_HandleTypeDef *hcan)
 194:bsp/can/bsp_can.c **** {
 662              		.loc 1 194 1 is_stmt 1 view -0
 663              		.cfi_startproc
 664              		@ args = 0, pretend = 0, frame = 0
 665              		@ frame_needed = 0, uses_anonymous_args = 0
 666              		.loc 1 194 1 is_stmt 0 view .LVU183
 667 0000 08B5     		push	{r3, lr}
 668              		.cfi_def_cfa_offset 8
 669              		.cfi_offset 3, -8
 670              		.cfi_offset 14, -4
 195:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO1); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 671              		.loc 1 195 5 is_stmt 1 view .LVU184
 672 0002 0121     		movs	r1, #1
 673 0004 FFF7FEFF 		bl	CANFIFOxCallback
 674              	.LVL46:
 196:bsp/can/bsp_can.c **** }
 675              		.loc 1 196 1 is_stmt 0 view .LVU185
 676 0008 08BD     		pop	{r3, pc}
 677              		.cfi_endproc
 678              	.LFE144:
 680              		.section	.bss.rxconf.0,"aw",%nobits
 681              		.align	2
 684              	rxconf.0:
 685 0000 00000000 		.space	28
 685      00000000 
 685      00000000 
 685      00000000 
 685      00000000 
 686              		.section	.bss.wait_time.1,"aw",%nobits
 687              		.align	2
 690              	wait_time.1:
 691 0000 00000000 		.space	4
 692              		.section	.bss.busy_count.2,"aw",%nobits
 693              		.align	2
 696              	busy_count.2:
 697 0000 00000000 		.space	4
 698              		.section	.data.can2_filter_idx.3,"aw"
 701              	can2_filter_idx.3:
 702 0000 0E       		.byte	14
 703              		.section	.bss.can1_filter_idx.4,"aw",%nobits
 706              	can1_filter_idx.4:
 707 0000 00       		.space	1
 708              		.section	.bss.idx,"aw",%nobits
 711              	idx:
 712 0000 00       		.space	1
 713              		.section	.bss.can_instance,"aw",%nobits
 714              		.align	2
 717              	can_instance:
 718 0000 00000000 		.space	64
 718      00000000 
 718      00000000 
 718      00000000 
 718      00000000 
 719              		.text
 720              	.Letext0:
 721              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 19


 722              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 723              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 724              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 725              		.file 6 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 726              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 727              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 728              		.file 9 "Core/Inc/can.h"
 729              		.file 10 "bsp/can/bsp_can.h"
 730              		.file 11 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 731              		.file 12 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 732              		.file 13 "<built-in>"
 733              		.file 14 "bsp/dwt/bsp_dwt.h"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_can.c
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:21     .text.CANServiceInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:26     .text.CANServiceInit:00000000 CANServiceInit
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:71     .text.CANServiceInit:00000034 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:77     .text.CANAddFilter:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:82     .text.CANAddFilter:00000000 CANAddFilter
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:170    .text.CANAddFilter:00000054 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:701    .data.can2_filter_idx.3:00000000 can2_filter_idx.3
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:706    .bss.can1_filter_idx.4:00000000 can1_filter_idx.4
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:177    .text.CANFIFOxCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:182    .text.CANFIFOxCallback:00000000 CANFIFOxCallback
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:298    .text.CANFIFOxCallback:0000006c $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:684    .bss.rxconf.0:00000000 rxconf.0
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:711    .bss.idx:00000000 idx
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:717    .bss.can_instance:00000000 can_instance
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:305    .text.CANRegister:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:311    .text.CANRegister:00000000 CANRegister
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:467    .text.CANRegister:00000090 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:473    .text.CANTransmit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:479    .text.CANTransmit:00000000 CANTransmit
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:584    .text.CANTransmit:00000070 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:696    .bss.busy_count.2:00000000 busy_count.2
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:690    .bss.wait_time.1:00000000 wait_time.1
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:590    .text.CANSetDLC:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:596    .text.CANSetDLC:00000000 CANSetDLC
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:625    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:631    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 HAL_CAN_RxFifo0MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:653    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:659    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 HAL_CAN_RxFifo1MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:681    .bss.rxconf.0:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:687    .bss.wait_time.1:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:693    .bss.busy_count.2:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:707    .bss.can1_filter_idx.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:712    .bss.idx:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccNwkK4L.s:714    .bss.can_instance:00000000 $d

UNDEFINED SYMBOLS
HAL_CAN_Start
HAL_CAN_ActivateNotification
hcan1
hcan2
HAL_CAN_ConfigFilter
HAL_CAN_GetRxFifoFillLevel
HAL_CAN_GetRxMessage
memcpy
malloc
memset
DWT_GetTimeline_ms
HAL_CAN_GetTxMailboxesFreeLevel
HAL_CAN_AddTxMessage
