ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_can.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "bsp/can/bsp_can.c"
  20              		.section	.text.CANServiceInit,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	CANServiceInit:
  27              	.LFB139:
   1:bsp/can/bsp_can.c **** #include "bsp_can.h"
   2:bsp/can/bsp_can.c **** #include "main.h"
   3:bsp/can/bsp_can.c **** #include "memory.h"
   4:bsp/can/bsp_can.c **** #include "stdlib.h"
   5:bsp/can/bsp_can.c **** #include "bsp_dwt.h"
   6:bsp/can/bsp_can.c **** #include "bsp_log.h"
   7:bsp/can/bsp_can.c **** 
   8:bsp/can/bsp_can.c **** /* can instance ptrs storage, used for recv callback */
   9:bsp/can/bsp_can.c **** // åœ¨CANäº§ç”Ÿæ¥æ”¶ä¸­æ–­ä¼šéå†æ•°ç»„,é€‰å‡ºhcanå’Œrxidä¸å‘ç”Ÿä¸­æ–­çš„å®ä¾‹ç›¸åŒçš„é‚£ä¸ª
  10:bsp/can/bsp_can.c **** // @todo: åç»­ä¸ºæ¯ä¸ªCANæ€»çº¿å•ç‹¬æ·»åŠ ä¸€ä¸ªcan_instanceæŒ‡é’ˆæ•°ç»„,æé«˜å›è°ƒæŸ¥æ‰¾çš„æ
  11:bsp/can/bsp_can.c **** static CANInstance *can_instance[CAN_MX_REGISTER_CNT] = {NULL};
  12:bsp/can/bsp_can.c **** static uint8_t idx; // å…¨å±€CANå®ä¾‹ç´¢å¼•,æ¯æ¬¡æœ‰æ–°çš„æ¨¡å—æ³¨å†Œä¼šè‡ªå¢
  13:bsp/can/bsp_can.c **** 
  14:bsp/can/bsp_can.c **** /* ----------------two static function called by CANRegister()-------------------- */
  15:bsp/can/bsp_can.c **** 
  16:bsp/can/bsp_can.c **** /**
  17:bsp/can/bsp_can.c ****  * @brief æ·»åŠ è¿‡æ»¤å™¨ä»¥å®ç°å¯¹ç‰¹å®šidçš„æŠ¥æ–‡çš„æ¥æ”¶,ä¼šè¢«CANRegister()è°ƒç”¨
  18:bsp/can/bsp_can.c ****  *        ç»™CANæ·»åŠ è¿‡æ»¤å™¨å,BxCANä¼šæ ¹æ®æ¥æ”¶åˆ°çš„æŠ¥æ–‡çš„idè¿›è¡Œæ¶ˆæ¯è¿‡æ»¤,ç¬¦åˆè§
  19:bsp/can/bsp_can.c ****  *
  20:bsp/can/bsp_can.c ****  * @note f407çš„bxCANæœ‰28ä¸ªè¿‡æ»¤å™¨,è¿™é‡Œå°†å…¶é…ç½®ä¸ºå‰14ä¸ªè¿‡æ»¤å™¨ç»™CAN1ä½¿ç”¨,å14ä¸ª
  21:bsp/can/bsp_can.c ****  *       åˆå§‹åŒ–æ—¶,å¥‡æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO0,å¶æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO1
  22:bsp/can/bsp_can.c ****  *       æ³¨å†Œåˆ°CAN1çš„æ¨¡å—ä½¿ç”¨è¿‡æ»¤å™¨0-13,CAN2ä½¿ç”¨è¿‡æ»¤å™¨14-27
  23:bsp/can/bsp_can.c ****  *
  24:bsp/can/bsp_can.c ****  * @attention ä½ ä¸éœ€è¦å®Œå…¨ç†è§£è¿™ä¸ªå‡½æ•°çš„ä½œç”¨,å› ä¸ºå®ƒä¸»è¦æ˜¯ç”¨äºåˆå§‹åŒ–,åœ¨å¼
  25:bsp/can/bsp_can.c ****  *            äº«å—å¼€å‘çš„ä¹è¶£å§!å¦‚æœä½ çœŸçš„æƒ³çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨å¹²ä»€ä¹ˆ,è¯·è”ç³»ä½
  26:bsp/can/bsp_can.c ****  *
  27:bsp/can/bsp_can.c ****  * @param _instance can instance owned by specific module
  28:bsp/can/bsp_can.c ****  */
  29:bsp/can/bsp_can.c **** static void CANAddFilter(CANInstance *_instance)
  30:bsp/can/bsp_can.c **** {
  31:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 2


  32:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
  33:bsp/can/bsp_can.c **** 
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterMode = CAN_FILTERMODE_IDLIST;                                            
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
  36:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
  37:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
  40:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
  41:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
  42:bsp/can/bsp_can.c **** }
  43:bsp/can/bsp_can.c **** 
  44:bsp/can/bsp_can.c **** static void EXTCANAddFilter(CANInstance *_instance){
  45:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  46:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 8, can2_filter_idx = 23; // 8-13ç»™ex can1ç”¨,23-27ç»™ex can2ç
  47:bsp/can/bsp_can.c **** 
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMode = CAN_FILTERMODE_IDMASK;                                          
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  50:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
  51:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow = _instance->rx_id << 21;  // ä½8ä½å·¦ç§»21ä½ï¼ˆä½¿å…¶åœ¨29ä½
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFF << 21;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
  57:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
  58:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
  59:bsp/can/bsp_can.c **** }
  60:bsp/can/bsp_can.c **** 
  61:bsp/can/bsp_can.c **** 
  62:bsp/can/bsp_can.c **** 
  63:bsp/can/bsp_can.c **** 
  64:bsp/can/bsp_can.c **** 
  65:bsp/can/bsp_can.c **** /**
  66:bsp/can/bsp_can.c ****  * @brief åœ¨ç¬¬ä¸€ä¸ªCANå®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°,å¯åŠ¨CANæœåŠ¡
  67:bsp/can/bsp_can.c ****  *
  68:bsp/can/bsp_can.c ****  * @note æ­¤å‡½æ•°ä¼šå¯åŠ¨CAN1å’ŒCAN2,å¼€å¯CAN1å’ŒCAN2çš„FIFO0 & FIFO1æº¢å‡ºé€šçŸ¥
  69:bsp/can/bsp_can.c ****  *
  70:bsp/can/bsp_can.c ****  */
  71:bsp/can/bsp_can.c **** static void CANServiceInit()
  72:bsp/can/bsp_can.c **** {
  28              		.loc 1 72 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 10B5     		push	{r4, lr}
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
  73:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan1);
  36              		.loc 1 73 5 view .LVU1
  37 0002 0C4C     		ldr	r4, .L3
  38 0004 2046     		mov	r0, r4
  39 0006 FFF7FEFF 		bl	HAL_CAN_Start
  40              	.LVL0:
  74:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO0_MSG_PENDING);
  41              		.loc 1 74 5 view .LVU2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 3


  42 000a 0221     		movs	r1, #2
  43 000c 2046     		mov	r0, r4
  44 000e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  45              	.LVL1:
  75:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO1_MSG_PENDING);
  46              		.loc 1 75 5 view .LVU3
  47 0012 1021     		movs	r1, #16
  48 0014 2046     		mov	r0, r4
  49 0016 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  50              	.LVL2:
  76:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan2);
  51              		.loc 1 76 5 view .LVU4
  52 001a 074C     		ldr	r4, .L3+4
  53 001c 2046     		mov	r0, r4
  54 001e FFF7FEFF 		bl	HAL_CAN_Start
  55              	.LVL3:
  77:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO0_MSG_PENDING);
  56              		.loc 1 77 5 view .LVU5
  57 0022 0221     		movs	r1, #2
  58 0024 2046     		mov	r0, r4
  59 0026 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  60              	.LVL4:
  78:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO1_MSG_PENDING);
  61              		.loc 1 78 5 view .LVU6
  62 002a 1021     		movs	r1, #16
  63 002c 2046     		mov	r0, r4
  64 002e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  65              	.LVL5:
  79:bsp/can/bsp_can.c **** }
  66              		.loc 1 79 1 is_stmt 0 view .LVU7
  67 0032 10BD     		pop	{r4, pc}
  68              	.L4:
  69              		.align	2
  70              	.L3:
  71 0034 00000000 		.word	hcan1
  72 0038 00000000 		.word	hcan2
  73              		.cfi_endproc
  74              	.LFE139:
  76              		.section	.text.EXTCANAddFilter,"ax",%progbits
  77              		.align	1
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	EXTCANAddFilter:
  83              	.LVL6:
  84              	.LFB138:
  44:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  85              		.loc 1 44 52 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 40
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  44:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  89              		.loc 1 44 52 is_stmt 0 view .LVU9
  90 0000 00B5     		push	{lr}
  91              		.cfi_def_cfa_offset 4
  92              		.cfi_offset 14, -4
  93 0002 8BB0     		sub	sp, sp, #44
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 4


  94              		.cfi_def_cfa_offset 48
  45:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 8, can2_filter_idx = 23; // 8-13ç»™ex can1ç”¨,23-27ç»™ex can2ç
  95              		.loc 1 45 6 is_stmt 1 view .LVU10
  46:bsp/can/bsp_can.c **** 
  96              		.loc 1 46 5 view .LVU11
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  97              		.loc 1 48 5 view .LVU12
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  98              		.loc 1 48 34 is_stmt 0 view .LVU13
  99 0004 0023     		movs	r3, #0
 100 0006 0693     		str	r3, [sp, #24]
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
 101              		.loc 1 49 5 is_stmt 1 view .LVU14
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
 102              		.loc 1 49 35 is_stmt 0 view .LVU15
 103 0008 0122     		movs	r2, #1
 104 000a 0792     		str	r2, [sp, #28]
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 105              		.loc 1 50 5 is_stmt 1 view .LVU16
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 106              		.loc 1 50 56 is_stmt 0 view .LVU17
 107 000c 826B     		ldr	r2, [r0, #56]	@ unaligned
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 108              		.loc 1 50 84 view .LVU18
 109 000e 12F0010F 		tst	r2, #1
 110 0012 0CBF     		ite	eq
 111 0014 0122     		moveq	r2, #1
 112 0016 1A46     		movne	r2, r3
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 113              		.loc 1 50 44 view .LVU19
 114 0018 0492     		str	r2, [sp, #16]
  51:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
 115              		.loc 1 51 5 is_stmt 1 view .LVU20
  51:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
 116              		.loc 1 51 44 is_stmt 0 view .LVU21
 117 001a 0E22     		movs	r2, #14
 118 001c 0992     		str	r2, [sp, #36]
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow = _instance->rx_id << 21;  // ä½8ä½å·¦ç§»21ä½ï¼ˆä½¿å…¶åœ¨29ä½
 119              		.loc 1 52 5 is_stmt 1 view .LVU22
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow = _instance->rx_id << 21;  // ä½8ä½å·¦ç§»21ä½ï¼ˆä½¿å…¶åœ¨29ä½
 120              		.loc 1 52 36 is_stmt 0 view .LVU23
 121 001e 0093     		str	r3, [sp]
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 122              		.loc 1 53 5 is_stmt 1 view .LVU24
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 123              		.loc 1 53 46 is_stmt 0 view .LVU25
 124 0020 026D     		ldr	r2, [r0, #80]	@ unaligned
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 125              		.loc 1 53 54 view .LVU26
 126 0022 5205     		lsls	r2, r2, #21
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 127              		.loc 1 53 35 view .LVU27
 128 0024 0192     		str	r2, [sp, #4]
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFF << 21;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
 129              		.loc 1 54 5 is_stmt 1 view .LVU28
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFF << 21;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
 130              		.loc 1 54 40 is_stmt 0 view .LVU29
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 5


 131 0026 0293     		str	r3, [sp, #8]
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
 132              		.loc 1 55 5 is_stmt 1 view .LVU30
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
 133              		.loc 1 55 39 is_stmt 0 view .LVU31
 134 0028 4FF0FF53 		mov	r3, #534773760
 135 002c 0393     		str	r3, [sp, #12]
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 136              		.loc 1 56 5 is_stmt 1 view .LVU32
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 137              		.loc 1 56 45 is_stmt 0 view .LVU33
 138 002e 0268     		ldr	r2, [r0]	@ unaligned
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 139              		.loc 1 56 90 view .LVU34
 140 0030 0A4B     		ldr	r3, .L10
 141 0032 9A42     		cmp	r2, r3
 142 0034 0DD0     		beq	.L9
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 143              		.loc 1 56 108 discriminator 2 view .LVU35
 144 0036 0A4A     		ldr	r2, .L10+4
 145 0038 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 146 003a 591C     		adds	r1, r3, #1
 147 003c 1170     		strb	r1, [r2]
 148              	.L7:
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 149              		.loc 1 56 34 discriminator 4 view .LVU36
 150 003e 0593     		str	r3, [sp, #20]
  57:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
 151              		.loc 1 57 5 is_stmt 1 view .LVU37
  57:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
 152              		.loc 1 57 40 is_stmt 0 view .LVU38
 153 0040 0123     		movs	r3, #1
 154 0042 0893     		str	r3, [sp, #32]
  58:bsp/can/bsp_can.c **** }
 155              		.loc 1 58 5 is_stmt 1 view .LVU39
 156 0044 6946     		mov	r1, sp
 157 0046 0068     		ldr	r0, [r0]	@ unaligned
 158              	.LVL7:
  58:bsp/can/bsp_can.c **** }
 159              		.loc 1 58 5 is_stmt 0 view .LVU40
 160 0048 FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 161              	.LVL8:
  59:bsp/can/bsp_can.c **** 
 162              		.loc 1 59 1 view .LVU41
 163 004c 0BB0     		add	sp, sp, #44
 164              		.cfi_remember_state
 165              		.cfi_def_cfa_offset 4
 166              		@ sp needed
 167 004e 5DF804FB 		ldr	pc, [sp], #4
 168              	.LVL9:
 169              	.L9:
 170              		.cfi_restore_state
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 171              		.loc 1 56 86 discriminator 1 view .LVU42
 172 0052 044A     		ldr	r2, .L10+8
 173 0054 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 174 0056 591C     		adds	r1, r3, #1
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 6


 175 0058 1170     		strb	r1, [r2]
 176 005a F0E7     		b	.L7
 177              	.L11:
 178              		.align	2
 179              	.L10:
 180 005c 00000000 		.word	hcan1
 181 0060 00000000 		.word	can2_filter_idx.5
 182 0064 00000000 		.word	can1_filter_idx.6
 183              		.cfi_endproc
 184              	.LFE138:
 186              		.section	.text.CANAddFilter,"ax",%progbits
 187              		.align	1
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 192              	CANAddFilter:
 193              	.LVL10:
 194              	.LFB137:
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
 195              		.loc 1 30 1 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 40
 198              		@ frame_needed = 0, uses_anonymous_args = 0
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
 199              		.loc 1 30 1 is_stmt 0 view .LVU44
 200 0000 00B5     		push	{lr}
 201              		.cfi_def_cfa_offset 4
 202              		.cfi_offset 14, -4
 203 0002 8BB0     		sub	sp, sp, #44
 204              		.cfi_def_cfa_offset 48
  31:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
 205              		.loc 1 31 5 is_stmt 1 view .LVU45
  32:bsp/can/bsp_can.c **** 
 206              		.loc 1 32 5 view .LVU46
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
 207              		.loc 1 34 5 view .LVU47
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
 208              		.loc 1 34 32 is_stmt 0 view .LVU48
 209 0004 0123     		movs	r3, #1
 210 0006 0693     		str	r3, [sp, #24]
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 211              		.loc 1 35 5 is_stmt 1 view .LVU49
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 212              		.loc 1 35 33 is_stmt 0 view .LVU50
 213 0008 0023     		movs	r3, #0
 214 000a 0793     		str	r3, [sp, #28]
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 215              		.loc 1 36 5 is_stmt 1 view .LVU51
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 216              		.loc 1 36 54 is_stmt 0 view .LVU52
 217 000c 836B     		ldr	r3, [r0, #56]	@ unaligned
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 218              		.loc 1 36 82 view .LVU53
 219 000e 13F0010F 		tst	r3, #1
 220 0012 0CBF     		ite	eq
 221 0014 0123     		moveq	r3, #1
 222 0016 0023     		movne	r3, #0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 7


  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 223              		.loc 1 36 42 view .LVU54
 224 0018 0493     		str	r3, [sp, #16]
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
 225              		.loc 1 37 5 is_stmt 1 view .LVU55
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
 226              		.loc 1 37 42 is_stmt 0 view .LVU56
 227 001a 0E23     		movs	r3, #14
 228 001c 0993     		str	r3, [sp, #36]
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 229              		.loc 1 38 5 is_stmt 1 view .LVU57
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 230              		.loc 1 38 44 is_stmt 0 view .LVU58
 231 001e 036D     		ldr	r3, [r0, #80]	@ unaligned
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 232              		.loc 1 38 52 view .LVU59
 233 0020 5B01     		lsls	r3, r3, #5
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 234              		.loc 1 38 33 view .LVU60
 235 0022 0193     		str	r3, [sp, #4]
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 236              		.loc 1 39 5 is_stmt 1 view .LVU61
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 237              		.loc 1 39 43 is_stmt 0 view .LVU62
 238 0024 0268     		ldr	r2, [r0]	@ unaligned
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 239              		.loc 1 39 88 view .LVU63
 240 0026 0B4B     		ldr	r3, .L17
 241 0028 9A42     		cmp	r2, r3
 242 002a 0DD0     		beq	.L16
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 243              		.loc 1 39 106 discriminator 2 view .LVU64
 244 002c 0A4A     		ldr	r2, .L17+4
 245 002e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 246 0030 591C     		adds	r1, r3, #1
 247 0032 1170     		strb	r1, [r2]
 248              	.L14:
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 249              		.loc 1 39 32 discriminator 4 view .LVU65
 250 0034 0593     		str	r3, [sp, #20]
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 251              		.loc 1 40 5 is_stmt 1 view .LVU66
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 252              		.loc 1 40 38 is_stmt 0 view .LVU67
 253 0036 0123     		movs	r3, #1
 254 0038 0893     		str	r3, [sp, #32]
  41:bsp/can/bsp_can.c **** }
 255              		.loc 1 41 5 is_stmt 1 view .LVU68
 256 003a 6946     		mov	r1, sp
 257 003c 0068     		ldr	r0, [r0]	@ unaligned
 258              	.LVL11:
  41:bsp/can/bsp_can.c **** }
 259              		.loc 1 41 5 is_stmt 0 view .LVU69
 260 003e FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 261              	.LVL12:
  42:bsp/can/bsp_can.c **** 
 262              		.loc 1 42 1 view .LVU70
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 8


 263 0042 0BB0     		add	sp, sp, #44
 264              		.cfi_remember_state
 265              		.cfi_def_cfa_offset 4
 266              		@ sp needed
 267 0044 5DF804FB 		ldr	pc, [sp], #4
 268              	.LVL13:
 269              	.L16:
 270              		.cfi_restore_state
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 271              		.loc 1 39 84 discriminator 1 view .LVU71
 272 0048 044A     		ldr	r2, .L17+8
 273 004a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 274 004c 591C     		adds	r1, r3, #1
 275 004e 1170     		strb	r1, [r2]
 276 0050 F0E7     		b	.L14
 277              	.L18:
 278 0052 00BF     		.align	2
 279              	.L17:
 280 0054 00000000 		.word	hcan1
 281 0058 00000000 		.word	can2_filter_idx.3
 282 005c 00000000 		.word	can1_filter_idx.4
 283              		.cfi_endproc
 284              	.LFE137:
 286              		.section	.text.CANFIFOxCallback,"ax",%progbits
 287              		.align	1
 288              		.syntax unified
 289              		.thumb
 290              		.thumb_func
 292              	CANFIFOxCallback:
 293              	.LVL14:
 294              	.LFB143:
  80:bsp/can/bsp_can.c **** 
  81:bsp/can/bsp_can.c **** /* ----------------------- two extern callable function -----------------------*/
  82:bsp/can/bsp_can.c **** 
  83:bsp/can/bsp_can.c **** CANInstance *CANRegister(CAN_Init_Config_s *config)
  84:bsp/can/bsp_can.c **** {
  85:bsp/can/bsp_can.c ****     if (!idx)
  86:bsp/can/bsp_can.c ****     {
  87:bsp/can/bsp_can.c ****         CANServiceInit(); // ç¬¬ä¸€æ¬¡æ³¨å†Œ,å…ˆè¿›è¡Œç¡¬ä»¶åˆå§‹åŒ–
  88:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
  89:bsp/can/bsp_can.c ****       }
  90:bsp/can/bsp_can.c ****       if (idx >= CAN_MX_REGISTER_CNT) // è¶…è¿‡æœ€å¤§å®ä¾‹æ•°
  91:bsp/can/bsp_can.c ****      {
  92:bsp/can/bsp_can.c ****         while (1)
  93:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
  94:bsp/can/bsp_can.c ****       }
  95:bsp/can/bsp_can.c ****       for (size_t i = 0; i < idx; i++)
  96:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
  97:bsp/can/bsp_can.c ****      if (can_instance[i]->rx_id == config->rx_id && can_instance[i]->can_handle == config->can_hand
  98:bsp/can/bsp_can.c ****       {
  99:bsp/can/bsp_can.c ****          while (1)
 100:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 101:bsp/can/bsp_can.c ****       }      
 102:bsp/can/bsp_can.c ****      }
 103:bsp/can/bsp_can.c ****     
 104:bsp/can/bsp_can.c ****     CANInstance *instance = (CANInstance *)malloc(sizeof(CANInstance)); // åˆ†é…ç©ºé—´
 105:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 9


 106:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
 107:bsp/can/bsp_can.c ****     instance->txconf.ExtId = *((uint32_t*)&(config->EXT_ID));;
 108:bsp/can/bsp_can.c ****     instance->txconf.StdId = config->tx_id; // å‘é€id
 109:bsp/can/bsp_can.c ****     instance->txconf.IDE = config->tx_ide;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰
 110:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 111:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
 112:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 113:bsp/can/bsp_can.c ****     instance->can_handle = config->can_handle;
 114:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 115:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 116:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 117:bsp/can/bsp_can.c ****     instance->id = config->id;
 118:bsp/can/bsp_can.c **** 
 119:bsp/can/bsp_can.c **** 
 120:bsp/can/bsp_can.c ****     if(instance->txconf.IDE==CAN_ID_EXT){
 121:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 122:bsp/can/bsp_can.c ****     }else{
 123:bsp/can/bsp_can.c ****          CANAddFilter(instance);
 124:bsp/can/bsp_can.c ****     }         // æ·»åŠ CANè¿‡æ»¤å™¨è§„åˆ™
 125:bsp/can/bsp_can.c ****     can_instance[idx++] = instance; // å°†å®ä¾‹ä¿å­˜åˆ°can_instanceä¸­
 126:bsp/can/bsp_can.c **** 
 127:bsp/can/bsp_can.c ****     return instance; // è¿”å›canå®ä¾‹æŒ‡é’ˆ
 128:bsp/can/bsp_can.c **** }
 129:bsp/can/bsp_can.c **** 
 130:bsp/can/bsp_can.c **** /* @todo ç›®å‰ä¼¼ä¹å°è£…è¿‡åº¦,åº”è¯¥æ·»åŠ ä¸€ä¸ªæŒ‡å‘tx_buffçš„æŒ‡é’ˆ,tx_buffä¸åº”è¯¥ç”±CAN i
 131:bsp/can/bsp_can.c **** /* å¦‚æœè®©CANinstanceä¿å­˜txbuff,ä¼šå¢åŠ ä¸€æ¬¡å¤åˆ¶çš„å¼€é”€ */
 132:bsp/can/bsp_can.c **** uint8_t CANTransmit(CANInstance *_instance, float timeout)
 133:bsp/can/bsp_can.c **** {
 134:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 135:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 136:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 137:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 138:bsp/can/bsp_can.c ****     {
 139:bsp/can/bsp_can.c ****         if (DWT_GetTimeline_ms() - dwt_start > timeout) // è¶…æ—¶
 140:bsp/can/bsp_can.c ****         {
 141:bsp/can/bsp_can.c ****             LOGWARNING("[bsp_can] CAN MAILbox full! failed to add msg to mailbox. Cnt [%d]", busy_c
 142:bsp/can/bsp_can.c ****             busy_count++;
 143:bsp/can/bsp_can.c ****             return 0;
 144:bsp/can/bsp_can.c ****         }
 145:bsp/can/bsp_can.c ****     }
 146:bsp/can/bsp_can.c ****     wait_time = DWT_GetTimeline_ms() - dwt_start;
 147:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 148:bsp/can/bsp_can.c ****     if (HAL_CAN_AddTxMessage(_instance->can_handle, &_instance->txconf, _instance->tx_buff, &_insta
 149:bsp/can/bsp_can.c ****     {
 150:bsp/can/bsp_can.c ****         // LOGWARNING("[bsp_can] CAN bus BUS! cnt:%d", busy_count);
 151:bsp/can/bsp_can.c ****         busy_count++;
 152:bsp/can/bsp_can.c ****         return 0;
 153:bsp/can/bsp_can.c ****     }
 154:bsp/can/bsp_can.c ****     return 1; // å‘é€æˆåŠŸ
 155:bsp/can/bsp_can.c **** }
 156:bsp/can/bsp_can.c **** 
 157:bsp/can/bsp_can.c **** void CANSetDLC(CANInstance *_instance, uint8_t length)
 158:bsp/can/bsp_can.c **** {
 159:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 160:bsp/can/bsp_can.c ****     if (length > 8 || length == 0) // å®‰å…¨æ£€æŸ¥
 161:bsp/can/bsp_can.c ****         while (1)
 162:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 10


 163:bsp/can/bsp_can.c ****     _instance->txconf.DLC = length;
 164:bsp/can/bsp_can.c **** }
 165:bsp/can/bsp_can.c **** 
 166:bsp/can/bsp_can.c **** /* -----------------------belows are callback definitions--------------------------*/
 167:bsp/can/bsp_can.c **** 
 168:bsp/can/bsp_can.c **** /**
 169:bsp/can/bsp_can.c ****  * @brief æ­¤å‡½æ•°ä¼šè¢«ä¸‹é¢ä¸¤ä¸ªå‡½æ•°è°ƒç”¨,ç”¨äºå¤„ç†FIFO0å’ŒFIFO1æº¢å‡ºä¸­æ–­(è¯´æ˜æ”¶åˆ
 170:bsp/can/bsp_can.c ****  *        æ‰€æœ‰çš„å®ä¾‹éƒ½ä¼šè¢«éå†,æ‰¾åˆ°can_handleå’Œrx_idç›¸ç­‰çš„å®ä¾‹æ—¶,è°ƒç”¨è¯¥å®ä¾‹
 171:bsp/can/bsp_can.c ****  *
 172:bsp/can/bsp_can.c ****  * @param _hcan
 173:bsp/can/bsp_can.c ****  * @param fifox passed to HAL_CAN_GetRxMessage() to get mesg from a specific fifo
 174:bsp/can/bsp_can.c ****  */
 175:bsp/can/bsp_can.c **** static void CANFIFOxCallback(CAN_HandleTypeDef *_hcan, uint32_t fifox)
 176:bsp/can/bsp_can.c **** {
 295              		.loc 1 176 1 is_stmt 1 view -0
 296              		.cfi_startproc
 297              		@ args = 0, pretend = 0, frame = 8
 298              		@ frame_needed = 0, uses_anonymous_args = 0
 299              		.loc 1 176 1 is_stmt 0 view .LVU73
 300 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 301              		.cfi_def_cfa_offset 20
 302              		.cfi_offset 4, -20
 303              		.cfi_offset 5, -16
 304              		.cfi_offset 6, -12
 305              		.cfi_offset 7, -8
 306              		.cfi_offset 14, -4
 307 0002 83B0     		sub	sp, sp, #12
 308              		.cfi_def_cfa_offset 32
 309 0004 0646     		mov	r6, r0
 310 0006 0F46     		mov	r7, r1
 177:bsp/can/bsp_can.c ****     static CAN_RxHeaderTypeDef rxconf; // åŒä¸Š
 311              		.loc 1 177 5 is_stmt 1 view .LVU74
 178:bsp/can/bsp_can.c ****     uint8_t can_rx_buff[8];
 312              		.loc 1 178 5 view .LVU75
 179:bsp/can/bsp_can.c ****     while (HAL_CAN_GetRxFifoFillLevel(_hcan, fifox)) // FIFOä¸ä¸ºç©º,æœ‰å¯èƒ½åœ¨å…¶ä»–ä¸­æ–­æ—¶æœ
 313              		.loc 1 179 5 view .LVU76
 314              	.LVL15:
 315              	.L20:
 316              		.loc 1 179 12 view .LVU77
 317 0008 3946     		mov	r1, r7
 318 000a 3046     		mov	r0, r6
 319 000c FFF7FEFF 		bl	HAL_CAN_GetRxFifoFillLevel
 320              	.LVL16:
 321              		.loc 1 179 12 is_stmt 0 discriminator 1 view .LVU78
 322 0010 E0B1     		cbz	r0, .L19
 180:bsp/can/bsp_can.c ****     {
 181:bsp/can/bsp_can.c ****         HAL_CAN_GetRxMessage(_hcan, fifox, &rxconf, can_rx_buff); // ä»FIFOä¸­è·å–æ•°æ®
 323              		.loc 1 181 9 is_stmt 1 view .LVU79
 324 0012 6B46     		mov	r3, sp
 325 0014 264A     		ldr	r2, .L32
 326 0016 3946     		mov	r1, r7
 327 0018 3046     		mov	r0, r6
 328 001a FFF7FEFF 		bl	HAL_CAN_GetRxMessage
 329              	.LVL17:
 182:bsp/can/bsp_can.c ****         for (size_t i = 0; i < idx; ++i)
 330              		.loc 1 182 9 view .LVU80
 331              	.LBB2:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 11


 332              		.loc 1 182 14 view .LVU81
 333              		.loc 1 182 21 is_stmt 0 view .LVU82
 334 001e 0024     		movs	r4, #0
 335              		.loc 1 182 9 view .LVU83
 336 0020 17E0     		b	.L21
 337              	.LVL18:
 338              	.L31:
 183:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 184:bsp/can/bsp_can.c ****             if (_hcan == can_instance[i]->can_handle && rxconf.StdId == can_instance[i]->rx_id)//æ 
 339              		.loc 1 184 63 discriminator 1 view .LVU84
 340 0022 234A     		ldr	r2, .L32
 341 0024 1168     		ldr	r1, [r2]
 342              		.loc 1 184 88 discriminator 1 view .LVU85
 343 0026 2A6D     		ldr	r2, [r5, #80]	@ unaligned
 344              		.loc 1 184 54 discriminator 1 view .LVU86
 345 0028 9142     		cmp	r1, r2
 346 002a 1CD1     		bne	.L22
 185:bsp/can/bsp_can.c ****             {
 186:bsp/can/bsp_can.c ****                 if (can_instance[i]->can_module_callback != NULL) // å›è°ƒå‡½æ•°ä¸ä¸ºç©ºå°±è°ƒç”¨
 347              		.loc 1 186 17 is_stmt 1 view .LVU87
 348              		.loc 1 186 36 is_stmt 0 view .LVU88
 349 002c D5F85530 		ldr	r3, [r5, #85]	@ unaligned
 350              		.loc 1 186 20 view .LVU89
 351 0030 63B1     		cbz	r3, .L19
 187:bsp/can/bsp_can.c ****                 {
 188:bsp/can/bsp_can.c ****                     can_instance[i]->rx_len = rxconf.DLC;                      // ä¿å­˜æ¥æ”¶åˆ°çš
 352              		.loc 1 188 21 is_stmt 1 view .LVU90
 353              		.loc 1 188 53 is_stmt 0 view .LVU91
 354 0032 1F4B     		ldr	r3, .L32
 355 0034 1A69     		ldr	r2, [r3, #16]
 356              		.loc 1 188 45 view .LVU92
 357 0036 85F85420 		strb	r2, [r5, #84]
 189:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 358              		.loc 1 189 21 is_stmt 1 view .LVU93
 359 003a 6946     		mov	r1, sp
 360 003c 05F14800 		add	r0, r5, #72
 361 0040 FFF7FEFF 		bl	memcpy
 362              	.LVL19:
 190:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 363              		.loc 1 190 21 view .LVU94
 364              		.loc 1 190 36 is_stmt 0 view .LVU95
 365 0044 D5F85530 		ldr	r3, [r5, #85]	@ unaligned
 366              		.loc 1 190 21 view .LVU96
 367 0048 2846     		mov	r0, r5
 368 004a 9847     		blx	r3
 369              	.LVL20:
 191:bsp/can/bsp_can.c ****                 }
 192:bsp/can/bsp_can.c ****                 return;
 370              		.loc 1 192 17 is_stmt 1 view .LVU97
 371              	.L19:
 372              		.loc 1 192 17 is_stmt 0 view .LVU98
 373              	.LBE2:
 193:bsp/can/bsp_can.c ****             }
 194:bsp/can/bsp_can.c ****             if(_hcan == can_instance[i]->can_handle&&(rxconf.ExtId&0xFF)==can_instance[i]->rx_id)//
 195:bsp/can/bsp_can.c ****             {
 196:bsp/can/bsp_can.c ****                 if (can_instance[i]->can_module_callback != NULL) // å›è°ƒå‡½æ•°ä¸ä¸ºç©ºå°±è°ƒç”¨
 197:bsp/can/bsp_can.c ****                 {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 12


 198:bsp/can/bsp_can.c ****                     can_instance[i]->rx_len = rxconf.DLC;                      // ä¿å­˜æ¥æ”¶åˆ°çš
 199:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 200:bsp/can/bsp_can.c ****                     memcpy(&can_instance[i]->rxconf, &rxconf, sizeof( CAN_RxHeaderTypeDef));//ä¿å­
 201:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 202:bsp/can/bsp_can.c ****                 }
 203:bsp/can/bsp_can.c ****                 return;
 204:bsp/can/bsp_can.c ****             }
 205:bsp/can/bsp_can.c ****         }
 206:bsp/can/bsp_can.c ****     }
 207:bsp/can/bsp_can.c **** }
 374              		.loc 1 207 1 view .LVU99
 375 004c 03B0     		add	sp, sp, #12
 376              		.cfi_remember_state
 377              		.cfi_def_cfa_offset 20
 378              		@ sp needed
 379 004e F0BD     		pop	{r4, r5, r6, r7, pc}
 380              	.LVL21:
 381              	.L25:
 382              		.cfi_restore_state
 383              	.LBB3:
 182:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 384              		.loc 1 182 37 is_stmt 1 discriminator 2 view .LVU100
 385 0050 0134     		adds	r4, r4, #1
 386              	.LVL22:
 387              	.L21:
 182:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 388              		.loc 1 182 30 discriminator 1 view .LVU101
 389 0052 184B     		ldr	r3, .L32+4
 390 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 391 0056 A342     		cmp	r3, r4
 392 0058 D6D9     		bls	.L20
 184:bsp/can/bsp_can.c ****             {
 393              		.loc 1 184 13 view .LVU102
 184:bsp/can/bsp_can.c ****             {
 394              		.loc 1 184 38 is_stmt 0 view .LVU103
 395 005a 174B     		ldr	r3, .L32+8
 396 005c 53F82450 		ldr	r5, [r3, r4, lsl #2]
 184:bsp/can/bsp_can.c ****             {
 397              		.loc 1 184 41 view .LVU104
 398 0060 2B68     		ldr	r3, [r5]	@ unaligned
 184:bsp/can/bsp_can.c ****             {
 399              		.loc 1 184 16 view .LVU105
 400 0062 B342     		cmp	r3, r6
 401 0064 DDD0     		beq	.L31
 402              	.L22:
 194:bsp/can/bsp_can.c ****             {
 403              		.loc 1 194 13 is_stmt 1 view .LVU106
 194:bsp/can/bsp_can.c ****             {
 404              		.loc 1 194 15 is_stmt 0 view .LVU107
 405 0066 B342     		cmp	r3, r6
 406 0068 F2D1     		bne	.L25
 194:bsp/can/bsp_can.c ****             {
 407              		.loc 1 194 67 discriminator 1 view .LVU108
 408 006a 114B     		ldr	r3, .L32
 409 006c 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 194:bsp/can/bsp_can.c ****             {
 410              		.loc 1 194 90 discriminator 1 view .LVU109
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 13


 411 006e 2B6D     		ldr	r3, [r5, #80]	@ unaligned
 194:bsp/can/bsp_can.c ****             {
 412              		.loc 1 194 52 discriminator 1 view .LVU110
 413 0070 9A42     		cmp	r2, r3
 414 0072 EDD1     		bne	.L25
 196:bsp/can/bsp_can.c ****                 {
 415              		.loc 1 196 17 is_stmt 1 view .LVU111
 196:bsp/can/bsp_can.c ****                 {
 416              		.loc 1 196 36 is_stmt 0 view .LVU112
 417 0074 D5F85530 		ldr	r3, [r5, #85]	@ unaligned
 196:bsp/can/bsp_can.c ****                 {
 418              		.loc 1 196 20 view .LVU113
 419 0078 002B     		cmp	r3, #0
 420 007a E7D0     		beq	.L19
 198:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 421              		.loc 1 198 21 is_stmt 1 view .LVU114
 198:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 422              		.loc 1 198 53 is_stmt 0 view .LVU115
 423 007c 0C4E     		ldr	r6, .L32
 424              	.LVL23:
 198:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 425              		.loc 1 198 53 view .LVU116
 426 007e 3269     		ldr	r2, [r6, #16]
 198:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 427              		.loc 1 198 45 view .LVU117
 428 0080 85F85420 		strb	r2, [r5, #84]
 199:bsp/can/bsp_can.c ****                     memcpy(&can_instance[i]->rxconf, &rxconf, sizeof( CAN_RxHeaderTypeDef));//ä¿å­
 429              		.loc 1 199 21 is_stmt 1 view .LVU118
 430 0084 6946     		mov	r1, sp
 431 0086 05F14800 		add	r0, r5, #72
 432 008a FFF7FEFF 		bl	memcpy
 433              	.LVL24:
 200:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 434              		.loc 1 200 21 view .LVU119
 435 008e 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 436 0090 E861     		str	r0, [r5, #28]	@ unaligned
 437 0092 2962     		str	r1, [r5, #32]	@ unaligned
 438 0094 6A62     		str	r2, [r5, #36]	@ unaligned
 439 0096 AB62     		str	r3, [r5, #40]	@ unaligned
 440 0098 07CE     		ldmia	r6!, {r0, r1, r2}
 441 009a E862     		str	r0, [r5, #44]	@ unaligned
 442 009c 2963     		str	r1, [r5, #48]	@ unaligned
 443 009e 6A63     		str	r2, [r5, #52]	@ unaligned
 201:bsp/can/bsp_can.c ****                 }
 444              		.loc 1 201 21 view .LVU120
 201:bsp/can/bsp_can.c ****                 }
 445              		.loc 1 201 33 is_stmt 0 view .LVU121
 446 00a0 054B     		ldr	r3, .L32+8
 447 00a2 53F82400 		ldr	r0, [r3, r4, lsl #2]
 201:bsp/can/bsp_can.c ****                 }
 448              		.loc 1 201 36 view .LVU122
 449 00a6 D0F85530 		ldr	r3, [r0, #85]	@ unaligned
 201:bsp/can/bsp_can.c ****                 }
 450              		.loc 1 201 21 view .LVU123
 451 00aa 9847     		blx	r3
 452              	.LVL25:
 203:bsp/can/bsp_can.c ****             }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 14


 453              		.loc 1 203 17 is_stmt 1 view .LVU124
 454 00ac CEE7     		b	.L19
 455              	.L33:
 456 00ae 00BF     		.align	2
 457              	.L32:
 458 00b0 00000000 		.word	rxconf.0
 459 00b4 00000000 		.word	idx
 460 00b8 00000000 		.word	can_instance
 461              	.LBE3:
 462              		.cfi_endproc
 463              	.LFE143:
 465              		.section	.text.CANRegister,"ax",%progbits
 466              		.align	1
 467              		.global	CANRegister
 468              		.syntax unified
 469              		.thumb
 470              		.thumb_func
 472              	CANRegister:
 473              	.LVL26:
 474              	.LFB140:
  84:bsp/can/bsp_can.c ****     if (!idx)
 475              		.loc 1 84 1 view -0
 476              		.cfi_startproc
 477              		@ args = 0, pretend = 0, frame = 0
 478              		@ frame_needed = 0, uses_anonymous_args = 0
  84:bsp/can/bsp_can.c ****     if (!idx)
 479              		.loc 1 84 1 is_stmt 0 view .LVU126
 480 0000 38B5     		push	{r3, r4, r5, lr}
 481              		.cfi_def_cfa_offset 16
 482              		.cfi_offset 3, -16
 483              		.cfi_offset 4, -12
 484              		.cfi_offset 5, -8
 485              		.cfi_offset 14, -4
 486 0002 0446     		mov	r4, r0
  85:bsp/can/bsp_can.c ****     {
 487              		.loc 1 85 5 is_stmt 1 view .LVU127
  85:bsp/can/bsp_can.c ****     {
 488              		.loc 1 85 9 is_stmt 0 view .LVU128
 489 0004 274B     		ldr	r3, .L48
 490 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  85:bsp/can/bsp_can.c ****     {
 491              		.loc 1 85 8 view .LVU129
 492 0008 33B1     		cbz	r3, .L45
 493              	.LVL27:
 494              	.L35:
  88:bsp/can/bsp_can.c ****       }
 495              		.loc 1 88 47 is_stmt 1 view .LVU130
  90:bsp/can/bsp_can.c ****      {
 496              		.loc 1 90 7 view .LVU131
  90:bsp/can/bsp_can.c ****      {
 497              		.loc 1 90 15 is_stmt 0 view .LVU132
 498 000a 264B     		ldr	r3, .L48
 499 000c 93F800C0 		ldrb	ip, [r3]	@ zero_extendqisi2
  90:bsp/can/bsp_can.c ****      {
 500              		.loc 1 90 10 view .LVU133
 501 0010 BCF10F0F 		cmp	ip, #15
 502 0014 12D9     		bls	.L43
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 15


 503              	.L37:
  92:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 504              		.loc 1 92 9 is_stmt 1 view .LVU134
  92:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 505              		.loc 1 92 15 view .LVU135
 506 0016 FEE7     		b	.L37
 507              	.LVL28:
 508              	.L45:
  87:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 509              		.loc 1 87 9 view .LVU136
 510 0018 FFF7FEFF 		bl	CANServiceInit
 511              	.LVL29:
  87:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 512              		.loc 1 87 9 is_stmt 0 view .LVU137
 513 001c F5E7     		b	.L35
 514              	.LVL30:
 515              	.L38:
 516              	.LBB4:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 517              		.loc 1 95 36 is_stmt 1 discriminator 2 view .LVU138
 518 001e 0133     		adds	r3, r3, #1
 519              	.LVL31:
 520              	.L36:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 521              		.loc 1 95 28 discriminator 1 view .LVU139
 522 0020 9C45     		cmp	ip, r3
 523 0022 0DD9     		bls	.L46
  97:bsp/can/bsp_can.c ****       {
 524              		.loc 1 97 6 view .LVU140
  97:bsp/can/bsp_can.c ****       {
 525              		.loc 1 97 22 is_stmt 0 view .LVU141
 526 0024 204A     		ldr	r2, .L48+4
 527 0026 52F82320 		ldr	r2, [r2, r3, lsl #2]
  97:bsp/can/bsp_can.c ****       {
 528              		.loc 1 97 25 view .LVU142
 529 002a 106D     		ldr	r0, [r2, #80]	@ unaligned
  97:bsp/can/bsp_can.c ****       {
 530              		.loc 1 97 42 view .LVU143
 531 002c E168     		ldr	r1, [r4, #12]
  97:bsp/can/bsp_can.c ****       {
 532              		.loc 1 97 9 view .LVU144
 533 002e 8842     		cmp	r0, r1
 534 0030 F5D1     		bne	.L38
  97:bsp/can/bsp_can.c ****       {
 535              		.loc 1 97 68 discriminator 1 view .LVU145
 536 0032 1168     		ldr	r1, [r2]	@ unaligned
  97:bsp/can/bsp_can.c ****       {
 537              		.loc 1 97 90 discriminator 1 view .LVU146
 538 0034 2268     		ldr	r2, [r4]
  97:bsp/can/bsp_can.c ****       {
 539              		.loc 1 97 50 discriminator 1 view .LVU147
 540 0036 9142     		cmp	r1, r2
 541 0038 F1D1     		bne	.L38
 542              	.L39:
  99:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 543              		.loc 1 99 10 is_stmt 1 view .LVU148
  99:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 16


 544              		.loc 1 99 16 view .LVU149
 545 003a FEE7     		b	.L39
 546              	.LVL32:
 547              	.L43:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 548              		.loc 1 95 19 is_stmt 0 view .LVU150
 549 003c 0023     		movs	r3, #0
 550 003e EFE7     		b	.L36
 551              	.LVL33:
 552              	.L46:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 553              		.loc 1 95 19 view .LVU151
 554              	.LBE4:
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 555              		.loc 1 104 5 is_stmt 1 view .LVU152
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 556              		.loc 1 104 44 is_stmt 0 view .LVU153
 557 0040 5D20     		movs	r0, #93
 558 0042 FFF7FEFF 		bl	malloc
 559              	.LVL34:
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 560              		.loc 1 104 44 view .LVU154
 561 0046 0546     		mov	r5, r0
 562              	.LVL35:
 105:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
 563              		.loc 1 105 5 is_stmt 1 view .LVU155
 564 0048 5D22     		movs	r2, #93
 565 004a 0021     		movs	r1, #0
 566 004c FFF7FEFF 		bl	memset
 567              	.LVL36:
 107:bsp/can/bsp_can.c ****     instance->txconf.StdId = config->tx_id; // å‘é€id
 568              		.loc 1 107 5 view .LVU156
 107:bsp/can/bsp_can.c ****     instance->txconf.StdId = config->tx_id; // å‘é€id
 569              		.loc 1 107 30 is_stmt 0 view .LVU157
 570 0050 2369     		ldr	r3, [r4, #16]
 107:bsp/can/bsp_can.c ****     instance->txconf.StdId = config->tx_id; // å‘é€id
 571              		.loc 1 107 28 view .LVU158
 572 0052 AB60     		str	r3, [r5, #8]	@ unaligned
 107:bsp/can/bsp_can.c ****     instance->txconf.StdId = config->tx_id; // å‘é€id
 573              		.loc 1 107 62 is_stmt 1 view .LVU159
 108:bsp/can/bsp_can.c ****     instance->txconf.IDE = config->tx_ide;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰
 574              		.loc 1 108 5 view .LVU160
 108:bsp/can/bsp_can.c ****     instance->txconf.IDE = config->tx_ide;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰
 575              		.loc 1 108 36 is_stmt 0 view .LVU161
 576 0054 A168     		ldr	r1, [r4, #8]
 108:bsp/can/bsp_can.c ****     instance->txconf.IDE = config->tx_ide;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰
 577              		.loc 1 108 28 view .LVU162
 578 0056 6960     		str	r1, [r5, #4]	@ unaligned
 109:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 579              		.loc 1 109 5 is_stmt 1 view .LVU163
 109:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 580              		.loc 1 109 34 is_stmt 0 view .LVU164
 581 0058 6268     		ldr	r2, [r4, #4]
 109:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 582              		.loc 1 109 26 view .LVU165
 583 005a EA60     		str	r2, [r5, #12]	@ unaligned
 110:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 17


 584              		.loc 1 110 5 is_stmt 1 view .LVU166
 111:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 585              		.loc 1 111 5 view .LVU167
 111:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 586              		.loc 1 111 26 is_stmt 0 view .LVU168
 587 005c 0023     		movs	r3, #0
 588 005e 0820     		movs	r0, #8
 589 0060 2875     		strb	r0, [r5, #20]
 590 0062 6B75     		strb	r3, [r5, #21]
 591 0064 AB75     		strb	r3, [r5, #22]
 592 0066 EB75     		strb	r3, [r5, #23]
 113:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 593              		.loc 1 113 5 is_stmt 1 view .LVU169
 113:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 594              		.loc 1 113 34 is_stmt 0 view .LVU170
 595 0068 2368     		ldr	r3, [r4]
 113:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 596              		.loc 1 113 26 view .LVU171
 597 006a 2B60     		str	r3, [r5]	@ unaligned
 114:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 598              		.loc 1 114 5 is_stmt 1 view .LVU172
 114:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 599              		.loc 1 114 21 is_stmt 0 view .LVU173
 600 006c A963     		str	r1, [r5, #56]	@ unaligned
 115:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 601              		.loc 1 115 5 is_stmt 1 view .LVU174
 115:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 602              		.loc 1 115 29 is_stmt 0 view .LVU175
 603 006e E368     		ldr	r3, [r4, #12]
 115:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 604              		.loc 1 115 21 view .LVU176
 605 0070 2B65     		str	r3, [r5, #80]	@ unaligned
 116:bsp/can/bsp_can.c ****     instance->id = config->id;
 606              		.loc 1 116 5 is_stmt 1 view .LVU177
 116:bsp/can/bsp_can.c ****     instance->id = config->id;
 607              		.loc 1 116 43 is_stmt 0 view .LVU178
 608 0072 6369     		ldr	r3, [r4, #20]
 116:bsp/can/bsp_can.c ****     instance->id = config->id;
 609              		.loc 1 116 35 view .LVU179
 610 0074 C5F85530 		str	r3, [r5, #85]	@ unaligned
 117:bsp/can/bsp_can.c **** 
 611              		.loc 1 117 5 is_stmt 1 view .LVU180
 117:bsp/can/bsp_can.c **** 
 612              		.loc 1 117 26 is_stmt 0 view .LVU181
 613 0078 A369     		ldr	r3, [r4, #24]
 117:bsp/can/bsp_can.c **** 
 614              		.loc 1 117 18 view .LVU182
 615 007a C5F85930 		str	r3, [r5, #89]	@ unaligned
 120:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 616              		.loc 1 120 5 is_stmt 1 view .LVU183
 120:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 617              		.loc 1 120 7 is_stmt 0 view .LVU184
 618 007e 042A     		cmp	r2, #4
 619 0080 0BD0     		beq	.L47
 123:bsp/can/bsp_can.c ****     }         // æ·»åŠ CANè¿‡æ»¤å™¨è§„åˆ™
 620              		.loc 1 123 10 is_stmt 1 view .LVU185
 621 0082 2846     		mov	r0, r5
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 18


 622 0084 FFF7FEFF 		bl	CANAddFilter
 623              	.LVL37:
 624              	.L42:
 125:bsp/can/bsp_can.c **** 
 625              		.loc 1 125 5 view .LVU186
 125:bsp/can/bsp_can.c **** 
 626              		.loc 1 125 21 is_stmt 0 view .LVU187
 627 0088 064A     		ldr	r2, .L48
 628 008a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 629 008c 591C     		adds	r1, r3, #1
 630 008e 1170     		strb	r1, [r2]
 125:bsp/can/bsp_can.c **** 
 631              		.loc 1 125 25 view .LVU188
 632 0090 054A     		ldr	r2, .L48+4
 633 0092 42F82350 		str	r5, [r2, r3, lsl #2]
 127:bsp/can/bsp_can.c **** }
 634              		.loc 1 127 5 is_stmt 1 view .LVU189
 128:bsp/can/bsp_can.c **** 
 635              		.loc 1 128 1 is_stmt 0 view .LVU190
 636 0096 2846     		mov	r0, r5
 637 0098 38BD     		pop	{r3, r4, r5, pc}
 638              	.LVL38:
 639              	.L47:
 121:bsp/can/bsp_can.c ****     }else{
 640              		.loc 1 121 9 is_stmt 1 view .LVU191
 641 009a 2846     		mov	r0, r5
 642 009c FFF7FEFF 		bl	EXTCANAddFilter
 643              	.LVL39:
 644 00a0 F2E7     		b	.L42
 645              	.L49:
 646 00a2 00BF     		.align	2
 647              	.L48:
 648 00a4 00000000 		.word	idx
 649 00a8 00000000 		.word	can_instance
 650              		.cfi_endproc
 651              	.LFE140:
 653              		.section	.text.CANTransmit,"ax",%progbits
 654              		.align	1
 655              		.global	CANTransmit
 656              		.syntax unified
 657              		.thumb
 658              		.thumb_func
 660              	CANTransmit:
 661              	.LVL40:
 662              	.LFB141:
 133:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 663              		.loc 1 133 1 view -0
 664              		.cfi_startproc
 665              		@ args = 0, pretend = 0, frame = 0
 666              		@ frame_needed = 0, uses_anonymous_args = 0
 133:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 667              		.loc 1 133 1 is_stmt 0 view .LVU193
 668 0000 10B5     		push	{r4, lr}
 669              		.cfi_def_cfa_offset 8
 670              		.cfi_offset 4, -8
 671              		.cfi_offset 14, -4
 672 0002 2DED028B 		vpush.64	{d8}
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 19


 673              		.cfi_def_cfa_offset 16
 674              		.cfi_offset 80, -16
 675              		.cfi_offset 81, -12
 676 0006 0446     		mov	r4, r0
 677 0008 F0EE408A 		vmov.f32	s17, s0
 134:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 678              		.loc 1 134 5 is_stmt 1 view .LVU194
 135:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 679              		.loc 1 135 5 view .LVU195
 136:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 680              		.loc 1 136 5 view .LVU196
 136:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 681              		.loc 1 136 23 is_stmt 0 view .LVU197
 682 000c FFF7FEFF 		bl	DWT_GetTimeline_ms
 683              	.LVL41:
 136:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 684              		.loc 1 136 23 view .LVU198
 685 0010 B0EE408A 		vmov.f32	s16, s0
 686              	.LVL42:
 137:bsp/can/bsp_can.c ****     {
 687              		.loc 1 137 5 is_stmt 1 view .LVU199
 688              	.L51:
 137:bsp/can/bsp_can.c ****     {
 689              		.loc 1 137 67 view .LVU200
 137:bsp/can/bsp_can.c ****     {
 690              		.loc 1 137 12 is_stmt 0 view .LVU201
 691 0014 2068     		ldr	r0, [r4]	@ unaligned
 692 0016 FFF7FEFF 		bl	HAL_CAN_GetTxMailboxesFreeLevel
 693              	.LVL43:
 137:bsp/can/bsp_can.c ****     {
 694              		.loc 1 137 67 discriminator 1 view .LVU202
 695 001a 80B9     		cbnz	r0, .L58
 139:bsp/can/bsp_can.c ****         {
 696              		.loc 1 139 9 is_stmt 1 view .LVU203
 139:bsp/can/bsp_can.c ****         {
 697              		.loc 1 139 13 is_stmt 0 view .LVU204
 698 001c FFF7FEFF 		bl	DWT_GetTimeline_ms
 699              	.LVL44:
 139:bsp/can/bsp_can.c ****         {
 700              		.loc 1 139 34 discriminator 1 view .LVU205
 701 0020 30EE480A 		vsub.f32	s0, s0, s16
 139:bsp/can/bsp_can.c ****         {
 702              		.loc 1 139 12 discriminator 1 view .LVU206
 703 0024 B4EEE80A 		vcmpe.f32	s0, s17
 704 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 705 002c F2DD     		ble	.L51
 141:bsp/can/bsp_can.c ****             busy_count++;
 706              		.loc 1 141 105 is_stmt 1 view .LVU207
 142:bsp/can/bsp_can.c ****             return 0;
 707              		.loc 1 142 13 view .LVU208
 142:bsp/can/bsp_can.c ****             return 0;
 708              		.loc 1 142 23 is_stmt 0 view .LVU209
 709 002e 104A     		ldr	r2, .L60
 710 0030 1368     		ldr	r3, [r2]
 711 0032 0133     		adds	r3, r3, #1
 712 0034 1360     		str	r3, [r2]
 143:bsp/can/bsp_can.c ****         }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 20


 713              		.loc 1 143 13 is_stmt 1 view .LVU210
 143:bsp/can/bsp_can.c ****         }
 714              		.loc 1 143 20 is_stmt 0 view .LVU211
 715 0036 0020     		movs	r0, #0
 716              	.L53:
 155:bsp/can/bsp_can.c **** 
 717              		.loc 1 155 1 view .LVU212
 718 0038 BDEC028B 		vldm	sp!, {d8}
 719              		.cfi_remember_state
 720              		.cfi_restore 80
 721              		.cfi_restore 81
 722              		.cfi_def_cfa_offset 8
 723              	.LVL45:
 155:bsp/can/bsp_can.c **** 
 724              		.loc 1 155 1 view .LVU213
 725 003c 10BD     		pop	{r4, pc}
 726              	.LVL46:
 727              	.L58:
 728              		.cfi_restore_state
 146:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 729              		.loc 1 146 5 is_stmt 1 view .LVU214
 146:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 730              		.loc 1 146 17 is_stmt 0 view .LVU215
 731 003e FFF7FEFF 		bl	DWT_GetTimeline_ms
 732              	.LVL47:
 146:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 733              		.loc 1 146 38 discriminator 1 view .LVU216
 734 0042 30EE480A 		vsub.f32	s0, s0, s16
 146:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 735              		.loc 1 146 15 discriminator 1 view .LVU217
 736 0046 0B4B     		ldr	r3, .L60+4
 737 0048 83ED000A 		vstr.32	s0, [r3]
 148:bsp/can/bsp_can.c ****     {
 738              		.loc 1 148 5 is_stmt 1 view .LVU218
 148:bsp/can/bsp_can.c ****     {
 739              		.loc 1 148 9 is_stmt 0 view .LVU219
 740 004c 2346     		mov	r3, r4
 741 004e 53F83C0B 		ldr	r0, [r3], #60	@ unaligned
 742 0052 04F14002 		add	r2, r4, #64
 743 0056 211D     		adds	r1, r4, #4
 744 0058 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 745              	.LVL48:
 148:bsp/can/bsp_can.c ****     {
 746              		.loc 1 148 8 discriminator 1 view .LVU220
 747 005c 08B9     		cbnz	r0, .L59
 154:bsp/can/bsp_can.c **** }
 748              		.loc 1 154 12 view .LVU221
 749 005e 0120     		movs	r0, #1
 750 0060 EAE7     		b	.L53
 751              	.L59:
 151:bsp/can/bsp_can.c ****         return 0;
 752              		.loc 1 151 9 is_stmt 1 view .LVU222
 151:bsp/can/bsp_can.c ****         return 0;
 753              		.loc 1 151 19 is_stmt 0 view .LVU223
 754 0062 034A     		ldr	r2, .L60
 755 0064 1368     		ldr	r3, [r2]
 756 0066 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 21


 757 0068 1360     		str	r3, [r2]
 152:bsp/can/bsp_can.c ****     }
 758              		.loc 1 152 9 is_stmt 1 view .LVU224
 152:bsp/can/bsp_can.c ****     }
 759              		.loc 1 152 16 is_stmt 0 view .LVU225
 760 006a 0020     		movs	r0, #0
 761 006c E4E7     		b	.L53
 762              	.L61:
 763 006e 00BF     		.align	2
 764              	.L60:
 765 0070 00000000 		.word	busy_count.2
 766 0074 00000000 		.word	wait_time.1
 767              		.cfi_endproc
 768              	.LFE141:
 770              		.section	.text.CANSetDLC,"ax",%progbits
 771              		.align	1
 772              		.global	CANSetDLC
 773              		.syntax unified
 774              		.thumb
 775              		.thumb_func
 777              	CANSetDLC:
 778              	.LVL49:
 779              	.LFB142:
 158:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 780              		.loc 1 158 1 is_stmt 1 view -0
 781              		.cfi_startproc
 782              		@ args = 0, pretend = 0, frame = 0
 783              		@ frame_needed = 0, uses_anonymous_args = 0
 784              		@ link register save eliminated.
 160:bsp/can/bsp_can.c ****         while (1)
 785              		.loc 1 160 5 view .LVU227
 160:bsp/can/bsp_can.c ****         while (1)
 786              		.loc 1 160 20 is_stmt 0 view .LVU228
 787 0000 4B1E     		subs	r3, r1, #1
 788 0002 DBB2     		uxtb	r3, r3
 160:bsp/can/bsp_can.c ****         while (1)
 789              		.loc 1 160 8 view .LVU229
 790 0004 072B     		cmp	r3, #7
 791 0006 01D9     		bls	.L62
 792              	.L64:
 161:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 793              		.loc 1 161 9 is_stmt 1 view .LVU230
 163:bsp/can/bsp_can.c **** }
 794              		.loc 1 163 5 discriminator 1 view .LVU231
 163:bsp/can/bsp_can.c **** }
 795              		.loc 1 163 27 is_stmt 0 discriminator 1 view .LVU232
 796 0008 4161     		str	r1, [r0, #20]	@ unaligned
 161:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 797              		.loc 1 161 15 is_stmt 1 view .LVU233
 798 000a FDE7     		b	.L64
 799              	.L62:
 164:bsp/can/bsp_can.c **** 
 800              		.loc 1 164 1 is_stmt 0 view .LVU234
 801 000c 7047     		bx	lr
 802              		.cfi_endproc
 803              	.LFE142:
 805              		.section	.text.HAL_CAN_RxFifo0MsgPendingCallback,"ax",%progbits
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 22


 806              		.align	1
 807              		.global	HAL_CAN_RxFifo0MsgPendingCallback
 808              		.syntax unified
 809              		.thumb
 810              		.thumb_func
 812              	HAL_CAN_RxFifo0MsgPendingCallback:
 813              	.LVL50:
 814              	.LFB144:
 208:bsp/can/bsp_can.c **** 
 209:bsp/can/bsp_can.c **** /**
 210:bsp/can/bsp_can.c ****  * @brief æ³¨æ„,STM32çš„ä¸¤ä¸ªCANè®¾å¤‡å…±äº«ä¸¤ä¸ªFIFO
 211:bsp/can/bsp_can.c ****  * ä¸‹é¢ä¸¤ä¸ªå‡½æ•°æ˜¯HALåº“ä¸­çš„å›è°ƒå‡½æ•°,ä»–ä»¬è¢«HALå£°æ˜ä¸º__weak,è¿™é‡Œå¯¹ä»–ä»¬è¿›è¡Œé
 212:bsp/can/bsp_can.c ****  * å½“FIFO0æˆ–FIFO1æº¢å‡ºæ—¶ä¼šè°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°
 213:bsp/can/bsp_can.c ****  */
 214:bsp/can/bsp_can.c **** // ä¸‹é¢çš„å‡½æ•°ä¼šè°ƒç”¨CANFIFOxCallback()æ¥è¿›ä¸€æ­¥å¤„ç†æ¥è‡ªç‰¹å®šCANè®¾å¤‡çš„æ¶ˆæ¯
 215:bsp/can/bsp_can.c **** 
 216:bsp/can/bsp_can.c **** /**
 217:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_0 is full,this func would be called
 218:bsp/can/bsp_can.c ****  *
 219:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_0 comes from
 220:bsp/can/bsp_can.c ****  */
 221:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *hcan)
 222:bsp/can/bsp_can.c **** {
 815              		.loc 1 222 1 is_stmt 1 view -0
 816              		.cfi_startproc
 817              		@ args = 0, pretend = 0, frame = 0
 818              		@ frame_needed = 0, uses_anonymous_args = 0
 819              		.loc 1 222 1 is_stmt 0 view .LVU236
 820 0000 08B5     		push	{r3, lr}
 821              		.cfi_def_cfa_offset 8
 822              		.cfi_offset 3, -8
 823              		.cfi_offset 14, -4
 223:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO0); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 824              		.loc 1 223 5 is_stmt 1 view .LVU237
 825 0002 0021     		movs	r1, #0
 826 0004 FFF7FEFF 		bl	CANFIFOxCallback
 827              	.LVL51:
 224:bsp/can/bsp_can.c **** }
 828              		.loc 1 224 1 is_stmt 0 view .LVU238
 829 0008 08BD     		pop	{r3, pc}
 830              		.cfi_endproc
 831              	.LFE144:
 833              		.section	.text.HAL_CAN_RxFifo1MsgPendingCallback,"ax",%progbits
 834              		.align	1
 835              		.global	HAL_CAN_RxFifo1MsgPendingCallback
 836              		.syntax unified
 837              		.thumb
 838              		.thumb_func
 840              	HAL_CAN_RxFifo1MsgPendingCallback:
 841              	.LVL52:
 842              	.LFB145:
 225:bsp/can/bsp_can.c **** 
 226:bsp/can/bsp_can.c **** /**
 227:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_1 is full,this func would be called
 228:bsp/can/bsp_can.c ****  *
 229:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_1 comes from
 230:bsp/can/bsp_can.c ****  */
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 23


 231:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo1MsgPendingCallback(CAN_HandleTypeDef *hcan)
 232:bsp/can/bsp_can.c **** {
 843              		.loc 1 232 1 is_stmt 1 view -0
 844              		.cfi_startproc
 845              		@ args = 0, pretend = 0, frame = 0
 846              		@ frame_needed = 0, uses_anonymous_args = 0
 847              		.loc 1 232 1 is_stmt 0 view .LVU240
 848 0000 08B5     		push	{r3, lr}
 849              		.cfi_def_cfa_offset 8
 850              		.cfi_offset 3, -8
 851              		.cfi_offset 14, -4
 233:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO1); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 852              		.loc 1 233 5 is_stmt 1 view .LVU241
 853 0002 0121     		movs	r1, #1
 854 0004 FFF7FEFF 		bl	CANFIFOxCallback
 855              	.LVL53:
 234:bsp/can/bsp_can.c **** }
 856              		.loc 1 234 1 is_stmt 0 view .LVU242
 857 0008 08BD     		pop	{r3, pc}
 858              		.cfi_endproc
 859              	.LFE145:
 861              		.section	.bss.rxconf.0,"aw",%nobits
 862              		.align	2
 865              	rxconf.0:
 866 0000 00000000 		.space	28
 866      00000000 
 866      00000000 
 866      00000000 
 866      00000000 
 867              		.section	.bss.wait_time.1,"aw",%nobits
 868              		.align	2
 871              	wait_time.1:
 872 0000 00000000 		.space	4
 873              		.section	.bss.busy_count.2,"aw",%nobits
 874              		.align	2
 877              	busy_count.2:
 878 0000 00000000 		.space	4
 879              		.section	.data.can2_filter_idx.3,"aw"
 882              	can2_filter_idx.3:
 883 0000 0E       		.byte	14
 884              		.section	.bss.can1_filter_idx.4,"aw",%nobits
 887              	can1_filter_idx.4:
 888 0000 00       		.space	1
 889              		.section	.data.can2_filter_idx.5,"aw"
 892              	can2_filter_idx.5:
 893 0000 17       		.byte	23
 894              		.section	.data.can1_filter_idx.6,"aw"
 897              	can1_filter_idx.6:
 898 0000 08       		.byte	8
 899              		.section	.bss.idx,"aw",%nobits
 902              	idx:
 903 0000 00       		.space	1
 904              		.section	.bss.can_instance,"aw",%nobits
 905              		.align	2
 908              	can_instance:
 909 0000 00000000 		.space	64
 909      00000000 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 24


 909      00000000 
 909      00000000 
 909      00000000 
 910              		.text
 911              	.Letext0:
 912              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 913              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 914              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 915              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 916              		.file 6 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 917              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 918              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 919              		.file 9 "Core/Inc/can.h"
 920              		.file 10 "bsp/can/bsp_can.h"
 921              		.file 11 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 922              		.file 12 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 923              		.file 13 "<built-in>"
 924              		.file 14 "bsp/dwt/bsp_dwt.h"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_can.c
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:21     .text.CANServiceInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:26     .text.CANServiceInit:00000000 CANServiceInit
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:71     .text.CANServiceInit:00000034 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:77     .text.EXTCANAddFilter:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:82     .text.EXTCANAddFilter:00000000 EXTCANAddFilter
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:180    .text.EXTCANAddFilter:0000005c $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:892    .data.can2_filter_idx.5:00000000 can2_filter_idx.5
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:897    .data.can1_filter_idx.6:00000000 can1_filter_idx.6
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:187    .text.CANAddFilter:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:192    .text.CANAddFilter:00000000 CANAddFilter
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:280    .text.CANAddFilter:00000054 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:882    .data.can2_filter_idx.3:00000000 can2_filter_idx.3
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:887    .bss.can1_filter_idx.4:00000000 can1_filter_idx.4
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:287    .text.CANFIFOxCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:292    .text.CANFIFOxCallback:00000000 CANFIFOxCallback
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:458    .text.CANFIFOxCallback:000000b0 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:865    .bss.rxconf.0:00000000 rxconf.0
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:902    .bss.idx:00000000 idx
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:908    .bss.can_instance:00000000 can_instance
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:466    .text.CANRegister:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:472    .text.CANRegister:00000000 CANRegister
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:648    .text.CANRegister:000000a4 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:654    .text.CANTransmit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:660    .text.CANTransmit:00000000 CANTransmit
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:765    .text.CANTransmit:00000070 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:877    .bss.busy_count.2:00000000 busy_count.2
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:871    .bss.wait_time.1:00000000 wait_time.1
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:771    .text.CANSetDLC:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:777    .text.CANSetDLC:00000000 CANSetDLC
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:806    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:812    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 HAL_CAN_RxFifo0MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:834    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:840    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 HAL_CAN_RxFifo1MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:862    .bss.rxconf.0:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:868    .bss.wait_time.1:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:874    .bss.busy_count.2:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:888    .bss.can1_filter_idx.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:903    .bss.idx:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccbegVgF.s:905    .bss.can_instance:00000000 $d

UNDEFINED SYMBOLS
HAL_CAN_Start
HAL_CAN_ActivateNotification
hcan1
hcan2
HAL_CAN_ConfigFilter
HAL_CAN_GetRxFifoFillLevel
HAL_CAN_GetRxMessage
memcpy
malloc
memset
DWT_GetTimeline_ms
HAL_CAN_GetTxMailboxesFreeLevel
HAL_CAN_AddTxMessage
