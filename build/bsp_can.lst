ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_can.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "bsp/can/bsp_can.c"
  20              		.section	.text.CANServiceInit,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	CANServiceInit:
  27              	.LFB139:
   1:bsp/can/bsp_can.c **** #include "bsp_can.h"
   2:bsp/can/bsp_can.c **** #include "main.h"
   3:bsp/can/bsp_can.c **** #include "memory.h"
   4:bsp/can/bsp_can.c **** #include "stdlib.h"
   5:bsp/can/bsp_can.c **** #include "bsp_dwt.h"
   6:bsp/can/bsp_can.c **** #include "bsp_log.h"
   7:bsp/can/bsp_can.c **** 
   8:bsp/can/bsp_can.c **** /* can instance ptrs storage, used for recv callback */
   9:bsp/can/bsp_can.c **** // åœ¨CANäº§ç”Ÿæ¥æ”¶ä¸­æ–­ä¼šéå†æ•°ç»„,é€‰å‡ºhcanå’Œrxidä¸å‘ç”Ÿä¸­æ–­çš„å®ä¾‹ç›¸åŒçš„é‚£ä¸ª
  10:bsp/can/bsp_can.c **** // @todo: åç»­ä¸ºæ¯ä¸ªCANæ€»çº¿å•ç‹¬æ·»åŠ ä¸€ä¸ªcan_instanceæŒ‡é’ˆæ•°ç»„,æé«˜å›è°ƒæŸ¥æ‰¾çš„æ
  11:bsp/can/bsp_can.c **** static CANInstance *can_instance[CAN_MX_REGISTER_CNT] = {NULL};
  12:bsp/can/bsp_can.c **** static uint8_t idx; // å…¨å±€CANå®ä¾‹ç´¢å¼•,æ¯æ¬¡æœ‰æ–°çš„æ¨¡å—æ³¨å†Œä¼šè‡ªå¢
  13:bsp/can/bsp_can.c **** 
  14:bsp/can/bsp_can.c **** /* ----------------two static function called by CANRegister()-------------------- */
  15:bsp/can/bsp_can.c **** 
  16:bsp/can/bsp_can.c **** /**
  17:bsp/can/bsp_can.c ****  * @brief æ·»åŠ è¿‡æ»¤å™¨ä»¥å®ç°å¯¹ç‰¹å®šidçš„æŠ¥æ–‡çš„æ¥æ”¶,ä¼šè¢«CANRegister()è°ƒç”¨
  18:bsp/can/bsp_can.c ****  *        ç»™CANæ·»åŠ è¿‡æ»¤å™¨å,BxCANä¼šæ ¹æ®æ¥æ”¶åˆ°çš„æŠ¥æ–‡çš„idè¿›è¡Œæ¶ˆæ¯è¿‡æ»¤,ç¬¦åˆè§
  19:bsp/can/bsp_can.c ****  *
  20:bsp/can/bsp_can.c ****  * @note f407çš„bxCANæœ‰28ä¸ªè¿‡æ»¤å™¨,è¿™é‡Œå°†å…¶é…ç½®ä¸ºå‰14ä¸ªè¿‡æ»¤å™¨ç»™CAN1ä½¿ç”¨,å14ä¸ª
  21:bsp/can/bsp_can.c ****  *       åˆå§‹åŒ–æ—¶,å¥‡æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO0,å¶æ•°idçš„æ¨¡å—ä¼šè¢«åˆ†é…åˆ°FIFO1
  22:bsp/can/bsp_can.c ****  *       æ³¨å†Œåˆ°CAN1çš„æ¨¡å—ä½¿ç”¨è¿‡æ»¤å™¨0-13,CAN2ä½¿ç”¨è¿‡æ»¤å™¨14-27
  23:bsp/can/bsp_can.c ****  *
  24:bsp/can/bsp_can.c ****  * @attention ä½ ä¸éœ€è¦å®Œå…¨ç†è§£è¿™ä¸ªå‡½æ•°çš„ä½œç”¨,å› ä¸ºå®ƒä¸»è¦æ˜¯ç”¨äºåˆå§‹åŒ–,åœ¨å¼
  25:bsp/can/bsp_can.c ****  *            äº«å—å¼€å‘çš„ä¹è¶£å§!å¦‚æœä½ çœŸçš„æƒ³çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨å¹²ä»€ä¹ˆ,è¯·è”ç³»ä½
  26:bsp/can/bsp_can.c ****  *
  27:bsp/can/bsp_can.c ****  * @param _instance can instance owned by specific module
  28:bsp/can/bsp_can.c ****  */
  29:bsp/can/bsp_can.c **** static void CANAddFilter(CANInstance *_instance)
  30:bsp/can/bsp_can.c **** {
  31:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 2


  32:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
  33:bsp/can/bsp_can.c **** 
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterMode = CAN_FILTERMODE_IDLIST;                                            
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
  36:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
  37:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
  40:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
  41:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
  42:bsp/can/bsp_can.c **** }
  43:bsp/can/bsp_can.c **** 
  44:bsp/can/bsp_can.c **** static void EXTCANAddFilter(CANInstance *_instance){
  45:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  46:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 8, can2_filter_idx = 23; // 8-13ç»™ex can1ç”¨,23-27ç»™ex can2ç
  47:bsp/can/bsp_can.c **** 
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMode = CAN_FILTERMODE_IDMASK;                                          
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  50:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
  51:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow = _instance->rx_id << 21;  // ä½8ä½å·¦ç§»21ä½ï¼ˆä½¿å…¶åœ¨29ä½
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFF << 21;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
  57:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
  58:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
  59:bsp/can/bsp_can.c **** }
  60:bsp/can/bsp_can.c **** 
  61:bsp/can/bsp_can.c **** 
  62:bsp/can/bsp_can.c **** 
  63:bsp/can/bsp_can.c **** 
  64:bsp/can/bsp_can.c **** 
  65:bsp/can/bsp_can.c **** /**
  66:bsp/can/bsp_can.c ****  * @brief åœ¨ç¬¬ä¸€ä¸ªCANå®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°,å¯åŠ¨CANæœåŠ¡
  67:bsp/can/bsp_can.c ****  *
  68:bsp/can/bsp_can.c ****  * @note æ­¤å‡½æ•°ä¼šå¯åŠ¨CAN1å’ŒCAN2,å¼€å¯CAN1å’ŒCAN2çš„FIFO0 & FIFO1æº¢å‡ºé€šçŸ¥
  69:bsp/can/bsp_can.c ****  *
  70:bsp/can/bsp_can.c ****  */
  71:bsp/can/bsp_can.c **** static void CANServiceInit()
  72:bsp/can/bsp_can.c **** {
  28              		.loc 1 72 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 10B5     		push	{r4, lr}
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
  73:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan1);
  36              		.loc 1 73 5 view .LVU1
  37 0002 0C4C     		ldr	r4, .L3
  38 0004 2046     		mov	r0, r4
  39 0006 FFF7FEFF 		bl	HAL_CAN_Start
  40              	.LVL0:
  74:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO0_MSG_PENDING);
  41              		.loc 1 74 5 view .LVU2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 3


  42 000a 0221     		movs	r1, #2
  43 000c 2046     		mov	r0, r4
  44 000e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  45              	.LVL1:
  75:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO1_MSG_PENDING);
  46              		.loc 1 75 5 view .LVU3
  47 0012 1021     		movs	r1, #16
  48 0014 2046     		mov	r0, r4
  49 0016 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  50              	.LVL2:
  76:bsp/can/bsp_can.c ****     HAL_CAN_Start(&hcan2);
  51              		.loc 1 76 5 view .LVU4
  52 001a 074C     		ldr	r4, .L3+4
  53 001c 2046     		mov	r0, r4
  54 001e FFF7FEFF 		bl	HAL_CAN_Start
  55              	.LVL3:
  77:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO0_MSG_PENDING);
  56              		.loc 1 77 5 view .LVU5
  57 0022 0221     		movs	r1, #2
  58 0024 2046     		mov	r0, r4
  59 0026 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  60              	.LVL4:
  78:bsp/can/bsp_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO1_MSG_PENDING);
  61              		.loc 1 78 5 view .LVU6
  62 002a 1021     		movs	r1, #16
  63 002c 2046     		mov	r0, r4
  64 002e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  65              	.LVL5:
  79:bsp/can/bsp_can.c **** }
  66              		.loc 1 79 1 is_stmt 0 view .LVU7
  67 0032 10BD     		pop	{r4, pc}
  68              	.L4:
  69              		.align	2
  70              	.L3:
  71 0034 00000000 		.word	hcan1
  72 0038 00000000 		.word	hcan2
  73              		.cfi_endproc
  74              	.LFE139:
  76              		.section	.text.EXTCANAddFilter,"ax",%progbits
  77              		.align	1
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	EXTCANAddFilter:
  83              	.LVL6:
  84              	.LFB138:
  44:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  85              		.loc 1 44 52 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 40
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  44:bsp/can/bsp_can.c ****      CAN_FilterTypeDef excan_filter_conf;
  89              		.loc 1 44 52 is_stmt 0 view .LVU9
  90 0000 00B5     		push	{lr}
  91              		.cfi_def_cfa_offset 4
  92              		.cfi_offset 14, -4
  93 0002 8BB0     		sub	sp, sp, #44
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 4


  94              		.cfi_def_cfa_offset 48
  45:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 8, can2_filter_idx = 23; // 8-13ç»™ex can1ç”¨,23-27ç»™ex can2ç
  95              		.loc 1 45 6 is_stmt 1 view .LVU10
  46:bsp/can/bsp_can.c **** 
  96              		.loc 1 46 5 view .LVU11
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  97              		.loc 1 48 5 view .LVU12
  48:bsp/can/bsp_can.c ****     excan_filter_conf.FilterScale = CAN_FILTERSCALE_32BIT;                                         
  98              		.loc 1 48 34 is_stmt 0 view .LVU13
  99 0004 0022     		movs	r2, #0
 100 0006 0692     		str	r2, [sp, #24]
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
 101              		.loc 1 49 5 is_stmt 1 view .LVU14
  49:bsp/can/bsp_can.c ****     excan_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1; 
 102              		.loc 1 49 35 is_stmt 0 view .LVU15
 103 0008 0123     		movs	r3, #1
 104 000a 0793     		str	r3, [sp, #28]
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 105              		.loc 1 50 5 is_stmt 1 view .LVU16
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 106              		.loc 1 50 56 is_stmt 0 view .LVU17
 107 000c 90F83830 		ldrb	r3, [r0, #56]	@ zero_extendqisi2
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 108              		.loc 1 50 84 view .LVU18
 109 0010 83F00103 		eor	r3, r3, #1
 110 0014 03F00103 		and	r3, r3, #1
  50:bsp/can/bsp_can.c ****     excan_filter_conf.SlaveStartFilterBank = 14;                                                   
 111              		.loc 1 50 44 view .LVU19
 112 0018 0493     		str	r3, [sp, #16]
  51:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
 113              		.loc 1 51 5 is_stmt 1 view .LVU20
  51:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdHigh = 0x0000;  // é«˜ä½IDä¸å…³å¿ƒ
 114              		.loc 1 51 44 is_stmt 0 view .LVU21
 115 001a 0E23     		movs	r3, #14
 116 001c 0993     		str	r3, [sp, #36]
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow = _instance->rx_id << 21;  // ä½8ä½å·¦ç§»21ä½ï¼ˆä½¿å…¶åœ¨29ä½
 117              		.loc 1 52 5 is_stmt 1 view .LVU22
  52:bsp/can/bsp_can.c ****     excan_filter_conf.FilterIdLow = _instance->rx_id << 21;  // ä½8ä½å·¦ç§»21ä½ï¼ˆä½¿å…¶åœ¨29ä½
 118              		.loc 1 52 36 is_stmt 0 view .LVU23
 119 001e 0092     		str	r2, [sp]
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 120              		.loc 1 53 5 is_stmt 1 view .LVU24
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 121              		.loc 1 53 46 is_stmt 0 view .LVU25
 122 0020 90F84D30 		ldrb	r3, [r0, #77]	@ zero_extendqisi2
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 123              		.loc 1 53 54 view .LVU26
 124 0024 5B05     		lsls	r3, r3, #21
  53:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdHigh = 0x0000;  // é«˜ä½æ©ç ä¸å…³å¿ƒ
 125              		.loc 1 53 35 view .LVU27
 126 0026 0193     		str	r3, [sp, #4]
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFF << 21;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
 127              		.loc 1 54 5 is_stmt 1 view .LVU28
  54:bsp/can/bsp_can.c ****     excan_filter_conf.FilterMaskIdLow = 0xFF << 21;  // æ©ç ï¼Œåªå…³å¿ƒæœ€ä½8ä½
 128              		.loc 1 54 40 is_stmt 0 view .LVU29
 129 0028 0292     		str	r2, [sp, #8]
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 5


 130              		.loc 1 55 5 is_stmt 1 view .LVU30
  55:bsp/can/bsp_can.c ****     excan_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_fi
 131              		.loc 1 55 39 is_stmt 0 view .LVU31
 132 002a 4FF0FF53 		mov	r3, #534773760
 133 002e 0393     		str	r3, [sp, #12]
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 134              		.loc 1 56 5 is_stmt 1 view .LVU32
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 135              		.loc 1 56 45 is_stmt 0 view .LVU33
 136 0030 0268     		ldr	r2, [r0]	@ unaligned
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 137              		.loc 1 56 90 view .LVU34
 138 0032 0B4B     		ldr	r3, .L10
 139 0034 9A42     		cmp	r2, r3
 140 0036 0DD0     		beq	.L9
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 141              		.loc 1 56 108 discriminator 2 view .LVU35
 142 0038 0A4A     		ldr	r2, .L10+4
 143 003a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 144 003c 591C     		adds	r1, r3, #1
 145 003e 1170     		strb	r1, [r2]
 146              	.L7:
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 147              		.loc 1 56 34 discriminator 4 view .LVU36
 148 0040 0593     		str	r3, [sp, #20]
  57:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
 149              		.loc 1 57 5 is_stmt 1 view .LVU37
  57:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &excan_filter_conf);
 150              		.loc 1 57 40 is_stmt 0 view .LVU38
 151 0042 0123     		movs	r3, #1
 152 0044 0893     		str	r3, [sp, #32]
  58:bsp/can/bsp_can.c **** }
 153              		.loc 1 58 5 is_stmt 1 view .LVU39
 154 0046 6946     		mov	r1, sp
 155 0048 0068     		ldr	r0, [r0]	@ unaligned
 156              	.LVL7:
  58:bsp/can/bsp_can.c **** }
 157              		.loc 1 58 5 is_stmt 0 view .LVU40
 158 004a FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 159              	.LVL8:
  59:bsp/can/bsp_can.c **** 
 160              		.loc 1 59 1 view .LVU41
 161 004e 0BB0     		add	sp, sp, #44
 162              		.cfi_remember_state
 163              		.cfi_def_cfa_offset 4
 164              		@ sp needed
 165 0050 5DF804FB 		ldr	pc, [sp], #4
 166              	.LVL9:
 167              	.L9:
 168              		.cfi_restore_state
  56:bsp/can/bsp_can.c ****     excan_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                        
 169              		.loc 1 56 86 discriminator 1 view .LVU42
 170 0054 044A     		ldr	r2, .L10+8
 171 0056 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 172 0058 591C     		adds	r1, r3, #1
 173 005a 1170     		strb	r1, [r2]
 174 005c F0E7     		b	.L7
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 6


 175              	.L11:
 176 005e 00BF     		.align	2
 177              	.L10:
 178 0060 00000000 		.word	hcan1
 179 0064 00000000 		.word	can2_filter_idx.5
 180 0068 00000000 		.word	can1_filter_idx.6
 181              		.cfi_endproc
 182              	.LFE138:
 184              		.section	.text.CANAddFilter,"ax",%progbits
 185              		.align	1
 186              		.syntax unified
 187              		.thumb
 188              		.thumb_func
 190              	CANAddFilter:
 191              	.LVL10:
 192              	.LFB137:
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
 193              		.loc 1 30 1 is_stmt 1 view -0
 194              		.cfi_startproc
 195              		@ args = 0, pretend = 0, frame = 40
 196              		@ frame_needed = 0, uses_anonymous_args = 0
  30:bsp/can/bsp_can.c ****     CAN_FilterTypeDef can_filter_conf;
 197              		.loc 1 30 1 is_stmt 0 view .LVU44
 198 0000 00B5     		push	{lr}
 199              		.cfi_def_cfa_offset 4
 200              		.cfi_offset 14, -4
 201 0002 8BB0     		sub	sp, sp, #44
 202              		.cfi_def_cfa_offset 48
  31:bsp/can/bsp_can.c ****     static uint8_t can1_filter_idx = 0, can2_filter_idx = 14; // 0-13ç»™can1ç”¨,14-27ç»™can2ç”¨
 203              		.loc 1 31 5 is_stmt 1 view .LVU45
  32:bsp/can/bsp_can.c **** 
 204              		.loc 1 32 5 view .LVU46
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
 205              		.loc 1 34 5 view .LVU47
  34:bsp/can/bsp_can.c ****     can_filter_conf.FilterScale = CAN_FILTERSCALE_16BIT;                                           
 206              		.loc 1 34 32 is_stmt 0 view .LVU48
 207 0004 0123     		movs	r3, #1
 208 0006 0693     		str	r3, [sp, #24]
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 209              		.loc 1 35 5 is_stmt 1 view .LVU49
  35:bsp/can/bsp_can.c ****     can_filter_conf.FilterFIFOAssignment = (_instance->tx_id & 1) ? CAN_RX_FIFO0 : CAN_RX_FIFO1;   
 210              		.loc 1 35 33 is_stmt 0 view .LVU50
 211 0008 0023     		movs	r3, #0
 212 000a 0793     		str	r3, [sp, #28]
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 213              		.loc 1 36 5 is_stmt 1 view .LVU51
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 214              		.loc 1 36 54 is_stmt 0 view .LVU52
 215 000c 90F83830 		ldrb	r3, [r0, #56]	@ zero_extendqisi2
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 216              		.loc 1 36 82 view .LVU53
 217 0010 83F00103 		eor	r3, r3, #1
 218 0014 03F00103 		and	r3, r3, #1
  36:bsp/can/bsp_can.c ****     can_filter_conf.SlaveStartFilterBank = 14;                                                     
 219              		.loc 1 36 42 view .LVU54
 220 0018 0493     		str	r3, [sp, #16]
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 7


 221              		.loc 1 37 5 is_stmt 1 view .LVU55
  37:bsp/can/bsp_can.c ****     can_filter_conf.FilterIdLow = _instance->rx_id << 5;                                           
 222              		.loc 1 37 42 is_stmt 0 view .LVU56
 223 001a 0E23     		movs	r3, #14
 224 001c 0993     		str	r3, [sp, #36]
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 225              		.loc 1 38 5 is_stmt 1 view .LVU57
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 226              		.loc 1 38 44 is_stmt 0 view .LVU58
 227 001e 90F84D30 		ldrb	r3, [r0, #77]	@ zero_extendqisi2
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 228              		.loc 1 38 52 view .LVU59
 229 0022 5B01     		lsls	r3, r3, #5
  38:bsp/can/bsp_can.c ****     can_filter_conf.FilterBank = _instance->can_handle == &hcan1 ? (can1_filter_idx++) : (can2_filt
 230              		.loc 1 38 33 view .LVU60
 231 0024 0193     		str	r3, [sp, #4]
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 232              		.loc 1 39 5 is_stmt 1 view .LVU61
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 233              		.loc 1 39 43 is_stmt 0 view .LVU62
 234 0026 0268     		ldr	r2, [r0]	@ unaligned
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 235              		.loc 1 39 88 view .LVU63
 236 0028 0A4B     		ldr	r3, .L17
 237 002a 9A42     		cmp	r2, r3
 238 002c 0DD0     		beq	.L16
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 239              		.loc 1 39 106 discriminator 2 view .LVU64
 240 002e 0A4A     		ldr	r2, .L17+4
 241 0030 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 242 0032 591C     		adds	r1, r3, #1
 243 0034 1170     		strb	r1, [r2]
 244              	.L14:
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 245              		.loc 1 39 32 discriminator 4 view .LVU65
 246 0036 0593     		str	r3, [sp, #20]
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 247              		.loc 1 40 5 is_stmt 1 view .LVU66
  40:bsp/can/bsp_can.c ****     HAL_CAN_ConfigFilter(_instance->can_handle, &can_filter_conf);
 248              		.loc 1 40 38 is_stmt 0 view .LVU67
 249 0038 0123     		movs	r3, #1
 250 003a 0893     		str	r3, [sp, #32]
  41:bsp/can/bsp_can.c **** }
 251              		.loc 1 41 5 is_stmt 1 view .LVU68
 252 003c 6946     		mov	r1, sp
 253 003e 0068     		ldr	r0, [r0]	@ unaligned
 254              	.LVL11:
  41:bsp/can/bsp_can.c **** }
 255              		.loc 1 41 5 is_stmt 0 view .LVU69
 256 0040 FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 257              	.LVL12:
  42:bsp/can/bsp_can.c **** 
 258              		.loc 1 42 1 view .LVU70
 259 0044 0BB0     		add	sp, sp, #44
 260              		.cfi_remember_state
 261              		.cfi_def_cfa_offset 4
 262              		@ sp needed
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 8


 263 0046 5DF804FB 		ldr	pc, [sp], #4
 264              	.LVL13:
 265              	.L16:
 266              		.cfi_restore_state
  39:bsp/can/bsp_can.c ****     can_filter_conf.FilterActivation = CAN_FILTER_ENABLE;                                          
 267              		.loc 1 39 84 discriminator 1 view .LVU71
 268 004a 044A     		ldr	r2, .L17+8
 269 004c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 270 004e 591C     		adds	r1, r3, #1
 271 0050 1170     		strb	r1, [r2]
 272 0052 F0E7     		b	.L14
 273              	.L18:
 274              		.align	2
 275              	.L17:
 276 0054 00000000 		.word	hcan1
 277 0058 00000000 		.word	can2_filter_idx.3
 278 005c 00000000 		.word	can1_filter_idx.4
 279              		.cfi_endproc
 280              	.LFE137:
 282              		.section	.text.CANFIFOxCallback,"ax",%progbits
 283              		.align	1
 284              		.syntax unified
 285              		.thumb
 286              		.thumb_func
 288              	CANFIFOxCallback:
 289              	.LVL14:
 290              	.LFB143:
  80:bsp/can/bsp_can.c **** 
  81:bsp/can/bsp_can.c **** /* ----------------------- two extern callable function -----------------------*/
  82:bsp/can/bsp_can.c **** 
  83:bsp/can/bsp_can.c **** CANInstance *CANRegister(CAN_Init_Config_s *config)
  84:bsp/can/bsp_can.c **** {
  85:bsp/can/bsp_can.c ****     if (!idx)
  86:bsp/can/bsp_can.c ****     {
  87:bsp/can/bsp_can.c ****         CANServiceInit(); // ç¬¬ä¸€æ¬¡æ³¨å†Œ,å…ˆè¿›è¡Œç¡¬ä»¶åˆå§‹åŒ–
  88:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
  89:bsp/can/bsp_can.c ****       }
  90:bsp/can/bsp_can.c ****       if (idx >= CAN_MX_REGISTER_CNT) // è¶…è¿‡æœ€å¤§å®ä¾‹æ•°
  91:bsp/can/bsp_can.c ****      {
  92:bsp/can/bsp_can.c ****         while (1)
  93:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
  94:bsp/can/bsp_can.c ****       }
  95:bsp/can/bsp_can.c ****       for (size_t i = 0; i < idx; i++)
  96:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
  97:bsp/can/bsp_can.c ****      if (can_instance[i]->rx_id == config->rx_id && can_instance[i]->can_handle == config->can_hand
  98:bsp/can/bsp_can.c ****       {
  99:bsp/can/bsp_can.c ****          while (1)
 100:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 101:bsp/can/bsp_can.c ****       }      
 102:bsp/can/bsp_can.c ****      }
 103:bsp/can/bsp_can.c ****     
 104:bsp/can/bsp_can.c ****     CANInstance *instance = (CANInstance *)malloc(sizeof(CANInstance)); // åˆ†é…ç©ºé—´
 105:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 106:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
 107:bsp/can/bsp_can.c ****     if(config->tx_ide==CAN_ID_EXT){
 108:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 109:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 9


 110:bsp/can/bsp_can.c ****         instance->txconf.StdId = config->tx_id; // å‘é€id
 111:bsp/can/bsp_can.c ****     }
 112:bsp/can/bsp_can.c ****     instance->txconf.IDE = config->tx_ide;      // ä½¿ç”¨æ ‡å‡†id,æ‰©å±•idåˆ™ä½¿ç”¨CAN_ID_EXT(ç›®å‰
 113:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 114:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
 115:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 116:bsp/can/bsp_can.c ****     instance->can_handle = config->can_handle;
 117:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 118:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 119:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 120:bsp/can/bsp_can.c ****     instance->id = config->id;
 121:bsp/can/bsp_can.c **** 
 122:bsp/can/bsp_can.c **** 
 123:bsp/can/bsp_can.c ****     if(instance->txconf.IDE==CAN_ID_EXT){
 124:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 125:bsp/can/bsp_can.c ****     }else{
 126:bsp/can/bsp_can.c ****          CANAddFilter(instance);
 127:bsp/can/bsp_can.c ****     }         // æ·»åŠ CANè¿‡æ»¤å™¨è§„åˆ™
 128:bsp/can/bsp_can.c ****     can_instance[idx++] = instance; // å°†å®ä¾‹ä¿å­˜åˆ°can_instanceä¸­
 129:bsp/can/bsp_can.c **** 
 130:bsp/can/bsp_can.c ****     return instance; // è¿”å›canå®ä¾‹æŒ‡é’ˆ
 131:bsp/can/bsp_can.c **** }
 132:bsp/can/bsp_can.c **** 
 133:bsp/can/bsp_can.c **** /* @todo ç›®å‰ä¼¼ä¹å°è£…è¿‡åº¦,åº”è¯¥æ·»åŠ ä¸€ä¸ªæŒ‡å‘tx_buffçš„æŒ‡é’ˆ,tx_buffä¸åº”è¯¥ç”±CAN i
 134:bsp/can/bsp_can.c **** /* å¦‚æœè®©CANinstanceä¿å­˜txbuff,ä¼šå¢åŠ ä¸€æ¬¡å¤åˆ¶çš„å¼€é”€ */
 135:bsp/can/bsp_can.c **** uint8_t CANTransmit(CANInstance *_instance, float timeout)
 136:bsp/can/bsp_can.c **** {
 137:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 138:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 139:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 140:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 141:bsp/can/bsp_can.c ****     {
 142:bsp/can/bsp_can.c ****         if (DWT_GetTimeline_ms() - dwt_start > timeout) // è¶…æ—¶
 143:bsp/can/bsp_can.c ****         {
 144:bsp/can/bsp_can.c ****             LOGWARNING("[bsp_can] CAN MAILbox full! failed to add msg to mailbox. Cnt [%d]", busy_c
 145:bsp/can/bsp_can.c ****             busy_count++;
 146:bsp/can/bsp_can.c ****             return 0;
 147:bsp/can/bsp_can.c ****         }
 148:bsp/can/bsp_can.c ****     }
 149:bsp/can/bsp_can.c ****     wait_time = DWT_GetTimeline_ms() - dwt_start;
 150:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 151:bsp/can/bsp_can.c ****     if (HAL_CAN_AddTxMessage(_instance->can_handle, &_instance->txconf, _instance->tx_buff, &_insta
 152:bsp/can/bsp_can.c ****     {
 153:bsp/can/bsp_can.c ****         // LOGWARNING("[bsp_can] CAN bus BUS! cnt:%d", busy_count);
 154:bsp/can/bsp_can.c ****         busy_count++;
 155:bsp/can/bsp_can.c ****         return 0;
 156:bsp/can/bsp_can.c ****     }
 157:bsp/can/bsp_can.c ****     return 1; // å‘é€æˆåŠŸ
 158:bsp/can/bsp_can.c **** }
 159:bsp/can/bsp_can.c **** 
 160:bsp/can/bsp_can.c **** void CANSetDLC(CANInstance *_instance, uint8_t length)
 161:bsp/can/bsp_can.c **** {
 162:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 163:bsp/can/bsp_can.c ****     if (length > 8 || length == 0) // å®‰å…¨æ£€æŸ¥
 164:bsp/can/bsp_can.c ****         while (1)
 165:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 166:bsp/can/bsp_can.c ****     _instance->txconf.DLC = length;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 10


 167:bsp/can/bsp_can.c **** }
 168:bsp/can/bsp_can.c **** 
 169:bsp/can/bsp_can.c **** /* -----------------------belows are callback definitions--------------------------*/
 170:bsp/can/bsp_can.c **** 
 171:bsp/can/bsp_can.c **** /**
 172:bsp/can/bsp_can.c ****  * @brief æ­¤å‡½æ•°ä¼šè¢«ä¸‹é¢ä¸¤ä¸ªå‡½æ•°è°ƒç”¨,ç”¨äºå¤„ç†FIFO0å’ŒFIFO1æº¢å‡ºä¸­æ–­(è¯´æ˜æ”¶åˆ
 173:bsp/can/bsp_can.c ****  *        æ‰€æœ‰çš„å®ä¾‹éƒ½ä¼šè¢«éå†,æ‰¾åˆ°can_handleå’Œrx_idç›¸ç­‰çš„å®ä¾‹æ—¶,è°ƒç”¨è¯¥å®ä¾‹
 174:bsp/can/bsp_can.c ****  *
 175:bsp/can/bsp_can.c ****  * @param _hcan
 176:bsp/can/bsp_can.c ****  * @param fifox passed to HAL_CAN_GetRxMessage() to get mesg from a specific fifo
 177:bsp/can/bsp_can.c ****  */
 178:bsp/can/bsp_can.c **** static void CANFIFOxCallback(CAN_HandleTypeDef *_hcan, uint32_t fifox)
 179:bsp/can/bsp_can.c **** {
 291              		.loc 1 179 1 is_stmt 1 view -0
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 8
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295              		.loc 1 179 1 is_stmt 0 view .LVU73
 296 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 297              		.cfi_def_cfa_offset 20
 298              		.cfi_offset 4, -20
 299              		.cfi_offset 5, -16
 300              		.cfi_offset 6, -12
 301              		.cfi_offset 7, -8
 302              		.cfi_offset 14, -4
 303 0002 83B0     		sub	sp, sp, #12
 304              		.cfi_def_cfa_offset 32
 305 0004 0646     		mov	r6, r0
 306 0006 0F46     		mov	r7, r1
 180:bsp/can/bsp_can.c ****     static CAN_RxHeaderTypeDef rxconf; // åŒä¸Š
 307              		.loc 1 180 5 is_stmt 1 view .LVU74
 181:bsp/can/bsp_can.c ****     uint8_t can_rx_buff[8];
 308              		.loc 1 181 5 view .LVU75
 182:bsp/can/bsp_can.c ****     while (HAL_CAN_GetRxFifoFillLevel(_hcan, fifox)) // FIFOä¸ä¸ºç©º,æœ‰å¯èƒ½åœ¨å…¶ä»–ä¸­æ–­æ—¶æœ
 309              		.loc 1 182 5 view .LVU76
 310              	.LVL15:
 311              	.L20:
 312              		.loc 1 182 12 view .LVU77
 313 0008 3946     		mov	r1, r7
 314 000a 3046     		mov	r0, r6
 315 000c FFF7FEFF 		bl	HAL_CAN_GetRxFifoFillLevel
 316              	.LVL16:
 317              		.loc 1 182 12 is_stmt 0 discriminator 1 view .LVU78
 318 0010 E8B1     		cbz	r0, .L19
 183:bsp/can/bsp_can.c ****     {
 184:bsp/can/bsp_can.c ****         HAL_CAN_GetRxMessage(_hcan, fifox, &rxconf, can_rx_buff); // ä»FIFOä¸­è·å–æ•°æ®
 319              		.loc 1 184 9 is_stmt 1 view .LVU79
 320 0012 6B46     		mov	r3, sp
 321 0014 284A     		ldr	r2, .L32
 322 0016 3946     		mov	r1, r7
 323 0018 3046     		mov	r0, r6
 324 001a FFF7FEFF 		bl	HAL_CAN_GetRxMessage
 325              	.LVL17:
 185:bsp/can/bsp_can.c ****         for (size_t i = 0; i < idx; ++i)
 326              		.loc 1 185 9 view .LVU80
 327              	.LBB2:
 328              		.loc 1 185 14 view .LVU81
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 11


 329              		.loc 1 185 21 is_stmt 0 view .LVU82
 330 001e 0024     		movs	r4, #0
 331              		.loc 1 185 9 view .LVU83
 332 0020 18E0     		b	.L21
 333              	.LVL18:
 334              	.L31:
 186:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 187:bsp/can/bsp_can.c ****             if (_hcan == can_instance[i]->can_handle && rxconf.StdId == can_instance[i]->rx_id)//æ 
 335              		.loc 1 187 63 discriminator 1 view .LVU84
 336 0022 254A     		ldr	r2, .L32
 337 0024 1168     		ldr	r1, [r2]
 338              		.loc 1 187 88 discriminator 1 view .LVU85
 339 0026 95F84D20 		ldrb	r2, [r5, #77]	@ zero_extendqisi2
 340              		.loc 1 187 54 discriminator 1 view .LVU86
 341 002a 9142     		cmp	r1, r2
 342 002c 1CD1     		bne	.L22
 188:bsp/can/bsp_can.c ****             {
 189:bsp/can/bsp_can.c ****                 if (can_instance[i]->can_module_callback != NULL) // å›è°ƒå‡½æ•°ä¸ä¸ºç©ºå°±è°ƒç”¨
 343              		.loc 1 189 17 is_stmt 1 view .LVU87
 344              		.loc 1 189 36 is_stmt 0 view .LVU88
 345 002e D5F84F30 		ldr	r3, [r5, #79]	@ unaligned
 346              		.loc 1 189 20 view .LVU89
 347 0032 63B1     		cbz	r3, .L19
 190:bsp/can/bsp_can.c ****                 {
 191:bsp/can/bsp_can.c ****                     can_instance[i]->rx_len = rxconf.DLC;                      // ä¿å­˜æ¥æ”¶åˆ°çš
 348              		.loc 1 191 21 is_stmt 1 view .LVU90
 349              		.loc 1 191 53 is_stmt 0 view .LVU91
 350 0034 204B     		ldr	r3, .L32
 351 0036 1A69     		ldr	r2, [r3, #16]
 352              		.loc 1 191 45 view .LVU92
 353 0038 85F84E20 		strb	r2, [r5, #78]
 192:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 354              		.loc 1 192 21 is_stmt 1 view .LVU93
 355 003c 6946     		mov	r1, sp
 356 003e 05F14500 		add	r0, r5, #69
 357 0042 FFF7FEFF 		bl	memcpy
 358              	.LVL19:
 193:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 359              		.loc 1 193 21 view .LVU94
 360              		.loc 1 193 36 is_stmt 0 view .LVU95
 361 0046 D5F84F30 		ldr	r3, [r5, #79]	@ unaligned
 362              		.loc 1 193 21 view .LVU96
 363 004a 2846     		mov	r0, r5
 364 004c 9847     		blx	r3
 365              	.LVL20:
 194:bsp/can/bsp_can.c ****                 }
 195:bsp/can/bsp_can.c ****                 return;
 366              		.loc 1 195 17 is_stmt 1 view .LVU97
 367              	.L19:
 368              		.loc 1 195 17 is_stmt 0 view .LVU98
 369              	.LBE2:
 196:bsp/can/bsp_can.c ****             }
 197:bsp/can/bsp_can.c ****             if(_hcan == can_instance[i]->can_handle&&(rxconf.ExtId&&0xFF)==can_instance[i]->rx_id)/
 198:bsp/can/bsp_can.c ****             {
 199:bsp/can/bsp_can.c ****                 if (can_instance[i]->can_module_callback != NULL) // å›è°ƒå‡½æ•°ä¸ä¸ºç©ºå°±è°ƒç”¨
 200:bsp/can/bsp_can.c ****                 {
 201:bsp/can/bsp_can.c ****                     can_instance[i]->rx_len = rxconf.DLC;                      // ä¿å­˜æ¥æ”¶åˆ°çš
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 12


 202:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 203:bsp/can/bsp_can.c ****                     memcpy(&can_instance[i]->rxconf, &rxconf, sizeof( CAN_RxHeaderTypeDef));//ä¿å­
 204:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 205:bsp/can/bsp_can.c ****                 }
 206:bsp/can/bsp_can.c ****                 return;
 207:bsp/can/bsp_can.c ****             }
 208:bsp/can/bsp_can.c ****         }
 209:bsp/can/bsp_can.c ****     }
 210:bsp/can/bsp_can.c **** }
 370              		.loc 1 210 1 view .LVU99
 371 004e 03B0     		add	sp, sp, #12
 372              		.cfi_remember_state
 373              		.cfi_def_cfa_offset 20
 374              		@ sp needed
 375 0050 F0BD     		pop	{r4, r5, r6, r7, pc}
 376              	.LVL21:
 377              	.L25:
 378              		.cfi_restore_state
 379              	.LBB3:
 185:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 380              		.loc 1 185 37 is_stmt 1 discriminator 2 view .LVU100
 381 0052 0134     		adds	r4, r4, #1
 382              	.LVL22:
 383              	.L21:
 185:bsp/can/bsp_can.c ****         { // ä¸¤è€…ç›¸ç­‰è¯´æ˜è¿™æ˜¯è¦æ‰¾çš„å®ä¾‹
 384              		.loc 1 185 30 discriminator 1 view .LVU101
 385 0054 194B     		ldr	r3, .L32+4
 386 0056 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 387 0058 A342     		cmp	r3, r4
 388 005a D5D9     		bls	.L20
 187:bsp/can/bsp_can.c ****             {
 389              		.loc 1 187 13 view .LVU102
 187:bsp/can/bsp_can.c ****             {
 390              		.loc 1 187 38 is_stmt 0 view .LVU103
 391 005c 184B     		ldr	r3, .L32+8
 392 005e 53F82450 		ldr	r5, [r3, r4, lsl #2]
 187:bsp/can/bsp_can.c ****             {
 393              		.loc 1 187 41 view .LVU104
 394 0062 2B68     		ldr	r3, [r5]	@ unaligned
 187:bsp/can/bsp_can.c ****             {
 395              		.loc 1 187 16 view .LVU105
 396 0064 B342     		cmp	r3, r6
 397 0066 DCD0     		beq	.L31
 398              	.L22:
 197:bsp/can/bsp_can.c ****             {
 399              		.loc 1 197 13 is_stmt 1 view .LVU106
 197:bsp/can/bsp_can.c ****             {
 400              		.loc 1 197 15 is_stmt 0 view .LVU107
 401 0068 B342     		cmp	r3, r6
 402 006a F2D1     		bne	.L25
 197:bsp/can/bsp_can.c ****             {
 403              		.loc 1 197 61 discriminator 1 view .LVU108
 404 006c 124B     		ldr	r3, .L32
 405 006e 5B68     		ldr	r3, [r3, #4]
 197:bsp/can/bsp_can.c ****             {
 406              		.loc 1 197 67 discriminator 1 view .LVU109
 407 0070 003B     		subs	r3, r3, #0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 13


 408 0072 18BF     		it	ne
 409 0074 0123     		movne	r3, #1
 197:bsp/can/bsp_can.c ****             {
 410              		.loc 1 197 91 discriminator 1 view .LVU110
 411 0076 95F84D20 		ldrb	r2, [r5, #77]	@ zero_extendqisi2
 197:bsp/can/bsp_can.c ****             {
 412              		.loc 1 197 52 discriminator 1 view .LVU111
 413 007a 9342     		cmp	r3, r2
 414 007c E9D1     		bne	.L25
 199:bsp/can/bsp_can.c ****                 {
 415              		.loc 1 199 17 is_stmt 1 view .LVU112
 199:bsp/can/bsp_can.c ****                 {
 416              		.loc 1 199 36 is_stmt 0 view .LVU113
 417 007e D5F84F30 		ldr	r3, [r5, #79]	@ unaligned
 199:bsp/can/bsp_can.c ****                 {
 418              		.loc 1 199 20 view .LVU114
 419 0082 002B     		cmp	r3, #0
 420 0084 E3D0     		beq	.L19
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 421              		.loc 1 201 21 is_stmt 1 view .LVU115
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 422              		.loc 1 201 53 is_stmt 0 view .LVU116
 423 0086 0C4E     		ldr	r6, .L32
 424              	.LVL23:
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 425              		.loc 1 201 53 view .LVU117
 426 0088 3269     		ldr	r2, [r6, #16]
 201:bsp/can/bsp_can.c ****                     memcpy(can_instance[i]->rx_buff, can_rx_buff, rxconf.DLC); // æ¶ˆæ¯æ‹·è´åˆ°å¯
 427              		.loc 1 201 45 view .LVU118
 428 008a 85F84E20 		strb	r2, [r5, #78]
 202:bsp/can/bsp_can.c ****                     memcpy(&can_instance[i]->rxconf, &rxconf, sizeof( CAN_RxHeaderTypeDef));//ä¿å­
 429              		.loc 1 202 21 is_stmt 1 view .LVU119
 430 008e 6946     		mov	r1, sp
 431 0090 05F14500 		add	r0, r5, #69
 432 0094 FFF7FEFF 		bl	memcpy
 433              	.LVL24:
 203:bsp/can/bsp_can.c ****                     can_instance[i]->can_module_callback(can_instance[i]);     // è§¦å‘å›è°ƒè¿›è¡
 434              		.loc 1 203 21 view .LVU120
 435 0098 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 436 009a E861     		str	r0, [r5, #28]	@ unaligned
 437 009c 2962     		str	r1, [r5, #32]	@ unaligned
 438 009e 6A62     		str	r2, [r5, #36]	@ unaligned
 439 00a0 AB62     		str	r3, [r5, #40]	@ unaligned
 440 00a2 07CE     		ldmia	r6!, {r0, r1, r2}
 441 00a4 E862     		str	r0, [r5, #44]	@ unaligned
 442 00a6 2963     		str	r1, [r5, #48]	@ unaligned
 443 00a8 6A63     		str	r2, [r5, #52]	@ unaligned
 204:bsp/can/bsp_can.c ****                 }
 444              		.loc 1 204 21 view .LVU121
 204:bsp/can/bsp_can.c ****                 }
 445              		.loc 1 204 33 is_stmt 0 view .LVU122
 446 00aa 054B     		ldr	r3, .L32+8
 447 00ac 53F82400 		ldr	r0, [r3, r4, lsl #2]
 204:bsp/can/bsp_can.c ****                 }
 448              		.loc 1 204 36 view .LVU123
 449 00b0 D0F84F30 		ldr	r3, [r0, #79]	@ unaligned
 204:bsp/can/bsp_can.c ****                 }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 14


 450              		.loc 1 204 21 view .LVU124
 451 00b4 9847     		blx	r3
 452              	.LVL25:
 206:bsp/can/bsp_can.c ****             }
 453              		.loc 1 206 17 is_stmt 1 view .LVU125
 454 00b6 CAE7     		b	.L19
 455              	.L33:
 456              		.align	2
 457              	.L32:
 458 00b8 00000000 		.word	rxconf.0
 459 00bc 00000000 		.word	idx
 460 00c0 00000000 		.word	can_instance
 461              	.LBE3:
 462              		.cfi_endproc
 463              	.LFE143:
 465              		.section	.text.CANRegister,"ax",%progbits
 466              		.align	1
 467              		.global	CANRegister
 468              		.syntax unified
 469              		.thumb
 470              		.thumb_func
 472              	CANRegister:
 473              	.LVL26:
 474              	.LFB140:
  84:bsp/can/bsp_can.c ****     if (!idx)
 475              		.loc 1 84 1 view -0
 476              		.cfi_startproc
 477              		@ args = 0, pretend = 0, frame = 0
 478              		@ frame_needed = 0, uses_anonymous_args = 0
  84:bsp/can/bsp_can.c ****     if (!idx)
 479              		.loc 1 84 1 is_stmt 0 view .LVU127
 480 0000 38B5     		push	{r3, r4, r5, lr}
 481              		.cfi_def_cfa_offset 16
 482              		.cfi_offset 3, -16
 483              		.cfi_offset 4, -12
 484              		.cfi_offset 5, -8
 485              		.cfi_offset 14, -4
 486 0002 0446     		mov	r4, r0
  85:bsp/can/bsp_can.c ****     {
 487              		.loc 1 85 5 is_stmt 1 view .LVU128
  85:bsp/can/bsp_can.c ****     {
 488              		.loc 1 85 9 is_stmt 0 view .LVU129
 489 0004 2C4B     		ldr	r3, .L51
 490 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  85:bsp/can/bsp_can.c ****     {
 491              		.loc 1 85 8 view .LVU130
 492 0008 33B1     		cbz	r3, .L47
 493              	.LVL27:
 494              	.L35:
  88:bsp/can/bsp_can.c ****       }
 495              		.loc 1 88 47 is_stmt 1 view .LVU131
  90:bsp/can/bsp_can.c ****      {
 496              		.loc 1 90 7 view .LVU132
  90:bsp/can/bsp_can.c ****      {
 497              		.loc 1 90 15 is_stmt 0 view .LVU133
 498 000a 2B4B     		ldr	r3, .L51
 499 000c 93F800C0 		ldrb	ip, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 15


  90:bsp/can/bsp_can.c ****      {
 500              		.loc 1 90 10 view .LVU134
 501 0010 BCF10F0F 		cmp	ip, #15
 502 0014 13D9     		bls	.L45
 503              	.L37:
  92:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 504              		.loc 1 92 9 is_stmt 1 view .LVU135
  92:bsp/can/bsp_can.c ****               LOGERROR("[bsp_can] CAN instance exceeded MAX num, consider balance the load of CAN b
 505              		.loc 1 92 15 view .LVU136
 506 0016 FEE7     		b	.L37
 507              	.LVL28:
 508              	.L47:
  87:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 509              		.loc 1 87 9 view .LVU137
 510 0018 FFF7FEFF 		bl	CANServiceInit
 511              	.LVL29:
  87:bsp/can/bsp_can.c ****          LOGINFO("[bsp_can] CAN Service Init");
 512              		.loc 1 87 9 is_stmt 0 view .LVU138
 513 001c F5E7     		b	.L35
 514              	.LVL30:
 515              	.L38:
 516              	.LBB4:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 517              		.loc 1 95 36 is_stmt 1 discriminator 2 view .LVU139
 518 001e 0133     		adds	r3, r3, #1
 519              	.LVL31:
 520              	.L36:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 521              		.loc 1 95 28 discriminator 1 view .LVU140
 522 0020 9C45     		cmp	ip, r3
 523 0022 0ED9     		bls	.L48
  97:bsp/can/bsp_can.c ****       {
 524              		.loc 1 97 6 view .LVU141
  97:bsp/can/bsp_can.c ****       {
 525              		.loc 1 97 22 is_stmt 0 view .LVU142
 526 0024 254A     		ldr	r2, .L51+4
 527 0026 52F82320 		ldr	r2, [r2, r3, lsl #2]
  97:bsp/can/bsp_can.c ****       {
 528              		.loc 1 97 25 view .LVU143
 529 002a 92F84D00 		ldrb	r0, [r2, #77]	@ zero_extendqisi2
  97:bsp/can/bsp_can.c ****       {
 530              		.loc 1 97 42 view .LVU144
 531 002e A179     		ldrb	r1, [r4, #6]	@ zero_extendqisi2
  97:bsp/can/bsp_can.c ****       {
 532              		.loc 1 97 9 view .LVU145
 533 0030 8842     		cmp	r0, r1
 534 0032 F4D1     		bne	.L38
  97:bsp/can/bsp_can.c ****       {
 535              		.loc 1 97 68 discriminator 1 view .LVU146
 536 0034 1168     		ldr	r1, [r2]	@ unaligned
  97:bsp/can/bsp_can.c ****       {
 537              		.loc 1 97 90 discriminator 1 view .LVU147
 538 0036 2268     		ldr	r2, [r4]
  97:bsp/can/bsp_can.c ****       {
 539              		.loc 1 97 50 discriminator 1 view .LVU148
 540 0038 9142     		cmp	r1, r2
 541 003a F0D1     		bne	.L38
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 16


 542              	.L39:
  99:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 543              		.loc 1 99 10 is_stmt 1 view .LVU149
  99:bsp/can/bsp_can.c ****            LOGERROR("[}bsp_can] CAN id crash ,tx [%d] or rx [%d] already registered", &config->tx_i
 544              		.loc 1 99 16 view .LVU150
 545 003c FEE7     		b	.L39
 546              	.LVL32:
 547              	.L45:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 548              		.loc 1 95 19 is_stmt 0 view .LVU151
 549 003e 0023     		movs	r3, #0
 550 0040 EEE7     		b	.L36
 551              	.LVL33:
 552              	.L48:
  95:bsp/can/bsp_can.c ****      { // é‡å¤æ³¨å†Œ | idé‡å¤
 553              		.loc 1 95 19 view .LVU152
 554              	.LBE4:
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 555              		.loc 1 104 5 is_stmt 1 view .LVU153
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 556              		.loc 1 104 44 is_stmt 0 view .LVU154
 557 0042 5720     		movs	r0, #87
 558 0044 FFF7FEFF 		bl	malloc
 559              	.LVL34:
 104:bsp/can/bsp_can.c ****     memset(instance, 0, sizeof(CANInstance));                           // åˆ†é…çš„ç©ºé—´æœªå¿…æ˜¯
 560              		.loc 1 104 44 view .LVU155
 561 0048 0546     		mov	r5, r0
 562              	.LVL35:
 105:bsp/can/bsp_can.c ****     // è¿›è¡Œå‘é€æŠ¥æ–‡çš„é…ç½®
 563              		.loc 1 105 5 is_stmt 1 view .LVU156
 564 004a 5722     		movs	r2, #87
 565 004c 0021     		movs	r1, #0
 566 004e FFF7FEFF 		bl	memset
 567              	.LVL36:
 107:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 568              		.loc 1 107 5 view .LVU157
 107:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 569              		.loc 1 107 14 is_stmt 0 view .LVU158
 570 0052 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 107:bsp/can/bsp_can.c ****         instance->txconf.ExtId = config->EXT_ID.raw;
 571              		.loc 1 107 7 view .LVU159
 572 0054 042B     		cmp	r3, #4
 573 0056 03D0     		beq	.L49
 109:bsp/can/bsp_can.c ****         instance->txconf.StdId = config->tx_id; // å‘é€id
 574              		.loc 1 109 11 is_stmt 1 view .LVU160
 109:bsp/can/bsp_can.c ****         instance->txconf.StdId = config->tx_id; // å‘é€id
 575              		.loc 1 109 13 is_stmt 0 view .LVU161
 576 0058 2BB9     		cbnz	r3, .L42
 110:bsp/can/bsp_can.c ****     }
 577              		.loc 1 110 9 is_stmt 1 view .LVU162
 110:bsp/can/bsp_can.c ****     }
 578              		.loc 1 110 40 is_stmt 0 view .LVU163
 579 005a 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 110:bsp/can/bsp_can.c ****     }
 580              		.loc 1 110 32 view .LVU164
 581 005c 6B60     		str	r3, [r5, #4]	@ unaligned
 582 005e 02E0     		b	.L42
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 17


 583              	.L49:
 108:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
 584              		.loc 1 108 9 is_stmt 1 view .LVU165
 108:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
 585              		.loc 1 108 48 is_stmt 0 view .LVU166
 586 0060 D4F80730 		ldr	r3, [r4, #7]	@ unaligned
 108:bsp/can/bsp_can.c ****     }else if(config->tx_ide==CAN_ID_STD){
 587              		.loc 1 108 32 view .LVU167
 588 0064 AB60     		str	r3, [r5, #8]	@ unaligned
 589              	.L42:
 112:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 590              		.loc 1 112 5 is_stmt 1 view .LVU168
 112:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 591              		.loc 1 112 34 is_stmt 0 view .LVU169
 592 0066 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 112:bsp/can/bsp_can.c ****     instance->txconf.RTR = CAN_RTR_DATA;    // å‘é€æ•°æ®å¸§
 593              		.loc 1 112 26 view .LVU170
 594 0068 EA60     		str	r2, [r5, #12]	@ unaligned
 113:bsp/can/bsp_can.c ****     instance->txconf.DLC = 0x08;            // é»˜è®¤å‘é€é•¿åº¦ä¸º8
 595              		.loc 1 113 5 is_stmt 1 view .LVU171
 114:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 596              		.loc 1 114 5 view .LVU172
 114:bsp/can/bsp_can.c ****     // è®¾ç½®å›è°ƒå‡½æ•°å’Œæ¥æ”¶å‘é€id
 597              		.loc 1 114 26 is_stmt 0 view .LVU173
 598 006a 0023     		movs	r3, #0
 599 006c 0821     		movs	r1, #8
 600 006e 2975     		strb	r1, [r5, #20]
 601 0070 6B75     		strb	r3, [r5, #21]
 602 0072 AB75     		strb	r3, [r5, #22]
 603 0074 EB75     		strb	r3, [r5, #23]
 116:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 604              		.loc 1 116 5 is_stmt 1 view .LVU174
 116:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 605              		.loc 1 116 34 is_stmt 0 view .LVU175
 606 0076 2368     		ldr	r3, [r4]
 116:bsp/can/bsp_can.c ****     instance->tx_id = config->tx_id; // å¥½åƒæ²¡ç”¨,å¯ä»¥åˆ æ‰
 607              		.loc 1 116 26 view .LVU176
 608 0078 2B60     		str	r3, [r5]	@ unaligned
 117:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 609              		.loc 1 117 5 is_stmt 1 view .LVU177
 117:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 610              		.loc 1 117 29 is_stmt 0 view .LVU178
 611 007a 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 117:bsp/can/bsp_can.c ****     instance->rx_id = config->rx_id;
 612              		.loc 1 117 21 view .LVU179
 613 007c 85F83830 		strb	r3, [r5, #56]
 118:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 614              		.loc 1 118 5 is_stmt 1 view .LVU180
 118:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 615              		.loc 1 118 29 is_stmt 0 view .LVU181
 616 0080 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 118:bsp/can/bsp_can.c ****     instance->can_module_callback = config->can_module_callback;
 617              		.loc 1 118 21 view .LVU182
 618 0082 85F84D30 		strb	r3, [r5, #77]
 119:bsp/can/bsp_can.c ****     instance->id = config->id;
 619              		.loc 1 119 5 is_stmt 1 view .LVU183
 119:bsp/can/bsp_can.c ****     instance->id = config->id;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 18


 620              		.loc 1 119 43 is_stmt 0 view .LVU184
 621 0086 E368     		ldr	r3, [r4, #12]
 119:bsp/can/bsp_can.c ****     instance->id = config->id;
 622              		.loc 1 119 35 view .LVU185
 623 0088 C5F84F30 		str	r3, [r5, #79]	@ unaligned
 120:bsp/can/bsp_can.c **** 
 624              		.loc 1 120 5 is_stmt 1 view .LVU186
 120:bsp/can/bsp_can.c **** 
 625              		.loc 1 120 26 is_stmt 0 view .LVU187
 626 008c 2369     		ldr	r3, [r4, #16]
 120:bsp/can/bsp_can.c **** 
 627              		.loc 1 120 18 view .LVU188
 628 008e C5F85330 		str	r3, [r5, #83]	@ unaligned
 123:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 629              		.loc 1 123 5 is_stmt 1 view .LVU189
 123:bsp/can/bsp_can.c ****         EXTCANAddFilter(instance);
 630              		.loc 1 123 7 is_stmt 0 view .LVU190
 631 0092 042A     		cmp	r2, #4
 632 0094 0BD0     		beq	.L50
 126:bsp/can/bsp_can.c ****     }         // æ·»åŠ CANè¿‡æ»¤å™¨è§„åˆ™
 633              		.loc 1 126 10 is_stmt 1 view .LVU191
 634 0096 2846     		mov	r0, r5
 635 0098 FFF7FEFF 		bl	CANAddFilter
 636              	.LVL37:
 637              	.L44:
 128:bsp/can/bsp_can.c **** 
 638              		.loc 1 128 5 view .LVU192
 128:bsp/can/bsp_can.c **** 
 639              		.loc 1 128 21 is_stmt 0 view .LVU193
 640 009c 064A     		ldr	r2, .L51
 641 009e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 642 00a0 591C     		adds	r1, r3, #1
 643 00a2 1170     		strb	r1, [r2]
 128:bsp/can/bsp_can.c **** 
 644              		.loc 1 128 25 view .LVU194
 645 00a4 054A     		ldr	r2, .L51+4
 646 00a6 42F82350 		str	r5, [r2, r3, lsl #2]
 130:bsp/can/bsp_can.c **** }
 647              		.loc 1 130 5 is_stmt 1 view .LVU195
 131:bsp/can/bsp_can.c **** 
 648              		.loc 1 131 1 is_stmt 0 view .LVU196
 649 00aa 2846     		mov	r0, r5
 650 00ac 38BD     		pop	{r3, r4, r5, pc}
 651              	.LVL38:
 652              	.L50:
 124:bsp/can/bsp_can.c ****     }else{
 653              		.loc 1 124 9 is_stmt 1 view .LVU197
 654 00ae 2846     		mov	r0, r5
 655 00b0 FFF7FEFF 		bl	EXTCANAddFilter
 656              	.LVL39:
 657 00b4 F2E7     		b	.L44
 658              	.L52:
 659 00b6 00BF     		.align	2
 660              	.L51:
 661 00b8 00000000 		.word	idx
 662 00bc 00000000 		.word	can_instance
 663              		.cfi_endproc
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 19


 664              	.LFE140:
 666              		.section	.text.CANTransmit,"ax",%progbits
 667              		.align	1
 668              		.global	CANTransmit
 669              		.syntax unified
 670              		.thumb
 671              		.thumb_func
 673              	CANTransmit:
 674              	.LVL40:
 675              	.LFB141:
 136:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 676              		.loc 1 136 1 view -0
 677              		.cfi_startproc
 678              		@ args = 0, pretend = 0, frame = 0
 679              		@ frame_needed = 0, uses_anonymous_args = 0
 136:bsp/can/bsp_can.c ****     static uint32_t busy_count;
 680              		.loc 1 136 1 is_stmt 0 view .LVU199
 681 0000 10B5     		push	{r4, lr}
 682              		.cfi_def_cfa_offset 8
 683              		.cfi_offset 4, -8
 684              		.cfi_offset 14, -4
 685 0002 2DED028B 		vpush.64	{d8}
 686              		.cfi_def_cfa_offset 16
 687              		.cfi_offset 80, -16
 688              		.cfi_offset 81, -12
 689 0006 0446     		mov	r4, r0
 690 0008 F0EE408A 		vmov.f32	s17, s0
 137:bsp/can/bsp_can.c ****     static volatile float wait_time __attribute__((unused)); // for cancel warning
 691              		.loc 1 137 5 is_stmt 1 view .LVU200
 138:bsp/can/bsp_can.c ****     float dwt_start = DWT_GetTimeline_ms();
 692              		.loc 1 138 5 view .LVU201
 139:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 693              		.loc 1 139 5 view .LVU202
 139:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 694              		.loc 1 139 23 is_stmt 0 view .LVU203
 695 000c FFF7FEFF 		bl	DWT_GetTimeline_ms
 696              	.LVL41:
 139:bsp/can/bsp_can.c ****     while (HAL_CAN_GetTxMailboxesFreeLevel(_instance->can_handle) == 0) // ç­‰å¾…é‚®ç®±ç©ºé—²
 697              		.loc 1 139 23 view .LVU204
 698 0010 B0EE408A 		vmov.f32	s16, s0
 699              	.LVL42:
 140:bsp/can/bsp_can.c ****     {
 700              		.loc 1 140 5 is_stmt 1 view .LVU205
 701              	.L54:
 140:bsp/can/bsp_can.c ****     {
 702              		.loc 1 140 67 view .LVU206
 140:bsp/can/bsp_can.c ****     {
 703              		.loc 1 140 12 is_stmt 0 view .LVU207
 704 0014 2068     		ldr	r0, [r4]	@ unaligned
 705 0016 FFF7FEFF 		bl	HAL_CAN_GetTxMailboxesFreeLevel
 706              	.LVL43:
 140:bsp/can/bsp_can.c ****     {
 707              		.loc 1 140 67 discriminator 1 view .LVU208
 708 001a 80B9     		cbnz	r0, .L61
 142:bsp/can/bsp_can.c ****         {
 709              		.loc 1 142 9 is_stmt 1 view .LVU209
 142:bsp/can/bsp_can.c ****         {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 20


 710              		.loc 1 142 13 is_stmt 0 view .LVU210
 711 001c FFF7FEFF 		bl	DWT_GetTimeline_ms
 712              	.LVL44:
 142:bsp/can/bsp_can.c ****         {
 713              		.loc 1 142 34 discriminator 1 view .LVU211
 714 0020 30EE480A 		vsub.f32	s0, s0, s16
 142:bsp/can/bsp_can.c ****         {
 715              		.loc 1 142 12 discriminator 1 view .LVU212
 716 0024 B4EEE80A 		vcmpe.f32	s0, s17
 717 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 718 002c F2DD     		ble	.L54
 144:bsp/can/bsp_can.c ****             busy_count++;
 719              		.loc 1 144 105 is_stmt 1 view .LVU213
 145:bsp/can/bsp_can.c ****             return 0;
 720              		.loc 1 145 13 view .LVU214
 145:bsp/can/bsp_can.c ****             return 0;
 721              		.loc 1 145 23 is_stmt 0 view .LVU215
 722 002e 104A     		ldr	r2, .L63
 723 0030 1368     		ldr	r3, [r2]
 724 0032 0133     		adds	r3, r3, #1
 725 0034 1360     		str	r3, [r2]
 146:bsp/can/bsp_can.c ****         }
 726              		.loc 1 146 13 is_stmt 1 view .LVU216
 146:bsp/can/bsp_can.c ****         }
 727              		.loc 1 146 20 is_stmt 0 view .LVU217
 728 0036 0020     		movs	r0, #0
 729              	.L56:
 158:bsp/can/bsp_can.c **** 
 730              		.loc 1 158 1 view .LVU218
 731 0038 BDEC028B 		vldm	sp!, {d8}
 732              		.cfi_remember_state
 733              		.cfi_restore 80
 734              		.cfi_restore 81
 735              		.cfi_def_cfa_offset 8
 736              	.LVL45:
 158:bsp/can/bsp_can.c **** 
 737              		.loc 1 158 1 view .LVU219
 738 003c 10BD     		pop	{r4, pc}
 739              	.LVL46:
 740              	.L61:
 741              		.cfi_restore_state
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 742              		.loc 1 149 5 is_stmt 1 view .LVU220
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 743              		.loc 1 149 17 is_stmt 0 view .LVU221
 744 003e FFF7FEFF 		bl	DWT_GetTimeline_ms
 745              	.LVL47:
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 746              		.loc 1 149 38 discriminator 1 view .LVU222
 747 0042 30EE480A 		vsub.f32	s0, s0, s16
 149:bsp/can/bsp_can.c ****     // tx_mailboxä¼šä¿å­˜å®é™…å¡«å…¥äº†è¿™ä¸€å¸§æ¶ˆæ¯çš„é‚®ç®±,ä½†æ˜¯çŸ¥é“æ˜¯å“ªä¸ªé‚®ç®±å‘çš„
 748              		.loc 1 149 15 discriminator 1 view .LVU223
 749 0046 0B4B     		ldr	r3, .L63+4
 750 0048 83ED000A 		vstr.32	s0, [r3]
 151:bsp/can/bsp_can.c ****     {
 751              		.loc 1 151 5 is_stmt 1 view .LVU224
 151:bsp/can/bsp_can.c ****     {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 21


 752              		.loc 1 151 9 is_stmt 0 view .LVU225
 753 004c 2346     		mov	r3, r4
 754 004e 53F8390B 		ldr	r0, [r3], #57	@ unaligned
 755 0052 04F13D02 		add	r2, r4, #61
 756 0056 211D     		adds	r1, r4, #4
 757 0058 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 758              	.LVL48:
 151:bsp/can/bsp_can.c ****     {
 759              		.loc 1 151 8 discriminator 1 view .LVU226
 760 005c 08B9     		cbnz	r0, .L62
 157:bsp/can/bsp_can.c **** }
 761              		.loc 1 157 12 view .LVU227
 762 005e 0120     		movs	r0, #1
 763 0060 EAE7     		b	.L56
 764              	.L62:
 154:bsp/can/bsp_can.c ****         return 0;
 765              		.loc 1 154 9 is_stmt 1 view .LVU228
 154:bsp/can/bsp_can.c ****         return 0;
 766              		.loc 1 154 19 is_stmt 0 view .LVU229
 767 0062 034A     		ldr	r2, .L63
 768 0064 1368     		ldr	r3, [r2]
 769 0066 0133     		adds	r3, r3, #1
 770 0068 1360     		str	r3, [r2]
 155:bsp/can/bsp_can.c ****     }
 771              		.loc 1 155 9 is_stmt 1 view .LVU230
 155:bsp/can/bsp_can.c ****     }
 772              		.loc 1 155 16 is_stmt 0 view .LVU231
 773 006a 0020     		movs	r0, #0
 774 006c E4E7     		b	.L56
 775              	.L64:
 776 006e 00BF     		.align	2
 777              	.L63:
 778 0070 00000000 		.word	busy_count.2
 779 0074 00000000 		.word	wait_time.1
 780              		.cfi_endproc
 781              	.LFE141:
 783              		.section	.text.CANSetDLC,"ax",%progbits
 784              		.align	1
 785              		.global	CANSetDLC
 786              		.syntax unified
 787              		.thumb
 788              		.thumb_func
 790              	CANSetDLC:
 791              	.LVL49:
 792              	.LFB142:
 161:bsp/can/bsp_can.c ****     // å‘é€é•¿åº¦é”™è¯¯!æ£€æŸ¥è°ƒç”¨å‚æ•°æ˜¯å¦å‡ºé”™,æˆ–å‡ºç°é‡æŒ‡é’ˆ/è¶Šç•Œè®¿é—®
 793              		.loc 1 161 1 is_stmt 1 view -0
 794              		.cfi_startproc
 795              		@ args = 0, pretend = 0, frame = 0
 796              		@ frame_needed = 0, uses_anonymous_args = 0
 797              		@ link register save eliminated.
 163:bsp/can/bsp_can.c ****         while (1)
 798              		.loc 1 163 5 view .LVU233
 163:bsp/can/bsp_can.c ****         while (1)
 799              		.loc 1 163 20 is_stmt 0 view .LVU234
 800 0000 4B1E     		subs	r3, r1, #1
 801 0002 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 22


 163:bsp/can/bsp_can.c ****         while (1)
 802              		.loc 1 163 8 view .LVU235
 803 0004 072B     		cmp	r3, #7
 804 0006 01D9     		bls	.L65
 805              	.L67:
 164:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 806              		.loc 1 164 9 is_stmt 1 view .LVU236
 166:bsp/can/bsp_can.c **** }
 807              		.loc 1 166 5 discriminator 1 view .LVU237
 166:bsp/can/bsp_can.c **** }
 808              		.loc 1 166 27 is_stmt 0 discriminator 1 view .LVU238
 809 0008 4161     		str	r1, [r0, #20]	@ unaligned
 164:bsp/can/bsp_can.c ****             // LOGERROR("[bsp_can] CAN DLC error! check your code or wild pointer");
 810              		.loc 1 164 15 is_stmt 1 view .LVU239
 811 000a FDE7     		b	.L67
 812              	.L65:
 167:bsp/can/bsp_can.c **** 
 813              		.loc 1 167 1 is_stmt 0 view .LVU240
 814 000c 7047     		bx	lr
 815              		.cfi_endproc
 816              	.LFE142:
 818              		.section	.text.HAL_CAN_RxFifo0MsgPendingCallback,"ax",%progbits
 819              		.align	1
 820              		.global	HAL_CAN_RxFifo0MsgPendingCallback
 821              		.syntax unified
 822              		.thumb
 823              		.thumb_func
 825              	HAL_CAN_RxFifo0MsgPendingCallback:
 826              	.LVL50:
 827              	.LFB144:
 211:bsp/can/bsp_can.c **** 
 212:bsp/can/bsp_can.c **** /**
 213:bsp/can/bsp_can.c ****  * @brief æ³¨æ„,STM32çš„ä¸¤ä¸ªCANè®¾å¤‡å…±äº«ä¸¤ä¸ªFIFO
 214:bsp/can/bsp_can.c ****  * ä¸‹é¢ä¸¤ä¸ªå‡½æ•°æ˜¯HALåº“ä¸­çš„å›è°ƒå‡½æ•°,ä»–ä»¬è¢«HALå£°æ˜ä¸º__weak,è¿™é‡Œå¯¹ä»–ä»¬è¿›è¡Œé
 215:bsp/can/bsp_can.c ****  * å½“FIFO0æˆ–FIFO1æº¢å‡ºæ—¶ä¼šè°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°
 216:bsp/can/bsp_can.c ****  */
 217:bsp/can/bsp_can.c **** // ä¸‹é¢çš„å‡½æ•°ä¼šè°ƒç”¨CANFIFOxCallback()æ¥è¿›ä¸€æ­¥å¤„ç†æ¥è‡ªç‰¹å®šCANè®¾å¤‡çš„æ¶ˆæ¯
 218:bsp/can/bsp_can.c **** 
 219:bsp/can/bsp_can.c **** /**
 220:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_0 is full,this func would be called
 221:bsp/can/bsp_can.c ****  *
 222:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_0 comes from
 223:bsp/can/bsp_can.c ****  */
 224:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *hcan)
 225:bsp/can/bsp_can.c **** {
 828              		.loc 1 225 1 is_stmt 1 view -0
 829              		.cfi_startproc
 830              		@ args = 0, pretend = 0, frame = 0
 831              		@ frame_needed = 0, uses_anonymous_args = 0
 832              		.loc 1 225 1 is_stmt 0 view .LVU242
 833 0000 08B5     		push	{r3, lr}
 834              		.cfi_def_cfa_offset 8
 835              		.cfi_offset 3, -8
 836              		.cfi_offset 14, -4
 226:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO0); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 837              		.loc 1 226 5 is_stmt 1 view .LVU243
 838 0002 0021     		movs	r1, #0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 23


 839 0004 FFF7FEFF 		bl	CANFIFOxCallback
 840              	.LVL51:
 227:bsp/can/bsp_can.c **** }
 841              		.loc 1 227 1 is_stmt 0 view .LVU244
 842 0008 08BD     		pop	{r3, pc}
 843              		.cfi_endproc
 844              	.LFE144:
 846              		.section	.text.HAL_CAN_RxFifo1MsgPendingCallback,"ax",%progbits
 847              		.align	1
 848              		.global	HAL_CAN_RxFifo1MsgPendingCallback
 849              		.syntax unified
 850              		.thumb
 851              		.thumb_func
 853              	HAL_CAN_RxFifo1MsgPendingCallback:
 854              	.LVL52:
 855              	.LFB145:
 228:bsp/can/bsp_can.c **** 
 229:bsp/can/bsp_can.c **** /**
 230:bsp/can/bsp_can.c ****  * @brief rx fifo callback. Once FIFO_1 is full,this func would be called
 231:bsp/can/bsp_can.c ****  *
 232:bsp/can/bsp_can.c ****  * @param hcan CAN handle indicate which device the oddest mesg in FIFO_1 comes from
 233:bsp/can/bsp_can.c ****  */
 234:bsp/can/bsp_can.c **** void HAL_CAN_RxFifo1MsgPendingCallback(CAN_HandleTypeDef *hcan)
 235:bsp/can/bsp_can.c **** {
 856              		.loc 1 235 1 is_stmt 1 view -0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 0
 859              		@ frame_needed = 0, uses_anonymous_args = 0
 860              		.loc 1 235 1 is_stmt 0 view .LVU246
 861 0000 08B5     		push	{r3, lr}
 862              		.cfi_def_cfa_offset 8
 863              		.cfi_offset 3, -8
 864              		.cfi_offset 14, -4
 236:bsp/can/bsp_can.c ****     CANFIFOxCallback(hcan, CAN_RX_FIFO1); // è°ƒç”¨æˆ‘ä»¬è‡ªå·±å†™çš„å‡½æ•°æ¥å¤„ç†æ¶ˆæ¯
 865              		.loc 1 236 5 is_stmt 1 view .LVU247
 866 0002 0121     		movs	r1, #1
 867 0004 FFF7FEFF 		bl	CANFIFOxCallback
 868              	.LVL53:
 237:bsp/can/bsp_can.c **** }
 869              		.loc 1 237 1 is_stmt 0 view .LVU248
 870 0008 08BD     		pop	{r3, pc}
 871              		.cfi_endproc
 872              	.LFE145:
 874              		.section	.bss.rxconf.0,"aw",%nobits
 875              		.align	2
 878              	rxconf.0:
 879 0000 00000000 		.space	28
 879      00000000 
 879      00000000 
 879      00000000 
 879      00000000 
 880              		.section	.bss.wait_time.1,"aw",%nobits
 881              		.align	2
 884              	wait_time.1:
 885 0000 00000000 		.space	4
 886              		.section	.bss.busy_count.2,"aw",%nobits
 887              		.align	2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 24


 890              	busy_count.2:
 891 0000 00000000 		.space	4
 892              		.section	.data.can2_filter_idx.3,"aw"
 895              	can2_filter_idx.3:
 896 0000 0E       		.byte	14
 897              		.section	.bss.can1_filter_idx.4,"aw",%nobits
 900              	can1_filter_idx.4:
 901 0000 00       		.space	1
 902              		.section	.data.can2_filter_idx.5,"aw"
 905              	can2_filter_idx.5:
 906 0000 17       		.byte	23
 907              		.section	.data.can1_filter_idx.6,"aw"
 910              	can1_filter_idx.6:
 911 0000 08       		.byte	8
 912              		.section	.bss.idx,"aw",%nobits
 915              	idx:
 916 0000 00       		.space	1
 917              		.section	.bss.can_instance,"aw",%nobits
 918              		.align	2
 921              	can_instance:
 922 0000 00000000 		.space	64
 922      00000000 
 922      00000000 
 922      00000000 
 922      00000000 
 923              		.text
 924              	.Letext0:
 925              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 926              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 927              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 928              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 929              		.file 6 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 930              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 931              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 932              		.file 9 "Core/Inc/can.h"
 933              		.file 10 "bsp/can/bsp_can.h"
 934              		.file 11 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 935              		.file 12 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 936              		.file 13 "<built-in>"
 937              		.file 14 "bsp/dwt/bsp_dwt.h"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_can.c
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:21     .text.CANServiceInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:26     .text.CANServiceInit:00000000 CANServiceInit
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:71     .text.CANServiceInit:00000034 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:77     .text.EXTCANAddFilter:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:82     .text.EXTCANAddFilter:00000000 EXTCANAddFilter
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:178    .text.EXTCANAddFilter:00000060 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:905    .data.can2_filter_idx.5:00000000 can2_filter_idx.5
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:910    .data.can1_filter_idx.6:00000000 can1_filter_idx.6
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:185    .text.CANAddFilter:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:190    .text.CANAddFilter:00000000 CANAddFilter
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:276    .text.CANAddFilter:00000054 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:895    .data.can2_filter_idx.3:00000000 can2_filter_idx.3
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:900    .bss.can1_filter_idx.4:00000000 can1_filter_idx.4
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:283    .text.CANFIFOxCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:288    .text.CANFIFOxCallback:00000000 CANFIFOxCallback
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:458    .text.CANFIFOxCallback:000000b8 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:878    .bss.rxconf.0:00000000 rxconf.0
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:915    .bss.idx:00000000 idx
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:921    .bss.can_instance:00000000 can_instance
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:466    .text.CANRegister:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:472    .text.CANRegister:00000000 CANRegister
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:661    .text.CANRegister:000000b8 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:667    .text.CANTransmit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:673    .text.CANTransmit:00000000 CANTransmit
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:778    .text.CANTransmit:00000070 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:890    .bss.busy_count.2:00000000 busy_count.2
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:884    .bss.wait_time.1:00000000 wait_time.1
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:784    .text.CANSetDLC:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:790    .text.CANSetDLC:00000000 CANSetDLC
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:819    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:825    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 HAL_CAN_RxFifo0MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:847    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:853    .text.HAL_CAN_RxFifo1MsgPendingCallback:00000000 HAL_CAN_RxFifo1MsgPendingCallback
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:875    .bss.rxconf.0:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:881    .bss.wait_time.1:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:887    .bss.busy_count.2:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:901    .bss.can1_filter_idx.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:916    .bss.idx:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccETtLPc.s:918    .bss.can_instance:00000000 $d

UNDEFINED SYMBOLS
HAL_CAN_Start
HAL_CAN_ActivateNotification
hcan1
hcan2
HAL_CAN_ConfigFilter
HAL_CAN_GetRxFifoFillLevel
HAL_CAN_GetRxMessage
memcpy
malloc
memset
DWT_GetTimeline_ms
HAL_CAN_GetTxMailboxesFreeLevel
HAL_CAN_AddTxMessage
