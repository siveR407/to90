ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ins_task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "moudels/imu/ins_task.c"
  20              		.section	.text.IMUPWMSet,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	IMUPWMSet:
  27              	.LVL0:
  28              	.LFB172:
   1:moudels/imu/ins_task.c **** /**
   2:moudels/imu/ins_task.c ****  ******************************************************************************
   3:moudels/imu/ins_task.c ****  * @file    ins_task.c
   4:moudels/imu/ins_task.c ****  * @author  Wang Hongxi
   5:moudels/imu/ins_task.c ****  * @author  annotation and modificaiton by neozng
   6:moudels/imu/ins_task.c ****  * @version V2.0.0
   7:moudels/imu/ins_task.c ****  * @date    2022/2/23
   8:moudels/imu/ins_task.c ****  * @brief
   9:moudels/imu/ins_task.c ****  ******************************************************************************
  10:moudels/imu/ins_task.c ****  * @attention
  11:moudels/imu/ins_task.c ****  *
  12:moudels/imu/ins_task.c ****  ******************************************************************************
  13:moudels/imu/ins_task.c ****  */
  14:moudels/imu/ins_task.c **** #include "ins_task.h"
  15:moudels/imu/ins_task.c **** #include "controller.h"
  16:moudels/imu/ins_task.c **** #include "QuaternionEKF.h"
  17:moudels/imu/ins_task.c **** #include "spi.h"
  18:moudels/imu/ins_task.c **** #include "tim.h"
  19:moudels/imu/ins_task.c **** #include "user_lib.h"
  20:moudels/imu/ins_task.c **** #include "general_def.h"
  21:moudels/imu/ins_task.c **** // #include "master_process.h"
  22:moudels/imu/ins_task.c **** 
  23:moudels/imu/ins_task.c **** INS_t INS;
  24:moudels/imu/ins_task.c **** static IMU_Param_t IMU_Param;
  25:moudels/imu/ins_task.c **** static PIDInstance TempCtrl = {0};
  26:moudels/imu/ins_task.c **** 
  27:moudels/imu/ins_task.c **** const float xb[3] = {1, 0, 0};
  28:moudels/imu/ins_task.c **** const float yb[3] = {0, 1, 0};
  29:moudels/imu/ins_task.c **** const float zb[3] = {0, 0, 1};
  30:moudels/imu/ins_task.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 2


  31:moudels/imu/ins_task.c **** // Áî®‰∫éËé∑Âèñ‰∏§Ê¨°ÈááÊ†∑‰πãÈó¥ÁöÑÊó∂Èó¥Èó¥Èöî
  32:moudels/imu/ins_task.c **** static uint32_t INS_DWT_Count = 0;
  33:moudels/imu/ins_task.c **** static float dt = 0, t = 0;
  34:moudels/imu/ins_task.c **** static float RefTemp = 40; // ÊÅíÊ∏©ËÆæÂÆöÊ∏©Â∫¶
  35:moudels/imu/ins_task.c **** 
  36:moudels/imu/ins_task.c **** static void IMU_Param_Correction(IMU_Param_t *param, float gyro[3], float accel[3]);
  37:moudels/imu/ins_task.c **** 
  38:moudels/imu/ins_task.c **** static void IMUPWMSet(uint16_t pwm)
  39:moudels/imu/ins_task.c **** {
  29              		.loc 1 39 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  40:moudels/imu/ins_task.c ****     __HAL_TIM_SetCompare(&htim10, TIM_CHANNEL_1, pwm);
  34              		.loc 1 40 5 view .LVU1
  35 0000 014B     		ldr	r3, .L2
  36 0002 1B68     		ldr	r3, [r3]
  37 0004 5863     		str	r0, [r3, #52]
  41:moudels/imu/ins_task.c **** }
  38              		.loc 1 41 1 is_stmt 0 view .LVU2
  39 0006 7047     		bx	lr
  40              	.L3:
  41              		.align	2
  42              	.L2:
  43 0008 00000000 		.word	htim10
  44              		.cfi_endproc
  45              	.LFE172:
  47              		.section	.text.InitQuaternion,"ax",%progbits
  48              		.align	1
  49              		.syntax unified
  50              		.thumb
  51              		.thumb_func
  53              	InitQuaternion:
  54              	.LVL1:
  55              	.LFB174:
  42:moudels/imu/ins_task.c **** 
  43:moudels/imu/ins_task.c **** /**
  44:moudels/imu/ins_task.c ****  * @brief Ê∏©Â∫¶ÊéßÂà∂
  45:moudels/imu/ins_task.c ****  *
  46:moudels/imu/ins_task.c ****  */
  47:moudels/imu/ins_task.c **** static void IMU_Temperature_Ctrl(void)
  48:moudels/imu/ins_task.c **** {
  49:moudels/imu/ins_task.c ****     PIDCalculate(&TempCtrl, BMI088.Temperature, RefTemp);
  50:moudels/imu/ins_task.c ****     IMUPWMSet(float_constrain(float_rounding(TempCtrl.Output), 0, UINT32_MAX));
  51:moudels/imu/ins_task.c **** }
  52:moudels/imu/ins_task.c **** 
  53:moudels/imu/ins_task.c **** // ‰ΩøÁî®Âä†ÈÄüÂ∫¶ËÆ°ÁöÑÊï∞ÊçÆÂàùÂßãÂåñRollÂíåPitch,ËÄåYawÁΩÆ0,ËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÂú®ÂàùÂßãÊó∂ÂÄôÁöÑ
  54:moudels/imu/ins_task.c **** static void InitQuaternion(float *init_q4)
  55:moudels/imu/ins_task.c **** {
  56              		.loc 1 55 1 is_stmt 1 view -0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 40
  59              		@ frame_needed = 0, uses_anonymous_args = 0
  60              		.loc 1 55 1 is_stmt 0 view .LVU4
  61 0000 70B5     		push	{r4, r5, r6, lr}
  62              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 3


  63              		.cfi_offset 4, -16
  64              		.cfi_offset 5, -12
  65              		.cfi_offset 6, -8
  66              		.cfi_offset 14, -4
  67 0002 2DED028B 		vpush.64	{d8}
  68              		.cfi_def_cfa_offset 24
  69              		.cfi_offset 80, -24
  70              		.cfi_offset 81, -20
  71 0006 8AB0     		sub	sp, sp, #40
  72              		.cfi_def_cfa_offset 64
  73 0008 0646     		mov	r6, r0
  56:moudels/imu/ins_task.c ****     float acc_init[3] = {0};
  74              		.loc 1 56 5 is_stmt 1 view .LVU5
  75              		.loc 1 56 11 is_stmt 0 view .LVU6
  76 000a 0024     		movs	r4, #0
  77 000c 0794     		str	r4, [sp, #28]
  78 000e 0894     		str	r4, [sp, #32]
  79 0010 0994     		str	r4, [sp, #36]
  57:moudels/imu/ins_task.c ****     float gravity_norm[3] = {0, 0, 1}; // ÂØºËà™Á≥ªÈáçÂäõÂä†ÈÄüÂ∫¶Áü¢Èáè,ÂΩí‰∏ÄÂåñÂêé‰∏∫(0,0,1)
  80              		.loc 1 57 5 is_stmt 1 view .LVU7
  81              		.loc 1 57 11 is_stmt 0 view .LVU8
  82 0012 0023     		movs	r3, #0
  83 0014 0493     		str	r3, [sp, #16]	@ float
  84 0016 0593     		str	r3, [sp, #20]	@ float
  85 0018 4FF07E53 		mov	r3, #1065353216
  86 001c 0693     		str	r3, [sp, #24]	@ float
  58:moudels/imu/ins_task.c ****     float axis_rot[3] = {0};           // ÊóãËΩ¨ËΩ¥
  87              		.loc 1 58 5 is_stmt 1 view .LVU9
  88              		.loc 1 58 11 is_stmt 0 view .LVU10
  89 001e 0194     		str	r4, [sp, #4]
  90 0020 0294     		str	r4, [sp, #8]
  91 0022 0394     		str	r4, [sp, #12]
  59:moudels/imu/ins_task.c ****     // ËØªÂèñ100Ê¨°Âä†ÈÄüÂ∫¶ËÆ°Êï∞ÊçÆ,ÂèñÂπ≥ÂùáÂÄº‰Ωú‰∏∫ÂàùÂßãÂÄº
  60:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 100; ++i)
  92              		.loc 1 60 5 is_stmt 1 view .LVU11
  93              	.LBB2:
  94              		.loc 1 60 10 view .LVU12
  95              	.LVL2:
  96              		.loc 1 60 5 is_stmt 0 view .LVU13
  97 0024 21E0     		b	.L5
  98              	.LVL3:
  99              	.L6:
  61:moudels/imu/ins_task.c ****     {
  62:moudels/imu/ins_task.c ****         BMI088_Read(&BMI088);
 100              		.loc 1 62 9 is_stmt 1 view .LVU14
 101 0026 354D     		ldr	r5, .L12
 102 0028 2846     		mov	r0, r5
 103 002a FFF7FEFF 		bl	BMI088_Read
 104              	.LVL4:
  63:moudels/imu/ins_task.c ****         acc_init[X] += BMI088.Accel[X];
 105              		.loc 1 63 9 view .LVU15
 106              		.loc 1 63 36 is_stmt 0 view .LVU16
 107 002e 95ED007A 		vldr.32	s14, [r5]
 108              		.loc 1 63 21 view .LVU17
 109 0032 DDED077A 		vldr.32	s15, [sp, #28]
 110 0036 77EE877A 		vadd.f32	s15, s15, s14
 111 003a CDED077A 		vstr.32	s15, [sp, #28]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 4


  64:moudels/imu/ins_task.c ****         acc_init[Y] += BMI088.Accel[Y];
 112              		.loc 1 64 9 is_stmt 1 view .LVU18
 113              		.loc 1 64 36 is_stmt 0 view .LVU19
 114 003e 95ED017A 		vldr.32	s14, [r5, #4]
 115              		.loc 1 64 21 view .LVU20
 116 0042 DDED087A 		vldr.32	s15, [sp, #32]
 117 0046 77EE877A 		vadd.f32	s15, s15, s14
 118 004a CDED087A 		vstr.32	s15, [sp, #32]
  65:moudels/imu/ins_task.c ****         acc_init[Z] += BMI088.Accel[Z];
 119              		.loc 1 65 9 is_stmt 1 view .LVU21
 120              		.loc 1 65 36 is_stmt 0 view .LVU22
 121 004e 95ED027A 		vldr.32	s14, [r5, #8]
 122              		.loc 1 65 21 view .LVU23
 123 0052 DDED097A 		vldr.32	s15, [sp, #36]
 124 0056 77EE877A 		vadd.f32	s15, s15, s14
 125 005a CDED097A 		vstr.32	s15, [sp, #36]
  66:moudels/imu/ins_task.c ****         DWT_Delay(0.001);
 126              		.loc 1 66 9 is_stmt 1 view .LVU24
 127 005e 9FED280A 		vldr.32	s0, .L12+4
 128 0062 FFF7FEFF 		bl	DWT_Delay
 129              	.LVL5:
  60:moudels/imu/ins_task.c ****     {
 130              		.loc 1 60 34 discriminator 3 view .LVU25
 131 0066 0134     		adds	r4, r4, #1
 132              	.LVL6:
  60:moudels/imu/ins_task.c ****     {
 133              		.loc 1 60 34 is_stmt 0 discriminator 3 view .LVU26
 134 0068 E4B2     		uxtb	r4, r4
 135              	.LVL7:
 136              	.L5:
  60:moudels/imu/ins_task.c ****     {
 137              		.loc 1 60 27 is_stmt 1 discriminator 1 view .LVU27
 138 006a 632C     		cmp	r4, #99
 139 006c DBD9     		bls	.L6
 140              	.LBE2:
 141              	.LBB3:
  67:moudels/imu/ins_task.c ****     }
  68:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 142              		.loc 1 68 18 is_stmt 0 view .LVU28
 143 006e 0023     		movs	r3, #0
 144 0070 0CE0     		b	.L7
 145              	.LVL8:
 146              	.L8:
  69:moudels/imu/ins_task.c ****         acc_init[i] /= 100;
 147              		.loc 1 69 9 is_stmt 1 view .LVU29
 148              		.loc 1 69 17 is_stmt 0 view .LVU30
 149 0072 0AAA     		add	r2, sp, #40
 150 0074 02EB8302 		add	r2, r2, r3, lsl #2
 151 0078 52ED036A 		vldr.32	s13, [r2, #-12]
 152              		.loc 1 69 21 view .LVU31
 153 007c 9FED217A 		vldr.32	s14, .L12+8
 154 0080 C6EE877A 		vdiv.f32	s15, s13, s14
 155 0084 42ED037A 		vstr.32	s15, [r2, #-12]
  68:moudels/imu/ins_task.c ****         acc_init[i] /= 100;
 156              		.loc 1 68 32 is_stmt 1 discriminator 3 view .LVU32
 157 0088 0133     		adds	r3, r3, #1
 158              	.LVL9:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 5


  68:moudels/imu/ins_task.c ****         acc_init[i] /= 100;
 159              		.loc 1 68 32 is_stmt 0 discriminator 3 view .LVU33
 160 008a DBB2     		uxtb	r3, r3
 161              	.LVL10:
 162              	.L7:
  68:moudels/imu/ins_task.c ****         acc_init[i] /= 100;
 163              		.loc 1 68 27 is_stmt 1 discriminator 1 view .LVU34
 164 008c 022B     		cmp	r3, #2
 165 008e F0D9     		bls	.L8
 166              	.LBE3:
  70:moudels/imu/ins_task.c ****     Norm3d(acc_init);
 167              		.loc 1 70 5 view .LVU35
 168 0090 07A8     		add	r0, sp, #28
 169 0092 FFF7FEFF 		bl	Norm3d
 170              	.LVL11:
  71:moudels/imu/ins_task.c ****     // ËÆ°ÁÆóÂéüÂßãÂä†ÈÄüÂ∫¶Áü¢ÈáèÂíåÂØºËà™Á≥ªÈáçÂäõÂä†ÈÄüÂ∫¶Áü¢ÈáèÁöÑÂ§πËßí
  72:moudels/imu/ins_task.c ****     float angle = acosf(Dot3d(acc_init, gravity_norm));
 171              		.loc 1 72 5 view .LVU36
 172              		.loc 1 72 19 is_stmt 0 view .LVU37
 173 0096 04A9     		add	r1, sp, #16
 174 0098 07A8     		add	r0, sp, #28
 175 009a FFF7FEFF 		bl	Dot3d
 176              	.LVL12:
 177              		.loc 1 72 19 discriminator 1 view .LVU38
 178 009e FFF7FEFF 		bl	acosf
 179              	.LVL13:
 180 00a2 B0EE408A 		vmov.f32	s16, s0
 181              	.LVL14:
  73:moudels/imu/ins_task.c ****     Cross3d(acc_init, gravity_norm, axis_rot);
 182              		.loc 1 73 5 is_stmt 1 view .LVU39
 183 00a6 01AA     		add	r2, sp, #4
 184 00a8 04A9     		add	r1, sp, #16
 185 00aa 07A8     		add	r0, sp, #28
 186 00ac FFF7FEFF 		bl	Cross3d
 187              	.LVL15:
  74:moudels/imu/ins_task.c ****     Norm3d(axis_rot);
 188              		.loc 1 74 5 view .LVU40
 189 00b0 01A8     		add	r0, sp, #4
 190 00b2 FFF7FEFF 		bl	Norm3d
 191              	.LVL16:
  75:moudels/imu/ins_task.c ****     init_q4[0] = cosf(angle / 2.0f);
 192              		.loc 1 75 5 view .LVU41
 193              		.loc 1 75 18 is_stmt 0 view .LVU42
 194 00b6 F6EE007A 		vmov.f32	s15, #5.0e-1
 195 00ba 28EE278A 		vmul.f32	s16, s16, s15
 196              	.LVL17:
 197              		.loc 1 75 18 view .LVU43
 198 00be B0EE480A 		vmov.f32	s0, s16
 199 00c2 FFF7FEFF 		bl	cosf
 200              	.LVL18:
 201              		.loc 1 75 16 discriminator 1 view .LVU44
 202 00c6 86ED000A 		vstr.32	s0, [r6]
  76:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 2; ++i)
 203              		.loc 1 76 5 is_stmt 1 view .LVU45
 204              	.LBB4:
 205              		.loc 1 76 10 view .LVU46
 206              	.LVL19:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 6


 207              		.loc 1 76 18 is_stmt 0 view .LVU47
 208 00ca 0024     		movs	r4, #0
 209              	.LVL20:
 210              		.loc 1 76 5 view .LVU48
 211 00cc 10E0     		b	.L9
 212              	.LVL21:
 213              	.L10:
  77:moudels/imu/ins_task.c ****         init_q4[i + 1] = axis_rot[i] * sinf(angle / 2.0f); // ËΩ¥ËßíÂÖ¨Âºè,Á¨¨‰∏âËΩ¥‰∏∫0(Ê≤°ÊúâzËΩ¥
 214              		.loc 1 77 9 is_stmt 1 view .LVU49
 215              		.loc 1 77 34 is_stmt 0 view .LVU50
 216 00ce 0AAB     		add	r3, sp, #40
 217 00d0 03EB8403 		add	r3, r3, r4, lsl #2
 218 00d4 53ED098A 		vldr.32	s17, [r3, #-36]
 219              		.loc 1 77 40 view .LVU51
 220 00d8 B0EE480A 		vmov.f32	s0, s16
 221 00dc FFF7FEFF 		bl	sinf
 222              	.LVL22:
 223              		.loc 1 77 16 discriminator 1 view .LVU52
 224 00e0 0134     		adds	r4, r4, #1
 225              	.LVL23:
 226              		.loc 1 77 16 discriminator 1 view .LVU53
 227 00e2 06EB8403 		add	r3, r6, r4, lsl #2
 228              		.loc 1 77 38 discriminator 1 view .LVU54
 229 00e6 68EE808A 		vmul.f32	s17, s17, s0
 230              		.loc 1 77 24 discriminator 1 view .LVU55
 231 00ea C3ED008A 		vstr.32	s17, [r3]
  76:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 2; ++i)
 232              		.loc 1 76 32 is_stmt 1 discriminator 3 view .LVU56
 233 00ee E4B2     		uxtb	r4, r4
 234              	.LVL24:
 235              	.L9:
  76:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 2; ++i)
 236              		.loc 1 76 27 discriminator 1 view .LVU57
 237 00f0 012C     		cmp	r4, #1
 238 00f2 ECD9     		bls	.L10
 239              	.LBE4:
  78:moudels/imu/ins_task.c **** }
 240              		.loc 1 78 1 is_stmt 0 view .LVU58
 241 00f4 0AB0     		add	sp, sp, #40
 242              		.cfi_def_cfa_offset 24
 243              		@ sp needed
 244 00f6 BDEC028B 		vldm	sp!, {d8}
 245              		.cfi_restore 80
 246              		.cfi_restore 81
 247              		.cfi_def_cfa_offset 16
 248 00fa 70BD     		pop	{r4, r5, r6, pc}
 249              	.LVL25:
 250              	.L13:
 251              		.loc 1 78 1 view .LVU59
 252              		.align	2
 253              	.L12:
 254 00fc 00000000 		.word	BMI088
 255 0100 6F12833A 		.word	981668463
 256 0104 0000C842 		.word	1120403456
 257              		.cfi_endproc
 258              	.LFE174:
 260              		.section	.text.IMU_Param_Correction,"ax",%progbits
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 7


 261              		.align	1
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 266              	IMU_Param_Correction:
 267              	.LVL26:
 268              	.LFB179:
  79:moudels/imu/ins_task.c **** 
  80:moudels/imu/ins_task.c **** attitude_t *INS_Init(void)
  81:moudels/imu/ins_task.c **** {
  82:moudels/imu/ins_task.c ****     if (!INS.init)
  83:moudels/imu/ins_task.c ****         INS.init = 1;
  84:moudels/imu/ins_task.c ****     else
  85:moudels/imu/ins_task.c ****         return (attitude_t *)&INS.Gyro;
  86:moudels/imu/ins_task.c **** 
  87:moudels/imu/ins_task.c ****     HAL_TIM_PWM_Start(&htim10, TIM_CHANNEL_1);
  88:moudels/imu/ins_task.c **** 
  89:moudels/imu/ins_task.c ****     while (BMI088Init(&hspi1, 1) != BMI088_NO_ERROR)
  90:moudels/imu/ins_task.c ****         ;
  91:moudels/imu/ins_task.c ****     IMU_Param.scale[X] = 1;
  92:moudels/imu/ins_task.c ****     IMU_Param.scale[Y] = 1;
  93:moudels/imu/ins_task.c ****     IMU_Param.scale[Z] = 1;
  94:moudels/imu/ins_task.c ****     IMU_Param.Yaw = 0;
  95:moudels/imu/ins_task.c ****     IMU_Param.Pitch = 0;
  96:moudels/imu/ins_task.c ****     IMU_Param.Roll = 0;
  97:moudels/imu/ins_task.c ****     IMU_Param.flag = 1;
  98:moudels/imu/ins_task.c **** 
  99:moudels/imu/ins_task.c ****     float init_quaternion[4] = {0};
 100:moudels/imu/ins_task.c ****     InitQuaternion(init_quaternion);
 101:moudels/imu/ins_task.c ****     IMU_QuaternionEKF_Init(init_quaternion, 10, 0.001, 1000000, 1, 0);
 102:moudels/imu/ins_task.c ****     // imu heat init
 103:moudels/imu/ins_task.c ****     PID_Init_Config_s config = {.MaxOut = 2000,
 104:moudels/imu/ins_task.c ****                                 .IntegralLimit = 300,
 105:moudels/imu/ins_task.c ****                                 .DeadBand = 0,
 106:moudels/imu/ins_task.c ****                                 .Kp = 1000,
 107:moudels/imu/ins_task.c ****                                 .Ki = 20,
 108:moudels/imu/ins_task.c ****                                 .Kd = 0,
 109:moudels/imu/ins_task.c ****                                 .Improve = 0x01}; // enable integratiaon limit
 110:moudels/imu/ins_task.c ****     PIDInit(&TempCtrl, &config);
 111:moudels/imu/ins_task.c **** 
 112:moudels/imu/ins_task.c ****     // noise of accel is relatively big and of high freq,thus lpf is used
 113:moudels/imu/ins_task.c ****     INS.AccelLPF = 0.0085;
 114:moudels/imu/ins_task.c ****     DWT_GetDeltaT(&INS_DWT_Count);
 115:moudels/imu/ins_task.c ****     return (attitude_t *)&INS.Gyro; // @todo: ËøôÈáåÂÅ∑Êáí‰∫Ü,‰∏çË¶ÅËøôÊ†∑ÂÅö! ‰øÆÊîπINT_tÁªìÊûÑ‰Ωì
 116:moudels/imu/ins_task.c **** }
 117:moudels/imu/ins_task.c **** 
 118:moudels/imu/ins_task.c **** /* Ê≥®ÊÑè‰ª•1kHzÁöÑÈ¢ëÁéáËøêË°åÊ≠§‰ªªÂä° */
 119:moudels/imu/ins_task.c **** void INS_Task(void)
 120:moudels/imu/ins_task.c **** {
 121:moudels/imu/ins_task.c ****     static uint32_t count = 0;
 122:moudels/imu/ins_task.c ****     const float gravity[3] = {0, 0, 9.81f};
 123:moudels/imu/ins_task.c **** 
 124:moudels/imu/ins_task.c ****     dt = DWT_GetDeltaT(&INS_DWT_Count);
 125:moudels/imu/ins_task.c ****     t += dt;
 126:moudels/imu/ins_task.c **** 
 127:moudels/imu/ins_task.c ****     // ins update
 128:moudels/imu/ins_task.c ****     if ((count % 1) == 0)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 8


 129:moudels/imu/ins_task.c ****     {
 130:moudels/imu/ins_task.c ****         BMI088_Read(&BMI088);
 131:moudels/imu/ins_task.c **** 
 132:moudels/imu/ins_task.c ****         INS.Accel[X] = BMI088.Accel[X];
 133:moudels/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 134:moudels/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 135:moudels/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 136:moudels/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
 137:moudels/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 138:moudels/imu/ins_task.c **** 
 139:moudels/imu/ins_task.c ****         // demo function,Áî®‰∫é‰øÆÊ≠£ÂÆâË£ÖËØØÂ∑Æ,ÂèØ‰ª•‰∏çÁÆ°,Êú¨demoÊöÇÊó∂Ê≤°Áî®
 140:moudels/imu/ins_task.c ****         IMU_Param_Correction(&IMU_Param, INS.Gyro, INS.Accel);
 141:moudels/imu/ins_task.c **** 
 142:moudels/imu/ins_task.c ****         // ËÆ°ÁÆóÈáçÂäõÂä†ÈÄüÂ∫¶Áü¢ÈáèÂíåbÁ≥ªÁöÑXY‰∏§ËΩ¥ÁöÑÂ§πËßí,ÂèØÁî®‰ΩúÂäüËÉΩÊâ©Â±ï,Êú¨demoÊöÇÊ
 143:moudels/imu/ins_task.c ****         // INS.atanxz = -atan2f(INS.Accel[X], INS.Accel[Z]) * 180 / PI;
 144:moudels/imu/ins_task.c ****         // INS.atanyz = atan2f(INS.Accel[Y], INS.Accel[Z]) * 180 / PI;
 145:moudels/imu/ins_task.c **** 
 146:moudels/imu/ins_task.c ****         // Ê†∏ÂøÉÂáΩÊï∞,EKFÊõ¥Êñ∞ÂõõÂÖÉÊï∞
 147:moudels/imu/ins_task.c ****         IMU_QuaternionEKF_Update(INS.Gyro[X], INS.Gyro[Y], INS.Gyro[Z], INS.Accel[X], INS.Accel[Y],
 148:moudels/imu/ins_task.c **** 
 149:moudels/imu/ins_task.c ****         memcpy(INS.q, QEKF_INS.q, sizeof(QEKF_INS.q));
 150:moudels/imu/ins_task.c **** 
 151:moudels/imu/ins_task.c ****         // Êú∫‰ΩìÁ≥ªÂü∫ÂêëÈáèËΩ¨Êç¢Âà∞ÂØºËà™ÂùêÊ†áÁ≥ªÔºåÊú¨‰æãÈÄâÂèñÊÉØÊÄßÁ≥ª‰∏∫ÂØºËà™Á≥ª
 152:moudels/imu/ins_task.c ****         BodyFrameToEarthFrame(xb, INS.xn, INS.q);
 153:moudels/imu/ins_task.c ****         BodyFrameToEarthFrame(yb, INS.yn, INS.q);
 154:moudels/imu/ins_task.c ****         BodyFrameToEarthFrame(zb, INS.zn, INS.q);
 155:moudels/imu/ins_task.c **** 
 156:moudels/imu/ins_task.c ****         // Â∞ÜÈáçÂäõ‰ªéÂØºËà™ÂùêÊ†áÁ≥ªnËΩ¨Êç¢Âà∞Êú∫‰ΩìÁ≥ªb,ÈöèÂêéÊ†πÊçÆÂä†ÈÄüÂ∫¶ËÆ°Êï∞ÊçÆËÆ°ÁÆóËøêÂ
 157:moudels/imu/ins_task.c ****         float gravity_b[3];
 158:moudels/imu/ins_task.c ****         EarthFrameToBodyFrame(gravity, gravity_b, INS.q);
 159:moudels/imu/ins_task.c ****         for (uint8_t i = 0; i < 3; ++i) // ÂêåÊ†∑Ëøá‰∏Ä‰∏™‰ΩéÈÄöÊª§Ê≥¢
 160:moudels/imu/ins_task.c ****         {
 161:moudels/imu/ins_task.c ****             INS.MotionAccel_b[i] = (INS.Accel[i] - gravity_b[i]) * dt / (INS.AccelLPF + dt) + INS.M
 162:moudels/imu/ins_task.c ****         }
 163:moudels/imu/ins_task.c ****         BodyFrameToEarthFrame(INS.MotionAccel_b, INS.MotionAccel_n, INS.q); // ËΩ¨Êç¢ÂõûÂØºËà™Á≥ªn
 164:moudels/imu/ins_task.c **** 
 165:moudels/imu/ins_task.c ****         INS.Yaw = QEKF_INS.Yaw;
 166:moudels/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 167:moudels/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
 168:moudels/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 169:moudels/imu/ins_task.c **** 
 170:moudels/imu/ins_task.c ****         // VisionSetAltitude(INS.Yaw, INS.Pitch, INS.Roll);
 171:moudels/imu/ins_task.c ****     }
 172:moudels/imu/ins_task.c **** 
 173:moudels/imu/ins_task.c ****     // temperature control
 174:moudels/imu/ins_task.c ****     if ((count % 2) == 0)
 175:moudels/imu/ins_task.c ****     {
 176:moudels/imu/ins_task.c ****         // 500hz
 177:moudels/imu/ins_task.c ****         IMU_Temperature_Ctrl();
 178:moudels/imu/ins_task.c ****     }
 179:moudels/imu/ins_task.c **** 
 180:moudels/imu/ins_task.c ****     if ((count++ % 1000) == 0)
 181:moudels/imu/ins_task.c ****     {
 182:moudels/imu/ins_task.c ****         // 1Hz ÂèØ‰ª•Âä†ÂÖ•monitorÂáΩÊï∞,Ê£ÄÊü•IMUÊòØÂê¶Ê≠£Â∏∏ËøêË°å/Á¶ªÁ∫ø
 183:moudels/imu/ins_task.c ****     }
 184:moudels/imu/ins_task.c **** }
 185:moudels/imu/ins_task.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 9


 186:moudels/imu/ins_task.c **** /**
 187:moudels/imu/ins_task.c ****  * @brief          Transform 3dvector from BodyFrame to EarthFrame
 188:moudels/imu/ins_task.c ****  * @param[1]       vector in BodyFrame
 189:moudels/imu/ins_task.c ****  * @param[2]       vector in EarthFrame
 190:moudels/imu/ins_task.c ****  * @param[3]       quaternion
 191:moudels/imu/ins_task.c ****  */
 192:moudels/imu/ins_task.c **** void BodyFrameToEarthFrame(const float *vecBF, float *vecEF, float *q)
 193:moudels/imu/ins_task.c **** {
 194:moudels/imu/ins_task.c ****     vecEF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecBF[0] +
 195:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 196:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 197:moudels/imu/ins_task.c **** 
 198:moudels/imu/ins_task.c ****     vecEF[1] = 2.0f * ((q[1] * q[2] + q[0] * q[3]) * vecBF[0] +
 199:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 200:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 201:moudels/imu/ins_task.c **** 
 202:moudels/imu/ins_task.c ****     vecEF[2] = 2.0f * ((q[1] * q[3] - q[0] * q[2]) * vecBF[0] +
 203:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 204:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 205:moudels/imu/ins_task.c **** }
 206:moudels/imu/ins_task.c **** 
 207:moudels/imu/ins_task.c **** /**
 208:moudels/imu/ins_task.c ****  * @brief          Transform 3dvector from EarthFrame to BodyFrame
 209:moudels/imu/ins_task.c ****  * @param[1]       vector in EarthFrame
 210:moudels/imu/ins_task.c ****  * @param[2]       vector in BodyFrame
 211:moudels/imu/ins_task.c ****  * @param[3]       quaternion
 212:moudels/imu/ins_task.c ****  */
 213:moudels/imu/ins_task.c **** void EarthFrameToBodyFrame(const float *vecEF, float *vecBF, float *q)
 214:moudels/imu/ins_task.c **** {
 215:moudels/imu/ins_task.c ****     vecBF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecEF[0] +
 216:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 217:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 218:moudels/imu/ins_task.c **** 
 219:moudels/imu/ins_task.c ****     vecBF[1] = 2.0f * ((q[1] * q[2] - q[0] * q[3]) * vecEF[0] +
 220:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 221:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 222:moudels/imu/ins_task.c **** 
 223:moudels/imu/ins_task.c ****     vecBF[2] = 2.0f * ((q[1] * q[3] + q[0] * q[2]) * vecEF[0] +
 224:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 225:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 226:moudels/imu/ins_task.c **** }
 227:moudels/imu/ins_task.c **** 
 228:moudels/imu/ins_task.c **** /**
 229:moudels/imu/ins_task.c ****  * @brief reserved.Áî®‰∫é‰øÆÊ≠£IMUÂÆâË£ÖËØØÂ∑Æ‰∏éÊ†áÂ∫¶Âõ†Êï∞ËØØÂ∑Æ,Âç≥ÈôÄËû∫‰ª™ËΩ¥Âíå‰∫ëÂè∞ËΩ¥ÁöÑÂ
 230:moudels/imu/ins_task.c ****  *
 231:moudels/imu/ins_task.c ****  *
 232:moudels/imu/ins_task.c ****  * @param param IMUÂèÇÊï∞
 233:moudels/imu/ins_task.c ****  * @param gyro  ËßíÈÄüÂ∫¶
 234:moudels/imu/ins_task.c ****  * @param accel Âä†ÈÄüÂ∫¶
 235:moudels/imu/ins_task.c ****  */
 236:moudels/imu/ins_task.c **** static void IMU_Param_Correction(IMU_Param_t *param, float gyro[3], float accel[3])
 237:moudels/imu/ins_task.c **** {
 269              		.loc 1 237 1 is_stmt 1 view -0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 24
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              		.loc 1 237 1 is_stmt 0 view .LVU61
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 10


 274 0000 70B5     		push	{r4, r5, r6, lr}
 275              		.cfi_def_cfa_offset 16
 276              		.cfi_offset 4, -16
 277              		.cfi_offset 5, -12
 278              		.cfi_offset 6, -8
 279              		.cfi_offset 14, -4
 280 0002 2DED068B 		vpush.64	{d8, d9, d10}
 281              		.cfi_def_cfa_offset 40
 282              		.cfi_offset 80, -40
 283              		.cfi_offset 81, -36
 284              		.cfi_offset 82, -32
 285              		.cfi_offset 83, -28
 286              		.cfi_offset 84, -24
 287              		.cfi_offset 85, -20
 288 0006 86B0     		sub	sp, sp, #24
 289              		.cfi_def_cfa_offset 64
 290 0008 0446     		mov	r4, r0
 291 000a 0D46     		mov	r5, r1
 292 000c 1646     		mov	r6, r2
 238:moudels/imu/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 293              		.loc 1 238 5 is_stmt 1 view .LVU62
 239:moudels/imu/ins_task.c ****     static float c_11, c_12, c_13, c_21, c_22, c_23, c_31, c_32, c_33;
 294              		.loc 1 239 5 view .LVU63
 240:moudels/imu/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 295              		.loc 1 240 5 view .LVU64
 241:moudels/imu/ins_task.c **** 
 242:moudels/imu/ins_task.c ****     if (fabsf(param->Yaw - lastYawOffset) > 0.001f ||
 296              		.loc 1 242 5 view .LVU65
 297              		.loc 1 242 20 is_stmt 0 view .LVU66
 298 000e 90ED040A 		vldr.32	s0, [r0, #16]
 299              		.loc 1 242 26 view .LVU67
 300 0012 9F4B     		ldr	r3, .L22
 301 0014 D3ED007A 		vldr.32	s15, [r3]
 302 0018 70EE677A 		vsub.f32	s15, s0, s15
 303              		.loc 1 242 9 view .LVU68
 304 001c F0EEE77A 		vabs.f32	s15, s15
 305              		.loc 1 242 8 view .LVU69
 306 0020 9FED9C7A 		vldr.32	s14, .L22+4
 307 0024 F4EEC77A 		vcmpe.f32	s15, s14
 308 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 309 002c 22DC     		bgt	.L15
 243:moudels/imu/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 310              		.loc 1 243 20 view .LVU70
 311 002e D0ED057A 		vldr.32	s15, [r0, #20]
 312              		.loc 1 243 28 view .LVU71
 313 0032 994B     		ldr	r3, .L22+8
 314 0034 93ED007A 		vldr.32	s14, [r3]
 315 0038 77EEC77A 		vsub.f32	s15, s15, s14
 316              		.loc 1 243 9 view .LVU72
 317 003c F0EEE77A 		vabs.f32	s15, s15
 242:moudels/imu/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 318              		.loc 1 242 52 discriminator 1 view .LVU73
 319 0040 9FED947A 		vldr.32	s14, .L22+4
 320 0044 F4EEC77A 		vcmpe.f32	s15, s14
 321 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 322 004c 12DC     		bgt	.L15
 244:moudels/imu/ins_task.c ****         fabsf(param->Roll - lastRollOffset) > 0.001f || param->flag)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 11


 323              		.loc 1 244 20 view .LVU74
 324 004e D0ED067A 		vldr.32	s15, [r0, #24]
 325              		.loc 1 244 27 view .LVU75
 326 0052 924B     		ldr	r3, .L22+12
 327 0054 93ED007A 		vldr.32	s14, [r3]
 328 0058 77EEC77A 		vsub.f32	s15, s15, s14
 329              		.loc 1 244 9 view .LVU76
 330 005c F0EEE77A 		vabs.f32	s15, s15
 243:moudels/imu/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 331              		.loc 1 243 56 view .LVU77
 332 0060 9FED8C7A 		vldr.32	s14, .L22+4
 333 0064 F4EEC77A 		vcmpe.f32	s15, s14
 334 0068 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 335 006c 02DC     		bgt	.L15
 336              		.loc 1 244 62 view .LVU78
 337 006e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 338              		.loc 1 244 54 view .LVU79
 339 0070 002B     		cmp	r3, #0
 340 0072 6ED0     		beq	.L16
 341              	.L15:
 245:moudels/imu/ins_task.c ****     {
 246:moudels/imu/ins_task.c ****         cosYaw = arm_cos_f32(param->Yaw / 57.295779513f);
 342              		.loc 1 246 9 is_stmt 1 view .LVU80
 343              		.loc 1 246 18 is_stmt 0 view .LVU81
 344 0074 9FED8AAA 		vldr.32	s20, .L22+16
 345 0078 80EE0A0A 		vdiv.f32	s0, s0, s20
 346 007c FFF7FEFF 		bl	arm_cos_f32
 347              	.LVL27:
 348              		.loc 1 246 18 view .LVU82
 349 0080 B0EE409A 		vmov.f32	s18, s0
 350              	.LVL28:
 247:moudels/imu/ins_task.c ****         cosPitch = arm_cos_f32(param->Pitch / 57.295779513f);
 351              		.loc 1 247 9 is_stmt 1 view .LVU83
 352              		.loc 1 247 37 is_stmt 0 view .LVU84
 353 0084 94ED050A 		vldr.32	s0, [r4, #20]
 354              	.LVL29:
 355              		.loc 1 247 20 view .LVU85
 356 0088 80EE0A0A 		vdiv.f32	s0, s0, s20
 357 008c FFF7FEFF 		bl	arm_cos_f32
 358              	.LVL30:
 359 0090 F0EE408A 		vmov.f32	s17, s0
 360              	.LVL31:
 248:moudels/imu/ins_task.c ****         cosRoll = arm_cos_f32(param->Roll / 57.295779513f);
 361              		.loc 1 248 9 is_stmt 1 view .LVU86
 362              		.loc 1 248 36 is_stmt 0 view .LVU87
 363 0094 94ED060A 		vldr.32	s0, [r4, #24]
 364              	.LVL32:
 365              		.loc 1 248 19 view .LVU88
 366 0098 80EE0A0A 		vdiv.f32	s0, s0, s20
 367 009c FFF7FEFF 		bl	arm_cos_f32
 368              	.LVL33:
 369 00a0 F0EE40AA 		vmov.f32	s21, s0
 370              	.LVL34:
 249:moudels/imu/ins_task.c ****         sinYaw = arm_sin_f32(param->Yaw / 57.295779513f);
 371              		.loc 1 249 9 is_stmt 1 view .LVU89
 372              		.loc 1 249 35 is_stmt 0 view .LVU90
 373 00a4 94ED040A 		vldr.32	s0, [r4, #16]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 12


 374              	.LVL35:
 375              		.loc 1 249 18 view .LVU91
 376 00a8 80EE0A0A 		vdiv.f32	s0, s0, s20
 377 00ac FFF7FEFF 		bl	arm_sin_f32
 378              	.LVL36:
 379 00b0 B0EE408A 		vmov.f32	s16, s0
 380              	.LVL37:
 250:moudels/imu/ins_task.c ****         sinPitch = arm_sin_f32(param->Pitch / 57.295779513f);
 381              		.loc 1 250 9 is_stmt 1 view .LVU92
 382              		.loc 1 250 37 is_stmt 0 view .LVU93
 383 00b4 94ED050A 		vldr.32	s0, [r4, #20]
 384              	.LVL38:
 385              		.loc 1 250 20 view .LVU94
 386 00b8 80EE0A0A 		vdiv.f32	s0, s0, s20
 387 00bc FFF7FEFF 		bl	arm_sin_f32
 388              	.LVL39:
 389 00c0 F0EE409A 		vmov.f32	s19, s0
 390              	.LVL40:
 251:moudels/imu/ins_task.c ****         sinRoll = arm_sin_f32(param->Roll / 57.295779513f);
 391              		.loc 1 251 9 is_stmt 1 view .LVU95
 392              		.loc 1 251 36 is_stmt 0 view .LVU96
 393 00c4 94ED060A 		vldr.32	s0, [r4, #24]
 394              	.LVL41:
 395              		.loc 1 251 19 view .LVU97
 396 00c8 80EE0A0A 		vdiv.f32	s0, s0, s20
 397 00cc FFF7FEFF 		bl	arm_sin_f32
 398              	.LVL42:
 252:moudels/imu/ins_task.c **** 
 253:moudels/imu/ins_task.c ****         // 1.yaw(alpha) 2.pitch(beta) 3.roll(gamma)
 254:moudels/imu/ins_task.c ****         c_11 = cosYaw * cosRoll + sinYaw * sinPitch * sinRoll;
 399              		.loc 1 254 9 is_stmt 1 view .LVU98
 400              		.loc 1 254 23 is_stmt 0 view .LVU99
 401 00d0 69EE2A6A 		vmul.f32	s13, s18, s21
 402              		.loc 1 254 42 view .LVU100
 403 00d4 28EE297A 		vmul.f32	s14, s16, s19
 404              		.loc 1 254 53 view .LVU101
 405 00d8 27EE007A 		vmul.f32	s14, s14, s0
 406              		.loc 1 254 33 view .LVU102
 407 00dc 36EE877A 		vadd.f32	s14, s13, s14
 408              		.loc 1 254 14 view .LVU103
 409 00e0 704B     		ldr	r3, .L22+20
 410 00e2 83ED007A 		vstr.32	s14, [r3]
 255:moudels/imu/ins_task.c ****         c_12 = cosPitch * sinYaw;
 411              		.loc 1 255 9 is_stmt 1 view .LVU104
 412              		.loc 1 255 25 is_stmt 0 view .LVU105
 413 00e6 28EE887A 		vmul.f32	s14, s17, s16
 414              		.loc 1 255 14 view .LVU106
 415 00ea 6F4B     		ldr	r3, .L22+24
 416 00ec 83ED007A 		vstr.32	s14, [r3]
 256:moudels/imu/ins_task.c ****         c_13 = cosYaw * sinRoll - cosRoll * sinYaw * sinPitch;
 417              		.loc 1 256 9 is_stmt 1 view .LVU107
 418              		.loc 1 256 23 is_stmt 0 view .LVU108
 419 00f0 29EE007A 		vmul.f32	s14, s18, s0
 420              		.loc 1 256 43 view .LVU109
 421 00f4 2AEE886A 		vmul.f32	s12, s21, s16
 422              		.loc 1 256 52 view .LVU110
 423 00f8 66EE295A 		vmul.f32	s11, s12, s19
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 13


 424              		.loc 1 256 33 view .LVU111
 425 00fc 37EE657A 		vsub.f32	s14, s14, s11
 426              		.loc 1 256 14 view .LVU112
 427 0100 6A4B     		ldr	r3, .L22+28
 428 0102 83ED007A 		vstr.32	s14, [r3]
 257:moudels/imu/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 429              		.loc 1 257 9 is_stmt 1 view .LVU113
 430              		.loc 1 257 23 is_stmt 0 view .LVU114
 431 0106 29EE297A 		vmul.f32	s14, s18, s19
 432              		.loc 1 257 34 view .LVU115
 433 010a 27EE007A 		vmul.f32	s14, s14, s0
 434              		.loc 1 257 44 view .LVU116
 435 010e 37EE467A 		vsub.f32	s14, s14, s12
 436              		.loc 1 257 14 view .LVU117
 437 0112 674B     		ldr	r3, .L22+32
 438 0114 83ED007A 		vstr.32	s14, [r3]
 258:moudels/imu/ins_task.c ****         c_22 = cosYaw * cosPitch;
 439              		.loc 1 258 9 is_stmt 1 view .LVU118
 440              		.loc 1 258 23 is_stmt 0 view .LVU119
 441 0118 29EE289A 		vmul.f32	s18, s18, s17
 442              	.LVL43:
 443              		.loc 1 258 14 view .LVU120
 444 011c 654B     		ldr	r3, .L22+36
 445 011e 83ED009A 		vstr.32	s18, [r3]
 259:moudels/imu/ins_task.c ****         c_23 = -sinYaw * sinRoll - cosYaw * cosRoll * sinPitch;
 446              		.loc 1 259 9 is_stmt 1 view .LVU121
 447              		.loc 1 259 24 is_stmt 0 view .LVU122
 448 0122 28EE408A 		vnmul.f32	s16, s16, s0
 449              	.LVL44:
 450              		.loc 1 259 53 view .LVU123
 451 0126 66EEA96A 		vmul.f32	s13, s13, s19
 452              		.loc 1 259 34 view .LVU124
 453 012a 38EE668A 		vsub.f32	s16, s16, s13
 454              		.loc 1 259 14 view .LVU125
 455 012e 624B     		ldr	r3, .L22+40
 456 0130 83ED008A 		vstr.32	s16, [r3]
 260:moudels/imu/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 457              		.loc 1 260 9 is_stmt 1 view .LVU126
 458              		.loc 1 260 26 is_stmt 0 view .LVU127
 459 0134 68EEC07A 		vnmul.f32	s15, s17, s0
 460              		.loc 1 260 14 view .LVU128
 461 0138 604B     		ldr	r3, .L22+44
 462 013a C3ED007A 		vstr.32	s15, [r3]
 261:moudels/imu/ins_task.c ****         c_32 = sinPitch;
 463              		.loc 1 261 9 is_stmt 1 view .LVU129
 464              		.loc 1 261 14 is_stmt 0 view .LVU130
 465 013e 604B     		ldr	r3, .L22+48
 466 0140 C3ED009A 		vstr.32	s19, [r3]
 262:moudels/imu/ins_task.c ****         c_33 = cosPitch * cosRoll;
 467              		.loc 1 262 9 is_stmt 1 view .LVU131
 468              		.loc 1 262 25 is_stmt 0 view .LVU132
 469 0144 68EEAA8A 		vmul.f32	s17, s17, s21
 470              	.LVL45:
 471              		.loc 1 262 14 view .LVU133
 472 0148 5E4B     		ldr	r3, .L22+52
 473 014a C3ED008A 		vstr.32	s17, [r3]
 263:moudels/imu/ins_task.c ****         param->flag = 0;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 14


 474              		.loc 1 263 9 is_stmt 1 view .LVU134
 475              		.loc 1 263 21 is_stmt 0 view .LVU135
 476 014e 0023     		movs	r3, #0
 477 0150 2370     		strb	r3, [r4]
 478              	.LVL46:
 479              	.L16:
 237:moudels/imu/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 480              		.loc 1 237 1 view .LVU136
 481 0152 0023     		movs	r3, #0
 482 0154 10E0     		b	.L17
 483              	.LVL47:
 484              	.L18:
 485              	.LBB5:
 264:moudels/imu/ins_task.c ****     }
 265:moudels/imu/ins_task.c ****     float gyro_temp[3];
 266:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 267:moudels/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 486              		.loc 1 267 9 is_stmt 1 view .LVU137
 487              		.loc 1 267 28 is_stmt 0 view .LVU138
 488 0156 05EB8302 		add	r2, r5, r3, lsl #2
 489 015a D2ED007A 		vldr.32	s15, [r2]
 490              		.loc 1 267 46 view .LVU139
 491 015e 04EB8302 		add	r2, r4, r3, lsl #2
 492 0162 92ED017A 		vldr.32	s14, [r2, #4]
 493              		.loc 1 267 32 view .LVU140
 494 0166 67EE877A 		vmul.f32	s15, s15, s14
 495              		.loc 1 267 22 view .LVU141
 496 016a 06AA     		add	r2, sp, #24
 497 016c 02EB8302 		add	r2, r2, r3, lsl #2
 498 0170 42ED037A 		vstr.32	s15, [r2, #-12]
 266:moudels/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 499              		.loc 1 266 32 is_stmt 1 discriminator 3 view .LVU142
 500 0174 0133     		adds	r3, r3, #1
 501              	.LVL48:
 266:moudels/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 502              		.loc 1 266 32 is_stmt 0 discriminator 3 view .LVU143
 503 0176 DBB2     		uxtb	r3, r3
 504              	.LVL49:
 505              	.L17:
 266:moudels/imu/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 506              		.loc 1 266 27 is_stmt 1 discriminator 1 view .LVU144
 507 0178 022B     		cmp	r3, #2
 508 017a ECD9     		bls	.L18
 509              	.LBE5:
 268:moudels/imu/ins_task.c **** 
 269:moudels/imu/ins_task.c ****     gyro[X] = c_11 * gyro_temp[X] +
 510              		.loc 1 269 5 view .LVU145
 511              		.loc 1 269 31 is_stmt 0 view .LVU146
 512 017c DDED037A 		vldr.32	s15, [sp, #12]
 513              		.loc 1 269 20 view .LVU147
 514 0180 484B     		ldr	r3, .L22+20
 515              	.LVL50:
 516              		.loc 1 269 20 view .LVU148
 517 0182 93ED006A 		vldr.32	s12, [r3]
 518 0186 27EE867A 		vmul.f32	s14, s15, s12
 270:moudels/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 519              		.loc 1 270 31 view .LVU149
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 15


 520 018a 9DED045A 		vldr.32	s10, [sp, #16]
 521              		.loc 1 270 20 view .LVU150
 522 018e 464B     		ldr	r3, .L22+24
 523 0190 D3ED002A 		vldr.32	s5, [r3]
 524 0194 65EE226A 		vmul.f32	s13, s10, s5
 269:moudels/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 525              		.loc 1 269 35 view .LVU151
 526 0198 37EE267A 		vadd.f32	s14, s14, s13
 271:moudels/imu/ins_task.c ****               c_13 * gyro_temp[Z];
 527              		.loc 1 271 31 view .LVU152
 528 019c DDED055A 		vldr.32	s11, [sp, #20]
 529              		.loc 1 271 20 view .LVU153
 530 01a0 424B     		ldr	r3, .L22+28
 531 01a2 93ED003A 		vldr.32	s6, [r3]
 532 01a6 65EE836A 		vmul.f32	s13, s11, s6
 270:moudels/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 533              		.loc 1 270 35 view .LVU154
 534 01aa 37EE267A 		vadd.f32	s14, s14, s13
 269:moudels/imu/ins_task.c ****               c_12 * gyro_temp[Y] +
 535              		.loc 1 269 13 view .LVU155
 536 01ae 85ED007A 		vstr.32	s14, [r5]
 272:moudels/imu/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 537              		.loc 1 272 5 is_stmt 1 view .LVU156
 538              		.loc 1 272 20 is_stmt 0 view .LVU157
 539 01b2 3F4B     		ldr	r3, .L22+32
 540 01b4 D3ED006A 		vldr.32	s13, [r3]
 541 01b8 27EEA67A 		vmul.f32	s14, s15, s13
 273:moudels/imu/ins_task.c ****               c_22 * gyro_temp[Y] +
 542              		.loc 1 273 20 view .LVU158
 543 01bc 3D4B     		ldr	r3, .L22+36
 544 01be D3ED003A 		vldr.32	s7, [r3]
 545 01c2 65EE234A 		vmul.f32	s9, s10, s7
 272:moudels/imu/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 546              		.loc 1 272 35 view .LVU159
 547 01c6 37EE247A 		vadd.f32	s14, s14, s9
 274:moudels/imu/ins_task.c ****               c_23 * gyro_temp[Z];
 548              		.loc 1 274 20 view .LVU160
 549 01ca 3B4B     		ldr	r3, .L22+40
 550 01cc 93ED004A 		vldr.32	s8, [r3]
 551 01d0 65EE844A 		vmul.f32	s9, s11, s8
 273:moudels/imu/ins_task.c ****               c_22 * gyro_temp[Y] +
 552              		.loc 1 273 35 view .LVU161
 553 01d4 37EE247A 		vadd.f32	s14, s14, s9
 272:moudels/imu/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 554              		.loc 1 272 13 view .LVU162
 555 01d8 85ED017A 		vstr.32	s14, [r5, #4]
 275:moudels/imu/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 556              		.loc 1 275 5 is_stmt 1 view .LVU163
 557              		.loc 1 275 20 is_stmt 0 view .LVU164
 558 01dc 374B     		ldr	r3, .L22+44
 559 01de 93ED007A 		vldr.32	s14, [r3]
 560 01e2 67EE877A 		vmul.f32	s15, s15, s14
 276:moudels/imu/ins_task.c ****               c_32 * gyro_temp[Y] +
 561              		.loc 1 276 20 view .LVU165
 562 01e6 364B     		ldr	r3, .L22+48
 563 01e8 D3ED004A 		vldr.32	s9, [r3]
 564 01ec 25EE245A 		vmul.f32	s10, s10, s9
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 16


 275:moudels/imu/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 565              		.loc 1 275 35 view .LVU166
 566 01f0 77EE857A 		vadd.f32	s15, s15, s10
 277:moudels/imu/ins_task.c ****               c_33 * gyro_temp[Z];
 567              		.loc 1 277 20 view .LVU167
 568 01f4 334B     		ldr	r3, .L22+52
 569 01f6 93ED005A 		vldr.32	s10, [r3]
 570 01fa 65EE855A 		vmul.f32	s11, s11, s10
 276:moudels/imu/ins_task.c ****               c_32 * gyro_temp[Y] +
 571              		.loc 1 276 35 view .LVU168
 572 01fe 77EEA57A 		vadd.f32	s15, s15, s11
 275:moudels/imu/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 573              		.loc 1 275 13 view .LVU169
 574 0202 C5ED027A 		vstr.32	s15, [r5, #8]
 278:moudels/imu/ins_task.c **** 
 279:moudels/imu/ins_task.c ****     float accel_temp[3];
 575              		.loc 1 279 5 is_stmt 1 view .LVU170
 280:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 576              		.loc 1 280 5 view .LVU171
 577              	.LBB6:
 578              		.loc 1 280 10 view .LVU172
 579              	.LVL51:
 580              		.loc 1 280 18 is_stmt 0 view .LVU173
 581 0206 0023     		movs	r3, #0
 582              		.loc 1 280 5 view .LVU174
 583 0208 09E0     		b	.L19
 584              	.LVL52:
 585              	.L20:
 281:moudels/imu/ins_task.c ****         accel_temp[i] = accel[i];
 586              		.loc 1 281 9 is_stmt 1 view .LVU175
 587              		.loc 1 281 30 is_stmt 0 view .LVU176
 588 020a 06EB8302 		add	r2, r6, r3, lsl #2
 589 020e 1168     		ldr	r1, [r2]	@ float
 590              		.loc 1 281 23 view .LVU177
 591 0210 06AA     		add	r2, sp, #24
 592 0212 02EB8302 		add	r2, r2, r3, lsl #2
 593 0216 42F8181C 		str	r1, [r2, #-24]	@ float
 280:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 594              		.loc 1 280 32 is_stmt 1 discriminator 3 view .LVU178
 595 021a 0133     		adds	r3, r3, #1
 596              	.LVL53:
 280:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 597              		.loc 1 280 32 is_stmt 0 discriminator 3 view .LVU179
 598 021c DBB2     		uxtb	r3, r3
 599              	.LVL54:
 600              	.L19:
 280:moudels/imu/ins_task.c ****     for (uint8_t i = 0; i < 3; ++i)
 601              		.loc 1 280 27 is_stmt 1 discriminator 1 view .LVU180
 602 021e 022B     		cmp	r3, #2
 603 0220 F3D9     		bls	.L20
 604              	.LBE6:
 282:moudels/imu/ins_task.c **** 
 283:moudels/imu/ins_task.c ****     accel[X] = c_11 * accel_temp[X] +
 605              		.loc 1 283 5 view .LVU181
 606              		.loc 1 283 33 is_stmt 0 view .LVU182
 607 0222 9DED002A 		vldr.32	s4, [sp]
 608              		.loc 1 283 21 view .LVU183
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 17


 609 0226 26EE026A 		vmul.f32	s12, s12, s4
 284:moudels/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 610              		.loc 1 284 33 view .LVU184
 611 022a DDED015A 		vldr.32	s11, [sp, #4]
 612              		.loc 1 284 21 view .LVU185
 613 022e 62EEA52A 		vmul.f32	s5, s5, s11
 283:moudels/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 614              		.loc 1 283 37 view .LVU186
 615 0232 36EE226A 		vadd.f32	s12, s12, s5
 285:moudels/imu/ins_task.c ****                c_13 * accel_temp[Z];
 616              		.loc 1 285 33 view .LVU187
 617 0236 DDED027A 		vldr.32	s15, [sp, #8]
 618              		.loc 1 285 21 view .LVU188
 619 023a 23EE273A 		vmul.f32	s6, s6, s15
 284:moudels/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 620              		.loc 1 284 37 view .LVU189
 621 023e 36EE036A 		vadd.f32	s12, s12, s6
 283:moudels/imu/ins_task.c ****                c_12 * accel_temp[Y] +
 622              		.loc 1 283 14 view .LVU190
 623 0242 86ED006A 		vstr.32	s12, [r6]
 286:moudels/imu/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 624              		.loc 1 286 5 is_stmt 1 view .LVU191
 625              		.loc 1 286 21 is_stmt 0 view .LVU192
 626 0246 66EE826A 		vmul.f32	s13, s13, s4
 287:moudels/imu/ins_task.c ****                c_22 * accel_temp[Y] +
 627              		.loc 1 287 21 view .LVU193
 628 024a 63EEA53A 		vmul.f32	s7, s7, s11
 286:moudels/imu/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 629              		.loc 1 286 37 view .LVU194
 630 024e 76EEA36A 		vadd.f32	s13, s13, s7
 288:moudels/imu/ins_task.c ****                c_23 * accel_temp[Z];
 631              		.loc 1 288 21 view .LVU195
 632 0252 24EE274A 		vmul.f32	s8, s8, s15
 287:moudels/imu/ins_task.c ****                c_22 * accel_temp[Y] +
 633              		.loc 1 287 37 view .LVU196
 634 0256 76EE846A 		vadd.f32	s13, s13, s8
 286:moudels/imu/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 635              		.loc 1 286 14 view .LVU197
 636 025a C6ED016A 		vstr.32	s13, [r6, #4]
 289:moudels/imu/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 637              		.loc 1 289 5 is_stmt 1 view .LVU198
 638              		.loc 1 289 21 is_stmt 0 view .LVU199
 639 025e 27EE027A 		vmul.f32	s14, s14, s4
 290:moudels/imu/ins_task.c ****                c_32 * accel_temp[Y] +
 640              		.loc 1 290 21 view .LVU200
 641 0262 64EEA54A 		vmul.f32	s9, s9, s11
 289:moudels/imu/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 642              		.loc 1 289 37 view .LVU201
 643 0266 37EE247A 		vadd.f32	s14, s14, s9
 291:moudels/imu/ins_task.c ****                c_33 * accel_temp[Z];
 644              		.loc 1 291 21 view .LVU202
 645 026a 25EE275A 		vmul.f32	s10, s10, s15
 290:moudels/imu/ins_task.c ****                c_32 * accel_temp[Y] +
 646              		.loc 1 290 37 view .LVU203
 647 026e 37EE057A 		vadd.f32	s14, s14, s10
 289:moudels/imu/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 648              		.loc 1 289 14 view .LVU204
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 18


 649 0272 86ED027A 		vstr.32	s14, [r6, #8]
 292:moudels/imu/ins_task.c **** 
 293:moudels/imu/ins_task.c ****     lastYawOffset = param->Yaw;
 650              		.loc 1 293 5 is_stmt 1 view .LVU205
 651              		.loc 1 293 26 is_stmt 0 view .LVU206
 652 0276 2269     		ldr	r2, [r4, #16]	@ float
 653              		.loc 1 293 19 view .LVU207
 654 0278 054B     		ldr	r3, .L22
 655              	.LVL55:
 656              		.loc 1 293 19 view .LVU208
 657 027a 1A60     		str	r2, [r3]	@ float
 294:moudels/imu/ins_task.c ****     lastPitchOffset = param->Pitch;
 658              		.loc 1 294 5 is_stmt 1 view .LVU209
 659              		.loc 1 294 28 is_stmt 0 view .LVU210
 660 027c 6269     		ldr	r2, [r4, #20]	@ float
 661              		.loc 1 294 21 view .LVU211
 662 027e 064B     		ldr	r3, .L22+8
 663 0280 1A60     		str	r2, [r3]	@ float
 295:moudels/imu/ins_task.c ****     lastRollOffset = param->Roll;
 664              		.loc 1 295 5 is_stmt 1 view .LVU212
 665              		.loc 1 295 27 is_stmt 0 view .LVU213
 666 0282 A269     		ldr	r2, [r4, #24]	@ float
 667              		.loc 1 295 20 view .LVU214
 668 0284 054B     		ldr	r3, .L22+12
 669 0286 1A60     		str	r2, [r3]	@ float
 296:moudels/imu/ins_task.c **** }
 670              		.loc 1 296 1 view .LVU215
 671 0288 06B0     		add	sp, sp, #24
 672              		.cfi_def_cfa_offset 40
 673              		@ sp needed
 674 028a BDEC068B 		vldm	sp!, {d8-d10}
 675              		.cfi_restore 84
 676              		.cfi_restore 85
 677              		.cfi_restore 82
 678              		.cfi_restore 83
 679              		.cfi_restore 80
 680              		.cfi_restore 81
 681              		.cfi_def_cfa_offset 16
 682 028e 70BD     		pop	{r4, r5, r6, pc}
 683              	.LVL56:
 684              	.L23:
 685              		.loc 1 296 1 view .LVU216
 686              		.align	2
 687              	.L22:
 688 0290 00000000 		.word	lastYawOffset.11
 689 0294 6F12833A 		.word	981668463
 690 0298 00000000 		.word	lastPitchOffset.10
 691 029c 00000000 		.word	lastRollOffset.9
 692 02a0 E12E6542 		.word	1113927393
 693 02a4 00000000 		.word	c_11.8
 694 02a8 00000000 		.word	c_12.7
 695 02ac 00000000 		.word	c_13.6
 696 02b0 00000000 		.word	c_21.5
 697 02b4 00000000 		.word	c_22.4
 698 02b8 00000000 		.word	c_23.3
 699 02bc 00000000 		.word	c_31.2
 700 02c0 00000000 		.word	c_32.1
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 19


 701 02c4 00000000 		.word	c_33.0
 702              		.cfi_endproc
 703              	.LFE179:
 705              		.section	.text.IMU_Temperature_Ctrl,"ax",%progbits
 706              		.align	1
 707              		.syntax unified
 708              		.thumb
 709              		.thumb_func
 711              	IMU_Temperature_Ctrl:
 712              	.LFB173:
  48:moudels/imu/ins_task.c ****     PIDCalculate(&TempCtrl, BMI088.Temperature, RefTemp);
 713              		.loc 1 48 1 is_stmt 1 view -0
 714              		.cfi_startproc
 715              		@ args = 0, pretend = 0, frame = 0
 716              		@ frame_needed = 0, uses_anonymous_args = 0
 717 0000 10B5     		push	{r4, lr}
 718              		.cfi_def_cfa_offset 8
 719              		.cfi_offset 4, -8
 720              		.cfi_offset 14, -4
  49:moudels/imu/ins_task.c ****     IMUPWMSet(float_constrain(float_rounding(TempCtrl.Output), 0, UINT32_MAX));
 721              		.loc 1 49 5 view .LVU218
 722 0002 0F4C     		ldr	r4, .L26
 723 0004 DFED0F0A 		vldr.32	s1, .L26+4
 724 0008 0F4B     		ldr	r3, .L26+8
 725 000a 93ED070A 		vldr.32	s0, [r3, #28]
 726 000e 2046     		mov	r0, r4
 727 0010 FFF7FEFF 		bl	PIDCalculate
 728              	.LVL57:
  50:moudels/imu/ins_task.c **** }
 729              		.loc 1 50 5 view .LVU219
  50:moudels/imu/ins_task.c **** }
 730              		.loc 1 50 31 is_stmt 0 view .LVU220
 731 0014 94ED140A 		vldr.32	s0, [r4, #80]
 732 0018 FFF7FEFF 		bl	float_rounding
 733              	.LVL58:
 734 001c 00EE100A 		vmov	s0, r0	@ int
  50:moudels/imu/ins_task.c **** }
 735              		.loc 1 50 15 discriminator 1 view .LVU221
 736 0020 9FED0A1A 		vldr.32	s2, .L26+12
 737 0024 DFED0A0A 		vldr.32	s1, .L26+16
 738 0028 B8EEC00A 		vcvt.f32.s32	s0, s0
 739 002c FFF7FEFF 		bl	float_constrain
 740              	.LVL59:
  50:moudels/imu/ins_task.c **** }
 741              		.loc 1 50 5 discriminator 2 view .LVU222
 742 0030 BCEEC00A 		vcvt.u32.f32	s0, s0
 743 0034 10EE103A 		vmov	r3, s0	@ int
 744 0038 98B2     		uxth	r0, r3
 745 003a FFF7FEFF 		bl	IMUPWMSet
 746              	.LVL60:
  51:moudels/imu/ins_task.c **** 
 747              		.loc 1 51 1 view .LVU223
 748 003e 10BD     		pop	{r4, pc}
 749              	.L27:
 750              		.align	2
 751              	.L26:
 752 0040 00000000 		.word	TempCtrl
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 20


 753 0044 00002042 		.word	1109393408
 754 0048 00000000 		.word	BMI088
 755 004c 0000804F 		.word	1333788672
 756 0050 00000000 		.word	0
 757              		.cfi_endproc
 758              	.LFE173:
 760              		.section	.text.INS_Init,"ax",%progbits
 761              		.align	1
 762              		.global	INS_Init
 763              		.syntax unified
 764              		.thumb
 765              		.thumb_func
 767              	INS_Init:
 768              	.LFB175:
  81:moudels/imu/ins_task.c ****     if (!INS.init)
 769              		.loc 1 81 1 is_stmt 1 view -0
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 64
 772              		@ frame_needed = 0, uses_anonymous_args = 0
  82:moudels/imu/ins_task.c ****         INS.init = 1;
 773              		.loc 1 82 5 view .LVU225
  82:moudels/imu/ins_task.c ****         INS.init = 1;
 774              		.loc 1 82 13 is_stmt 0 view .LVU226
 775 0000 2E4B     		ldr	r3, .L36
 776 0002 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
  82:moudels/imu/ins_task.c ****         INS.init = 1;
 777              		.loc 1 82 8 view .LVU227
 778 0006 0BB1     		cbz	r3, .L35
 116:moudels/imu/ins_task.c **** 
 779              		.loc 1 116 1 view .LVU228
 780 0008 2D48     		ldr	r0, .L36+4
 781 000a 7047     		bx	lr
 782              	.L35:
  81:moudels/imu/ins_task.c ****     if (!INS.init)
 783              		.loc 1 81 1 view .LVU229
 784 000c 30B5     		push	{r4, r5, lr}
 785              		.cfi_def_cfa_offset 12
 786              		.cfi_offset 4, -12
 787              		.cfi_offset 5, -8
 788              		.cfi_offset 14, -4
 789 000e 2DED028B 		vpush.64	{d8}
 790              		.cfi_def_cfa_offset 20
 791              		.cfi_offset 80, -20
 792              		.cfi_offset 81, -16
 793 0012 91B0     		sub	sp, sp, #68
 794              		.cfi_def_cfa_offset 88
  83:moudels/imu/ins_task.c ****     else
 795              		.loc 1 83 9 is_stmt 1 view .LVU230
  83:moudels/imu/ins_task.c ****     else
 796              		.loc 1 83 18 is_stmt 0 view .LVU231
 797 0014 294B     		ldr	r3, .L36
 798 0016 0122     		movs	r2, #1
 799 0018 83F87820 		strb	r2, [r3, #120]
  87:moudels/imu/ins_task.c **** 
 800              		.loc 1 87 5 is_stmt 1 view .LVU232
 801 001c 0021     		movs	r1, #0
 802 001e 2948     		ldr	r0, .L36+8
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 21


 803 0020 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 804              	.LVL61:
  89:moudels/imu/ins_task.c ****         ;
 805              		.loc 1 89 5 view .LVU233
 806              	.L30:
  89:moudels/imu/ins_task.c ****         ;
 807              		.loc 1 89 34 discriminator 1 view .LVU234
  89:moudels/imu/ins_task.c ****         ;
 808              		.loc 1 89 12 is_stmt 0 discriminator 1 view .LVU235
 809 0024 0121     		movs	r1, #1
 810 0026 2848     		ldr	r0, .L36+12
 811 0028 FFF7FEFF 		bl	BMI088Init
 812              	.LVL62:
  89:moudels/imu/ins_task.c ****         ;
 813              		.loc 1 89 34 discriminator 1 view .LVU236
 814 002c 0028     		cmp	r0, #0
 815 002e F9D1     		bne	.L30
  91:moudels/imu/ins_task.c ****     IMU_Param.scale[Y] = 1;
 816              		.loc 1 91 5 is_stmt 1 view .LVU237
  91:moudels/imu/ins_task.c ****     IMU_Param.scale[Y] = 1;
 817              		.loc 1 91 24 is_stmt 0 view .LVU238
 818 0030 264B     		ldr	r3, .L36+16
 819 0032 B7EE008A 		vmov.f32	s16, #1.0e+0
 820 0036 83ED018A 		vstr.32	s16, [r3, #4]
  92:moudels/imu/ins_task.c ****     IMU_Param.scale[Z] = 1;
 821              		.loc 1 92 5 is_stmt 1 view .LVU239
  92:moudels/imu/ins_task.c ****     IMU_Param.scale[Z] = 1;
 822              		.loc 1 92 24 is_stmt 0 view .LVU240
 823 003a 83ED028A 		vstr.32	s16, [r3, #8]
  93:moudels/imu/ins_task.c ****     IMU_Param.Yaw = 0;
 824              		.loc 1 93 5 is_stmt 1 view .LVU241
  93:moudels/imu/ins_task.c ****     IMU_Param.Yaw = 0;
 825              		.loc 1 93 24 is_stmt 0 view .LVU242
 826 003e 83ED038A 		vstr.32	s16, [r3, #12]
  94:moudels/imu/ins_task.c ****     IMU_Param.Pitch = 0;
 827              		.loc 1 94 5 is_stmt 1 view .LVU243
  94:moudels/imu/ins_task.c ****     IMU_Param.Pitch = 0;
 828              		.loc 1 94 19 is_stmt 0 view .LVU244
 829 0042 DFED238A 		vldr.32	s17, .L36+20
 830 0046 C3ED048A 		vstr.32	s17, [r3, #16]
  95:moudels/imu/ins_task.c ****     IMU_Param.Roll = 0;
 831              		.loc 1 95 5 is_stmt 1 view .LVU245
  95:moudels/imu/ins_task.c ****     IMU_Param.Roll = 0;
 832              		.loc 1 95 21 is_stmt 0 view .LVU246
 833 004a C3ED058A 		vstr.32	s17, [r3, #20]
  96:moudels/imu/ins_task.c ****     IMU_Param.flag = 1;
 834              		.loc 1 96 5 is_stmt 1 view .LVU247
  96:moudels/imu/ins_task.c ****     IMU_Param.flag = 1;
 835              		.loc 1 96 20 is_stmt 0 view .LVU248
 836 004e C3ED068A 		vstr.32	s17, [r3, #24]
  97:moudels/imu/ins_task.c **** 
 837              		.loc 1 97 5 is_stmt 1 view .LVU249
  97:moudels/imu/ins_task.c **** 
 838              		.loc 1 97 20 is_stmt 0 view .LVU250
 839 0052 0125     		movs	r5, #1
 840 0054 1D70     		strb	r5, [r3]
  99:moudels/imu/ins_task.c ****     InitQuaternion(init_quaternion);
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 22


 841              		.loc 1 99 5 is_stmt 1 view .LVU251
  99:moudels/imu/ins_task.c ****     InitQuaternion(init_quaternion);
 842              		.loc 1 99 11 is_stmt 0 view .LVU252
 843 0056 0024     		movs	r4, #0
 844 0058 0C94     		str	r4, [sp, #48]
 845 005a 0D94     		str	r4, [sp, #52]
 846 005c 0E94     		str	r4, [sp, #56]
 847 005e 0F94     		str	r4, [sp, #60]
 100:moudels/imu/ins_task.c ****     IMU_QuaternionEKF_Init(init_quaternion, 10, 0.001, 1000000, 1, 0);
 848              		.loc 1 100 5 is_stmt 1 view .LVU253
 849 0060 0CA8     		add	r0, sp, #48
 850 0062 FFF7FEFF 		bl	InitQuaternion
 851              	.LVL63:
 101:moudels/imu/ins_task.c ****     // imu heat init
 852              		.loc 1 101 5 view .LVU254
 853 0066 B0EE682A 		vmov.f32	s4, s17
 854 006a F0EE481A 		vmov.f32	s3, s16
 855 006e 9FED191A 		vldr.32	s2, .L36+24
 856 0072 DFED190A 		vldr.32	s1, .L36+28
 857 0076 B2EE040A 		vmov.f32	s0, #1.0e+1
 858 007a 0CA8     		add	r0, sp, #48
 859 007c FFF7FEFF 		bl	IMU_QuaternionEKF_Init
 860              	.LVL64:
 103:moudels/imu/ins_task.c ****                                 .IntegralLimit = 300,
 861              		.loc 1 103 5 view .LVU255
 103:moudels/imu/ins_task.c ****                                 .IntegralLimit = 300,
 862              		.loc 1 103 23 is_stmt 0 view .LVU256
 863 0080 2C22     		movs	r2, #44
 864 0082 2146     		mov	r1, r4
 865 0084 01A8     		add	r0, sp, #4
 866 0086 FFF7FEFF 		bl	memset
 867              	.LVL65:
 868 008a 144B     		ldr	r3, .L36+32
 869 008c 0193     		str	r3, [sp, #4]	@ float
 870 008e 144B     		ldr	r3, .L36+36
 871 0090 0293     		str	r3, [sp, #8]	@ float
 872 0092 144B     		ldr	r3, .L36+40
 873 0094 0493     		str	r3, [sp, #16]	@ float
 874 0096 8DF81850 		strb	r5, [sp, #24]
 875 009a 134B     		ldr	r3, .L36+44
 876 009c 0793     		str	r3, [sp, #28]	@ float
 110:moudels/imu/ins_task.c **** 
 877              		.loc 1 110 5 is_stmt 1 view .LVU257
 878 009e 01A9     		add	r1, sp, #4
 879 00a0 1248     		ldr	r0, .L36+48
 880 00a2 FFF7FEFF 		bl	PIDInit
 881              	.LVL66:
 113:moudels/imu/ins_task.c ****     DWT_GetDeltaT(&INS_DWT_Count);
 882              		.loc 1 113 5 view .LVU258
 113:moudels/imu/ins_task.c ****     DWT_GetDeltaT(&INS_DWT_Count);
 883              		.loc 1 113 18 is_stmt 0 view .LVU259
 884 00a6 054B     		ldr	r3, .L36
 885 00a8 114A     		ldr	r2, .L36+52
 886 00aa 9A62     		str	r2, [r3, #40]	@ float
 114:moudels/imu/ins_task.c ****     return (attitude_t *)&INS.Gyro; // @todo: ËøôÈáåÂÅ∑Êáí‰∫Ü,‰∏çË¶ÅËøôÊ†∑ÂÅö! ‰øÆÊîπINT_tÁªìÊûÑ‰Ωì
 887              		.loc 1 114 5 is_stmt 1 view .LVU260
 888 00ac 1148     		ldr	r0, .L36+56
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 23


 889 00ae FFF7FEFF 		bl	DWT_GetDeltaT
 890              	.LVL67:
 115:moudels/imu/ins_task.c **** }
 891              		.loc 1 115 5 view .LVU261
 116:moudels/imu/ins_task.c **** 
 892              		.loc 1 116 1 is_stmt 0 view .LVU262
 893 00b2 0348     		ldr	r0, .L36+4
 894 00b4 11B0     		add	sp, sp, #68
 895              		.cfi_def_cfa_offset 20
 896              		@ sp needed
 897 00b6 BDEC028B 		vldm	sp!, {d8}
 898              		.cfi_restore 80
 899              		.cfi_restore 81
 900              		.cfi_def_cfa_offset 12
 901 00ba 30BD     		pop	{r4, r5, pc}
 902              	.L37:
 903              		.align	2
 904              	.L36:
 905 00bc 00000000 		.word	INS
 906 00c0 50000000 		.word	INS+80
 907 00c4 00000000 		.word	htim10
 908 00c8 00000000 		.word	hspi1
 909 00cc 00000000 		.word	IMU_Param
 910 00d0 00000000 		.word	0
 911 00d4 00247449 		.word	1232348160
 912 00d8 6F12833A 		.word	981668463
 913 00dc 00007A44 		.word	1148846080
 914 00e0 0000A041 		.word	1101004800
 915 00e4 0000FA44 		.word	1157234688
 916 00e8 00009643 		.word	1133903872
 917 00ec 00000000 		.word	TempCtrl
 918 00f0 96430B3C 		.word	1007371158
 919 00f4 00000000 		.word	INS_DWT_Count
 920              		.cfi_endproc
 921              	.LFE175:
 923              		.section	.text.BodyFrameToEarthFrame,"ax",%progbits
 924              		.align	1
 925              		.global	BodyFrameToEarthFrame
 926              		.syntax unified
 927              		.thumb
 928              		.thumb_func
 930              	BodyFrameToEarthFrame:
 931              	.LVL68:
 932              	.LFB177:
 193:moudels/imu/ins_task.c ****     vecEF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecBF[0] +
 933              		.loc 1 193 1 is_stmt 1 view -0
 934              		.cfi_startproc
 935              		@ args = 0, pretend = 0, frame = 0
 936              		@ frame_needed = 0, uses_anonymous_args = 0
 937              		@ link register save eliminated.
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 938              		.loc 1 194 5 view .LVU264
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 939              		.loc 1 194 33 is_stmt 0 view .LVU265
 940 0000 92ED026A 		vldr.32	s12, [r2, #8]
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 941              		.loc 1 194 37 view .LVU266
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 24


 942 0004 66EE067A 		vmul.f32	s15, s12, s12
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 943              		.loc 1 194 30 view .LVU267
 944 0008 F6EE006A 		vmov.f32	s13, #5.0e-1
 945 000c 76EEE77A 		vsub.f32	s15, s13, s15
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 946              		.loc 1 194 47 view .LVU268
 947 0010 92ED037A 		vldr.32	s14, [r2, #12]
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 948              		.loc 1 194 51 view .LVU269
 949 0014 67EE075A 		vmul.f32	s11, s14, s14
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 950              		.loc 1 194 44 view .LVU270
 951 0018 77EEE57A 		vsub.f32	s15, s15, s11
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 952              		.loc 1 194 66 view .LVU271
 953 001c D0ED005A 		vldr.32	s11, [r0]
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 954              		.loc 1 194 59 view .LVU272
 955 0020 67EEA57A 		vmul.f32	s15, s15, s11
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 956              		.loc 1 195 26 view .LVU273
 957 0024 D2ED014A 		vldr.32	s9, [r2, #4]
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 958              		.loc 1 195 30 view .LVU274
 959 0028 66EE245A 		vmul.f32	s11, s12, s9
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 960              		.loc 1 195 40 view .LVU275
 961 002c 92ED005A 		vldr.32	s10, [r2]
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 962              		.loc 1 195 44 view .LVU276
 963 0030 27EE054A 		vmul.f32	s8, s14, s10
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 964              		.loc 1 195 37 view .LVU277
 965 0034 75EEC45A 		vsub.f32	s11, s11, s8
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 966              		.loc 1 195 59 view .LVU278
 967 0038 90ED014A 		vldr.32	s8, [r0, #4]
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 968              		.loc 1 195 52 view .LVU279
 969 003c 65EE845A 		vmul.f32	s11, s11, s8
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 970              		.loc 1 194 70 view .LVU280
 971 0040 77EEA57A 		vadd.f32	s15, s15, s11
 196:moudels/imu/ins_task.c **** 
 972              		.loc 1 196 30 view .LVU281
 973 0044 27EE247A 		vmul.f32	s14, s14, s9
 196:moudels/imu/ins_task.c **** 
 974              		.loc 1 196 44 view .LVU282
 975 0048 26EE056A 		vmul.f32	s12, s12, s10
 196:moudels/imu/ins_task.c **** 
 976              		.loc 1 196 37 view .LVU283
 977 004c 37EE067A 		vadd.f32	s14, s14, s12
 196:moudels/imu/ins_task.c **** 
 978              		.loc 1 196 59 view .LVU284
 979 0050 90ED026A 		vldr.32	s12, [r0, #8]
 196:moudels/imu/ins_task.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 25


 980              		.loc 1 196 52 view .LVU285
 981 0054 27EE067A 		vmul.f32	s14, s14, s12
 195:moudels/imu/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 982              		.loc 1 195 63 view .LVU286
 983 0058 77EE877A 		vadd.f32	s15, s15, s14
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 984              		.loc 1 194 21 view .LVU287
 985 005c 77EEA77A 		vadd.f32	s15, s15, s15
 194:moudels/imu/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 986              		.loc 1 194 14 view .LVU288
 987 0060 C1ED007A 		vstr.32	s15, [r1]
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 988              		.loc 1 198 5 is_stmt 1 view .LVU289
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 989              		.loc 1 198 26 is_stmt 0 view .LVU290
 990 0064 D2ED015A 		vldr.32	s11, [r2, #4]
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 991              		.loc 1 198 33 view .LVU291
 992 0068 92ED027A 		vldr.32	s14, [r2, #8]
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 993              		.loc 1 198 30 view .LVU292
 994 006c 65EE877A 		vmul.f32	s15, s11, s14
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 995              		.loc 1 198 40 view .LVU293
 996 0070 D2ED004A 		vldr.32	s9, [r2]
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 997              		.loc 1 198 47 view .LVU294
 998 0074 92ED035A 		vldr.32	s10, [r2, #12]
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 999              		.loc 1 198 44 view .LVU295
 1000 0078 24EE856A 		vmul.f32	s12, s9, s10
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1001              		.loc 1 198 37 view .LVU296
 1002 007c 77EE867A 		vadd.f32	s15, s15, s12
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1003              		.loc 1 198 59 view .LVU297
 1004 0080 90ED006A 		vldr.32	s12, [r0]
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1005              		.loc 1 198 52 view .LVU298
 1006 0084 67EE867A 		vmul.f32	s15, s15, s12
 199:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1007              		.loc 1 199 37 view .LVU299
 1008 0088 25EEA56A 		vmul.f32	s12, s11, s11
 199:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1009              		.loc 1 199 30 view .LVU300
 1010 008c 36EEC66A 		vsub.f32	s12, s13, s12
 199:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1011              		.loc 1 199 51 view .LVU301
 1012 0090 25EE054A 		vmul.f32	s8, s10, s10
 199:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1013              		.loc 1 199 44 view .LVU302
 1014 0094 36EE446A 		vsub.f32	s12, s12, s8
 199:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1015              		.loc 1 199 66 view .LVU303
 1016 0098 90ED014A 		vldr.32	s8, [r0, #4]
 199:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1017              		.loc 1 199 59 view .LVU304
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 26


 1018 009c 26EE046A 		vmul.f32	s12, s12, s8
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1019              		.loc 1 198 63 view .LVU305
 1020 00a0 77EE867A 		vadd.f32	s15, s15, s12
 200:moudels/imu/ins_task.c **** 
 1021              		.loc 1 200 30 view .LVU306
 1022 00a4 27EE057A 		vmul.f32	s14, s14, s10
 200:moudels/imu/ins_task.c **** 
 1023              		.loc 1 200 44 view .LVU307
 1024 00a8 65EEA45A 		vmul.f32	s11, s11, s9
 200:moudels/imu/ins_task.c **** 
 1025              		.loc 1 200 37 view .LVU308
 1026 00ac 37EE657A 		vsub.f32	s14, s14, s11
 200:moudels/imu/ins_task.c **** 
 1027              		.loc 1 200 59 view .LVU309
 1028 00b0 90ED026A 		vldr.32	s12, [r0, #8]
 200:moudels/imu/ins_task.c **** 
 1029              		.loc 1 200 52 view .LVU310
 1030 00b4 27EE067A 		vmul.f32	s14, s14, s12
 199:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1031              		.loc 1 199 70 view .LVU311
 1032 00b8 77EE877A 		vadd.f32	s15, s15, s14
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1033              		.loc 1 198 21 view .LVU312
 1034 00bc 77EEA77A 		vadd.f32	s15, s15, s15
 198:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1035              		.loc 1 198 14 view .LVU313
 1036 00c0 C1ED017A 		vstr.32	s15, [r1, #4]
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1037              		.loc 1 202 5 is_stmt 1 view .LVU314
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1038              		.loc 1 202 26 is_stmt 0 view .LVU315
 1039 00c4 D2ED015A 		vldr.32	s11, [r2, #4]
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1040              		.loc 1 202 33 view .LVU316
 1041 00c8 92ED037A 		vldr.32	s14, [r2, #12]
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1042              		.loc 1 202 30 view .LVU317
 1043 00cc 65EE877A 		vmul.f32	s15, s11, s14
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1044              		.loc 1 202 40 view .LVU318
 1045 00d0 92ED005A 		vldr.32	s10, [r2]
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1046              		.loc 1 202 47 view .LVU319
 1047 00d4 92ED026A 		vldr.32	s12, [r2, #8]
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1048              		.loc 1 202 44 view .LVU320
 1049 00d8 65EE064A 		vmul.f32	s9, s10, s12
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1050              		.loc 1 202 37 view .LVU321
 1051 00dc 77EEE47A 		vsub.f32	s15, s15, s9
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1052              		.loc 1 202 59 view .LVU322
 1053 00e0 D0ED004A 		vldr.32	s9, [r0]
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1054              		.loc 1 202 52 view .LVU323
 1055 00e4 67EEA47A 		vmul.f32	s15, s15, s9
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 27


 203:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1056              		.loc 1 203 30 view .LVU324
 1057 00e8 27EE067A 		vmul.f32	s14, s14, s12
 203:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1058              		.loc 1 203 44 view .LVU325
 1059 00ec 25EE855A 		vmul.f32	s10, s11, s10
 203:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1060              		.loc 1 203 37 view .LVU326
 1061 00f0 37EE057A 		vadd.f32	s14, s14, s10
 203:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1062              		.loc 1 203 59 view .LVU327
 1063 00f4 90ED015A 		vldr.32	s10, [r0, #4]
 203:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1064              		.loc 1 203 52 view .LVU328
 1065 00f8 27EE057A 		vmul.f32	s14, s14, s10
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1066              		.loc 1 202 63 view .LVU329
 1067 00fc 77EE877A 		vadd.f32	s15, s15, s14
 204:moudels/imu/ins_task.c **** }
 1068              		.loc 1 204 37 view .LVU330
 1069 0100 65EEA55A 		vmul.f32	s11, s11, s11
 204:moudels/imu/ins_task.c **** }
 1070              		.loc 1 204 30 view .LVU331
 1071 0104 76EEE56A 		vsub.f32	s13, s13, s11
 204:moudels/imu/ins_task.c **** }
 1072              		.loc 1 204 51 view .LVU332
 1073 0108 26EE066A 		vmul.f32	s12, s12, s12
 204:moudels/imu/ins_task.c **** }
 1074              		.loc 1 204 44 view .LVU333
 1075 010c 76EEC66A 		vsub.f32	s13, s13, s12
 204:moudels/imu/ins_task.c **** }
 1076              		.loc 1 204 66 view .LVU334
 1077 0110 90ED027A 		vldr.32	s14, [r0, #8]
 204:moudels/imu/ins_task.c **** }
 1078              		.loc 1 204 59 view .LVU335
 1079 0114 66EE876A 		vmul.f32	s13, s13, s14
 203:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1080              		.loc 1 203 63 view .LVU336
 1081 0118 77EEA67A 		vadd.f32	s15, s15, s13
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1082              		.loc 1 202 21 view .LVU337
 1083 011c 77EEA77A 		vadd.f32	s15, s15, s15
 202:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1084              		.loc 1 202 14 view .LVU338
 1085 0120 C1ED027A 		vstr.32	s15, [r1, #8]
 205:moudels/imu/ins_task.c **** 
 1086              		.loc 1 205 1 view .LVU339
 1087 0124 7047     		bx	lr
 1088              		.cfi_endproc
 1089              	.LFE177:
 1091              		.section	.text.EarthFrameToBodyFrame,"ax",%progbits
 1092              		.align	1
 1093              		.global	EarthFrameToBodyFrame
 1094              		.syntax unified
 1095              		.thumb
 1096              		.thumb_func
 1098              	EarthFrameToBodyFrame:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 28


 1099              	.LVL69:
 1100              	.LFB178:
 214:moudels/imu/ins_task.c ****     vecBF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecEF[0] +
 1101              		.loc 1 214 1 is_stmt 1 view -0
 1102              		.cfi_startproc
 1103              		@ args = 0, pretend = 0, frame = 0
 1104              		@ frame_needed = 0, uses_anonymous_args = 0
 1105              		@ link register save eliminated.
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1106              		.loc 1 215 5 view .LVU341
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1107              		.loc 1 215 33 is_stmt 0 view .LVU342
 1108 0000 92ED026A 		vldr.32	s12, [r2, #8]
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1109              		.loc 1 215 37 view .LVU343
 1110 0004 66EE067A 		vmul.f32	s15, s12, s12
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1111              		.loc 1 215 30 view .LVU344
 1112 0008 F6EE006A 		vmov.f32	s13, #5.0e-1
 1113 000c 76EEE77A 		vsub.f32	s15, s13, s15
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1114              		.loc 1 215 47 view .LVU345
 1115 0010 92ED037A 		vldr.32	s14, [r2, #12]
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1116              		.loc 1 215 51 view .LVU346
 1117 0014 67EE075A 		vmul.f32	s11, s14, s14
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1118              		.loc 1 215 44 view .LVU347
 1119 0018 77EEE57A 		vsub.f32	s15, s15, s11
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1120              		.loc 1 215 66 view .LVU348
 1121 001c D0ED005A 		vldr.32	s11, [r0]
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1122              		.loc 1 215 59 view .LVU349
 1123 0020 67EEA57A 		vmul.f32	s15, s15, s11
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1124              		.loc 1 216 26 view .LVU350
 1125 0024 D2ED014A 		vldr.32	s9, [r2, #4]
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1126              		.loc 1 216 30 view .LVU351
 1127 0028 66EE245A 		vmul.f32	s11, s12, s9
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1128              		.loc 1 216 40 view .LVU352
 1129 002c 92ED005A 		vldr.32	s10, [r2]
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1130              		.loc 1 216 44 view .LVU353
 1131 0030 27EE054A 		vmul.f32	s8, s14, s10
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1132              		.loc 1 216 37 view .LVU354
 1133 0034 75EE845A 		vadd.f32	s11, s11, s8
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1134              		.loc 1 216 59 view .LVU355
 1135 0038 90ED014A 		vldr.32	s8, [r0, #4]
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1136              		.loc 1 216 52 view .LVU356
 1137 003c 65EE845A 		vmul.f32	s11, s11, s8
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 29


 1138              		.loc 1 215 70 view .LVU357
 1139 0040 77EEA57A 		vadd.f32	s15, s15, s11
 217:moudels/imu/ins_task.c **** 
 1140              		.loc 1 217 30 view .LVU358
 1141 0044 27EE247A 		vmul.f32	s14, s14, s9
 217:moudels/imu/ins_task.c **** 
 1142              		.loc 1 217 44 view .LVU359
 1143 0048 26EE056A 		vmul.f32	s12, s12, s10
 217:moudels/imu/ins_task.c **** 
 1144              		.loc 1 217 37 view .LVU360
 1145 004c 37EE467A 		vsub.f32	s14, s14, s12
 217:moudels/imu/ins_task.c **** 
 1146              		.loc 1 217 59 view .LVU361
 1147 0050 90ED026A 		vldr.32	s12, [r0, #8]
 217:moudels/imu/ins_task.c **** 
 1148              		.loc 1 217 52 view .LVU362
 1149 0054 27EE067A 		vmul.f32	s14, s14, s12
 216:moudels/imu/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1150              		.loc 1 216 63 view .LVU363
 1151 0058 77EE877A 		vadd.f32	s15, s15, s14
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1152              		.loc 1 215 21 view .LVU364
 1153 005c 77EEA77A 		vadd.f32	s15, s15, s15
 215:moudels/imu/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1154              		.loc 1 215 14 view .LVU365
 1155 0060 C1ED007A 		vstr.32	s15, [r1]
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1156              		.loc 1 219 5 is_stmt 1 view .LVU366
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1157              		.loc 1 219 26 is_stmt 0 view .LVU367
 1158 0064 D2ED015A 		vldr.32	s11, [r2, #4]
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1159              		.loc 1 219 33 view .LVU368
 1160 0068 92ED027A 		vldr.32	s14, [r2, #8]
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1161              		.loc 1 219 30 view .LVU369
 1162 006c 65EE877A 		vmul.f32	s15, s11, s14
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1163              		.loc 1 219 40 view .LVU370
 1164 0070 D2ED004A 		vldr.32	s9, [r2]
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1165              		.loc 1 219 47 view .LVU371
 1166 0074 92ED035A 		vldr.32	s10, [r2, #12]
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1167              		.loc 1 219 44 view .LVU372
 1168 0078 24EE856A 		vmul.f32	s12, s9, s10
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1169              		.loc 1 219 37 view .LVU373
 1170 007c 77EEC67A 		vsub.f32	s15, s15, s12
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1171              		.loc 1 219 59 view .LVU374
 1172 0080 90ED006A 		vldr.32	s12, [r0]
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1173              		.loc 1 219 52 view .LVU375
 1174 0084 67EE867A 		vmul.f32	s15, s15, s12
 220:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1175              		.loc 1 220 37 view .LVU376
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 30


 1176 0088 25EEA56A 		vmul.f32	s12, s11, s11
 220:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1177              		.loc 1 220 30 view .LVU377
 1178 008c 36EEC66A 		vsub.f32	s12, s13, s12
 220:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1179              		.loc 1 220 51 view .LVU378
 1180 0090 25EE054A 		vmul.f32	s8, s10, s10
 220:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1181              		.loc 1 220 44 view .LVU379
 1182 0094 36EE446A 		vsub.f32	s12, s12, s8
 220:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1183              		.loc 1 220 66 view .LVU380
 1184 0098 90ED014A 		vldr.32	s8, [r0, #4]
 220:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1185              		.loc 1 220 59 view .LVU381
 1186 009c 26EE046A 		vmul.f32	s12, s12, s8
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1187              		.loc 1 219 63 view .LVU382
 1188 00a0 77EE867A 		vadd.f32	s15, s15, s12
 221:moudels/imu/ins_task.c **** 
 1189              		.loc 1 221 30 view .LVU383
 1190 00a4 27EE057A 		vmul.f32	s14, s14, s10
 221:moudels/imu/ins_task.c **** 
 1191              		.loc 1 221 44 view .LVU384
 1192 00a8 65EEA45A 		vmul.f32	s11, s11, s9
 221:moudels/imu/ins_task.c **** 
 1193              		.loc 1 221 37 view .LVU385
 1194 00ac 37EE257A 		vadd.f32	s14, s14, s11
 221:moudels/imu/ins_task.c **** 
 1195              		.loc 1 221 59 view .LVU386
 1196 00b0 90ED026A 		vldr.32	s12, [r0, #8]
 221:moudels/imu/ins_task.c **** 
 1197              		.loc 1 221 52 view .LVU387
 1198 00b4 27EE067A 		vmul.f32	s14, s14, s12
 220:moudels/imu/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1199              		.loc 1 220 70 view .LVU388
 1200 00b8 77EE877A 		vadd.f32	s15, s15, s14
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1201              		.loc 1 219 21 view .LVU389
 1202 00bc 77EEA77A 		vadd.f32	s15, s15, s15
 219:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1203              		.loc 1 219 14 view .LVU390
 1204 00c0 C1ED017A 		vstr.32	s15, [r1, #4]
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1205              		.loc 1 223 5 is_stmt 1 view .LVU391
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1206              		.loc 1 223 26 is_stmt 0 view .LVU392
 1207 00c4 D2ED015A 		vldr.32	s11, [r2, #4]
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1208              		.loc 1 223 33 view .LVU393
 1209 00c8 92ED037A 		vldr.32	s14, [r2, #12]
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1210              		.loc 1 223 30 view .LVU394
 1211 00cc 65EE877A 		vmul.f32	s15, s11, s14
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1212              		.loc 1 223 40 view .LVU395
 1213 00d0 92ED005A 		vldr.32	s10, [r2]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 31


 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1214              		.loc 1 223 47 view .LVU396
 1215 00d4 92ED026A 		vldr.32	s12, [r2, #8]
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1216              		.loc 1 223 44 view .LVU397
 1217 00d8 65EE064A 		vmul.f32	s9, s10, s12
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1218              		.loc 1 223 37 view .LVU398
 1219 00dc 77EEA47A 		vadd.f32	s15, s15, s9
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1220              		.loc 1 223 59 view .LVU399
 1221 00e0 D0ED004A 		vldr.32	s9, [r0]
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1222              		.loc 1 223 52 view .LVU400
 1223 00e4 67EEA47A 		vmul.f32	s15, s15, s9
 224:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1224              		.loc 1 224 30 view .LVU401
 1225 00e8 27EE067A 		vmul.f32	s14, s14, s12
 224:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1226              		.loc 1 224 44 view .LVU402
 1227 00ec 25EE855A 		vmul.f32	s10, s11, s10
 224:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1228              		.loc 1 224 37 view .LVU403
 1229 00f0 37EE457A 		vsub.f32	s14, s14, s10
 224:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1230              		.loc 1 224 59 view .LVU404
 1231 00f4 90ED015A 		vldr.32	s10, [r0, #4]
 224:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1232              		.loc 1 224 52 view .LVU405
 1233 00f8 27EE057A 		vmul.f32	s14, s14, s10
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1234              		.loc 1 223 63 view .LVU406
 1235 00fc 77EE877A 		vadd.f32	s15, s15, s14
 225:moudels/imu/ins_task.c **** }
 1236              		.loc 1 225 37 view .LVU407
 1237 0100 65EEA55A 		vmul.f32	s11, s11, s11
 225:moudels/imu/ins_task.c **** }
 1238              		.loc 1 225 30 view .LVU408
 1239 0104 76EEE56A 		vsub.f32	s13, s13, s11
 225:moudels/imu/ins_task.c **** }
 1240              		.loc 1 225 51 view .LVU409
 1241 0108 26EE066A 		vmul.f32	s12, s12, s12
 225:moudels/imu/ins_task.c **** }
 1242              		.loc 1 225 44 view .LVU410
 1243 010c 76EEC66A 		vsub.f32	s13, s13, s12
 225:moudels/imu/ins_task.c **** }
 1244              		.loc 1 225 66 view .LVU411
 1245 0110 90ED027A 		vldr.32	s14, [r0, #8]
 225:moudels/imu/ins_task.c **** }
 1246              		.loc 1 225 59 view .LVU412
 1247 0114 66EE876A 		vmul.f32	s13, s13, s14
 224:moudels/imu/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1248              		.loc 1 224 63 view .LVU413
 1249 0118 77EEA67A 		vadd.f32	s15, s15, s13
 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1250              		.loc 1 223 21 view .LVU414
 1251 011c 77EEA77A 		vadd.f32	s15, s15, s15
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 32


 223:moudels/imu/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1252              		.loc 1 223 14 view .LVU415
 1253 0120 C1ED027A 		vstr.32	s15, [r1, #8]
 226:moudels/imu/ins_task.c **** 
 1254              		.loc 1 226 1 view .LVU416
 1255 0124 7047     		bx	lr
 1256              		.cfi_endproc
 1257              	.LFE178:
 1259              		.section	.text.INS_Task,"ax",%progbits
 1260              		.align	1
 1261              		.global	INS_Task
 1262              		.syntax unified
 1263              		.thumb
 1264              		.thumb_func
 1266              	INS_Task:
 1267              	.LFB176:
 120:moudels/imu/ins_task.c ****     static uint32_t count = 0;
 1268              		.loc 1 120 1 is_stmt 1 view -0
 1269              		.cfi_startproc
 1270              		@ args = 0, pretend = 0, frame = 24
 1271              		@ frame_needed = 0, uses_anonymous_args = 0
 1272 0000 70B5     		push	{r4, r5, r6, lr}
 1273              		.cfi_def_cfa_offset 16
 1274              		.cfi_offset 4, -16
 1275              		.cfi_offset 5, -12
 1276              		.cfi_offset 6, -8
 1277              		.cfi_offset 14, -4
 1278 0002 86B0     		sub	sp, sp, #24
 1279              		.cfi_def_cfa_offset 40
 121:moudels/imu/ins_task.c ****     const float gravity[3] = {0, 0, 9.81f};
 1280              		.loc 1 121 5 view .LVU418
 122:moudels/imu/ins_task.c **** 
 1281              		.loc 1 122 5 view .LVU419
 122:moudels/imu/ins_task.c **** 
 1282              		.loc 1 122 17 is_stmt 0 view .LVU420
 1283 0004 0023     		movs	r3, #0
 1284 0006 0393     		str	r3, [sp, #12]	@ float
 1285 0008 0493     		str	r3, [sp, #16]	@ float
 1286 000a 504B     		ldr	r3, .L46
 1287 000c 0593     		str	r3, [sp, #20]	@ float
 124:moudels/imu/ins_task.c ****     t += dt;
 1288              		.loc 1 124 5 is_stmt 1 view .LVU421
 124:moudels/imu/ins_task.c ****     t += dt;
 1289              		.loc 1 124 10 is_stmt 0 view .LVU422
 1290 000e 5048     		ldr	r0, .L46+4
 1291 0010 FFF7FEFF 		bl	DWT_GetDeltaT
 1292              	.LVL70:
 124:moudels/imu/ins_task.c ****     t += dt;
 1293              		.loc 1 124 8 discriminator 1 view .LVU423
 1294 0014 4F4E     		ldr	r6, .L46+8
 1295 0016 86ED000A 		vstr.32	s0, [r6]
 125:moudels/imu/ins_task.c **** 
 1296              		.loc 1 125 5 is_stmt 1 view .LVU424
 125:moudels/imu/ins_task.c **** 
 1297              		.loc 1 125 7 is_stmt 0 view .LVU425
 1298 001a 4F4B     		ldr	r3, .L46+12
 1299 001c D3ED007A 		vldr.32	s15, [r3]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 33


 1300 0020 77EE807A 		vadd.f32	s15, s15, s0
 1301 0024 C3ED007A 		vstr.32	s15, [r3]
 128:moudels/imu/ins_task.c ****     {
 1302              		.loc 1 128 5 is_stmt 1 view .LVU426
 1303              	.LBB7:
 130:moudels/imu/ins_task.c **** 
 1304              		.loc 1 130 9 view .LVU427
 1305 0028 4C4D     		ldr	r5, .L46+16
 1306 002a 2846     		mov	r0, r5
 1307 002c FFF7FEFF 		bl	BMI088_Read
 1308              	.LVL71:
 132:moudels/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 1309              		.loc 1 132 9 view .LVU428
 132:moudels/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 1310              		.loc 1 132 36 is_stmt 0 view .LVU429
 1311 0030 2B68     		ldr	r3, [r5]	@ float
 132:moudels/imu/ins_task.c ****         INS.Accel[Y] = BMI088.Accel[Y];
 1312              		.loc 1 132 22 view .LVU430
 1313 0032 4B4C     		ldr	r4, .L46+20
 1314 0034 E365     		str	r3, [r4, #92]	@ float
 133:moudels/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 1315              		.loc 1 133 9 is_stmt 1 view .LVU431
 133:moudels/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 1316              		.loc 1 133 36 is_stmt 0 view .LVU432
 1317 0036 6B68     		ldr	r3, [r5, #4]	@ float
 133:moudels/imu/ins_task.c ****         INS.Accel[Z] = BMI088.Accel[Z];
 1318              		.loc 1 133 22 view .LVU433
 1319 0038 2366     		str	r3, [r4, #96]	@ float
 134:moudels/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 1320              		.loc 1 134 9 is_stmt 1 view .LVU434
 134:moudels/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 1321              		.loc 1 134 36 is_stmt 0 view .LVU435
 1322 003a AB68     		ldr	r3, [r5, #8]	@ float
 134:moudels/imu/ins_task.c ****         INS.Gyro[X] = BMI088.Gyro[X];
 1323              		.loc 1 134 22 view .LVU436
 1324 003c 6366     		str	r3, [r4, #100]	@ float
 135:moudels/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
 1325              		.loc 1 135 9 is_stmt 1 view .LVU437
 135:moudels/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
 1326              		.loc 1 135 34 is_stmt 0 view .LVU438
 1327 003e EB68     		ldr	r3, [r5, #12]	@ float
 135:moudels/imu/ins_task.c ****         INS.Gyro[Y] = BMI088.Gyro[Y];
 1328              		.loc 1 135 21 view .LVU439
 1329 0040 2365     		str	r3, [r4, #80]	@ float
 136:moudels/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 1330              		.loc 1 136 9 is_stmt 1 view .LVU440
 136:moudels/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 1331              		.loc 1 136 34 is_stmt 0 view .LVU441
 1332 0042 2B69     		ldr	r3, [r5, #16]	@ float
 136:moudels/imu/ins_task.c ****         INS.Gyro[Z] = BMI088.Gyro[Z];
 1333              		.loc 1 136 21 view .LVU442
 1334 0044 6365     		str	r3, [r4, #84]	@ float
 137:moudels/imu/ins_task.c **** 
 1335              		.loc 1 137 9 is_stmt 1 view .LVU443
 137:moudels/imu/ins_task.c **** 
 1336              		.loc 1 137 34 is_stmt 0 view .LVU444
 1337 0046 6B69     		ldr	r3, [r5, #20]	@ float
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 34


 137:moudels/imu/ins_task.c **** 
 1338              		.loc 1 137 21 view .LVU445
 1339 0048 A365     		str	r3, [r4, #88]	@ float
 140:moudels/imu/ins_task.c **** 
 1340              		.loc 1 140 9 is_stmt 1 view .LVU446
 1341 004a 04F15C02 		add	r2, r4, #92
 1342 004e 04F15001 		add	r1, r4, #80
 1343 0052 4448     		ldr	r0, .L46+24
 1344 0054 FFF7FEFF 		bl	IMU_Param_Correction
 1345              	.LVL72:
 147:moudels/imu/ins_task.c **** 
 1346              		.loc 1 147 9 view .LVU447
 1347 0058 96ED003A 		vldr.32	s6, [r6]
 1348 005c D4ED192A 		vldr.32	s5, [r4, #100]
 1349 0060 94ED182A 		vldr.32	s4, [r4, #96]
 1350 0064 D4ED171A 		vldr.32	s3, [r4, #92]
 1351 0068 94ED161A 		vldr.32	s2, [r4, #88]
 1352 006c D4ED150A 		vldr.32	s1, [r4, #84]
 1353 0070 94ED140A 		vldr.32	s0, [r4, #80]
 1354 0074 FFF7FEFF 		bl	IMU_QuaternionEKF_Update
 1355              	.LVL73:
 149:moudels/imu/ins_task.c **** 
 1356              		.loc 1 149 9 view .LVU448
 1357 0078 3B4B     		ldr	r3, .L46+28
 1358 007a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1359 007c 84E80F00 		stm	r4, {r0, r1, r2, r3}
 152:moudels/imu/ins_task.c ****         BodyFrameToEarthFrame(yb, INS.yn, INS.q);
 1360              		.loc 1 152 9 view .LVU449
 1361 0080 2246     		mov	r2, r4
 1362 0082 04F12C01 		add	r1, r4, #44
 1363 0086 3948     		ldr	r0, .L46+32
 1364 0088 FFF7FEFF 		bl	BodyFrameToEarthFrame
 1365              	.LVL74:
 153:moudels/imu/ins_task.c ****         BodyFrameToEarthFrame(zb, INS.zn, INS.q);
 1366              		.loc 1 153 9 view .LVU450
 1367 008c 2246     		mov	r2, r4
 1368 008e 04F13801 		add	r1, r4, #56
 1369 0092 3748     		ldr	r0, .L46+36
 1370 0094 FFF7FEFF 		bl	BodyFrameToEarthFrame
 1371              	.LVL75:
 154:moudels/imu/ins_task.c **** 
 1372              		.loc 1 154 9 view .LVU451
 1373 0098 2246     		mov	r2, r4
 1374 009a 04F14401 		add	r1, r4, #68
 1375 009e 3548     		ldr	r0, .L46+40
 1376 00a0 FFF7FEFF 		bl	BodyFrameToEarthFrame
 1377              	.LVL76:
 157:moudels/imu/ins_task.c ****         EarthFrameToBodyFrame(gravity, gravity_b, INS.q);
 1378              		.loc 1 157 9 view .LVU452
 158:moudels/imu/ins_task.c ****         for (uint8_t i = 0; i < 3; ++i) // ÂêåÊ†∑Ëøá‰∏Ä‰∏™‰ΩéÈÄöÊª§Ê≥¢
 1379              		.loc 1 158 9 view .LVU453
 1380 00a4 2246     		mov	r2, r4
 1381 00a6 6946     		mov	r1, sp
 1382 00a8 03A8     		add	r0, sp, #12
 1383 00aa FFF7FEFF 		bl	EarthFrameToBodyFrame
 1384              	.LVL77:
 159:moudels/imu/ins_task.c ****         {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 35


 1385              		.loc 1 159 9 view .LVU454
 1386              	.LBB8:
 159:moudels/imu/ins_task.c ****         {
 1387              		.loc 1 159 14 view .LVU455
 159:moudels/imu/ins_task.c ****         {
 1388              		.loc 1 159 22 is_stmt 0 view .LVU456
 1389 00ae 0023     		movs	r3, #0
 159:moudels/imu/ins_task.c ****         {
 1390              		.loc 1 159 9 view .LVU457
 1391 00b0 27E0     		b	.L41
 1392              	.LVL78:
 1393              	.L42:
 161:moudels/imu/ins_task.c ****         }
 1394              		.loc 1 161 13 is_stmt 1 view .LVU458
 161:moudels/imu/ins_task.c ****         }
 1395              		.loc 1 161 46 is_stmt 0 view .LVU459
 1396 00b2 2B4A     		ldr	r2, .L46+20
 1397 00b4 03F11601 		add	r1, r3, #22
 1398 00b8 02EB8101 		add	r1, r2, r1, lsl #2
 1399 00bc 91ED017A 		vldr.32	s14, [r1, #4]
 161:moudels/imu/ins_task.c ****         }
 1400              		.loc 1 161 61 view .LVU460
 1401 00c0 06A9     		add	r1, sp, #24
 1402 00c2 01EB8301 		add	r1, r1, r3, lsl #2
 1403 00c6 51ED067A 		vldr.32	s15, [r1, #-24]
 161:moudels/imu/ins_task.c ****         }
 1404              		.loc 1 161 50 view .LVU461
 1405 00ca 37EE677A 		vsub.f32	s14, s14, s15
 161:moudels/imu/ins_task.c ****         }
 1406              		.loc 1 161 66 view .LVU462
 1407 00ce 2149     		ldr	r1, .L46+8
 1408 00d0 D1ED007A 		vldr.32	s15, [r1]
 1409 00d4 27EE277A 		vmul.f32	s14, s14, s15
 161:moudels/imu/ins_task.c ****         }
 1410              		.loc 1 161 77 view .LVU463
 1411 00d8 D2ED0A6A 		vldr.32	s13, [r2, #40]
 161:moudels/imu/ins_task.c ****         }
 1412              		.loc 1 161 87 view .LVU464
 1413 00dc 77EEA67A 		vadd.f32	s15, s15, s13
 161:moudels/imu/ins_task.c ****         }
 1414              		.loc 1 161 71 view .LVU465
 1415 00e0 87EE276A 		vdiv.f32	s12, s14, s15
 161:moudels/imu/ins_task.c ****         }
 1416              		.loc 1 161 112 view .LVU466
 1417 00e4 191D     		adds	r1, r3, #4
 1418 00e6 02EB8102 		add	r2, r2, r1, lsl #2
 1419 00ea 92ED007A 		vldr.32	s14, [r2]
 161:moudels/imu/ins_task.c ****         }
 1420              		.loc 1 161 116 view .LVU467
 1421 00ee 66EE876A 		vmul.f32	s13, s13, s14
 161:moudels/imu/ins_task.c ****         }
 1422              		.loc 1 161 131 view .LVU468
 1423 00f2 86EEA77A 		vdiv.f32	s14, s13, s15
 161:moudels/imu/ins_task.c ****         }
 1424              		.loc 1 161 93 view .LVU469
 1425 00f6 76EE077A 		vadd.f32	s15, s12, s14
 161:moudels/imu/ins_task.c ****         }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 36


 1426              		.loc 1 161 34 view .LVU470
 1427 00fa C2ED007A 		vstr.32	s15, [r2]
 159:moudels/imu/ins_task.c ****         {
 1428              		.loc 1 159 36 is_stmt 1 discriminator 3 view .LVU471
 1429 00fe 0133     		adds	r3, r3, #1
 1430              	.LVL79:
 159:moudels/imu/ins_task.c ****         {
 1431              		.loc 1 159 36 is_stmt 0 discriminator 3 view .LVU472
 1432 0100 DBB2     		uxtb	r3, r3
 1433              	.LVL80:
 1434              	.L41:
 159:moudels/imu/ins_task.c ****         {
 1435              		.loc 1 159 31 is_stmt 1 discriminator 1 view .LVU473
 1436 0102 022B     		cmp	r3, #2
 1437 0104 D5D9     		bls	.L42
 1438              	.LBE8:
 163:moudels/imu/ins_task.c **** 
 1439              		.loc 1 163 9 view .LVU474
 1440 0106 164C     		ldr	r4, .L46+20
 1441 0108 2246     		mov	r2, r4
 1442 010a 04F11C01 		add	r1, r4, #28
 1443 010e 04F11000 		add	r0, r4, #16
 1444 0112 FFF7FEFF 		bl	BodyFrameToEarthFrame
 1445              	.LVL81:
 165:moudels/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 1446              		.loc 1 165 9 view .LVU475
 165:moudels/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 1447              		.loc 1 165 27 is_stmt 0 view .LVU476
 1448 0116 184B     		ldr	r3, .L46+44
 1449 0118 D3F8A821 		ldr	r2, [r3, #424]	@ float
 165:moudels/imu/ins_task.c ****         INS.Pitch = QEKF_INS.Pitch;
 1450              		.loc 1 165 17 view .LVU477
 1451 011c 2267     		str	r2, [r4, #112]	@ float
 166:moudels/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
 1452              		.loc 1 166 9 is_stmt 1 view .LVU478
 166:moudels/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
 1453              		.loc 1 166 29 is_stmt 0 view .LVU479
 1454 011e D3F8A421 		ldr	r2, [r3, #420]	@ float
 166:moudels/imu/ins_task.c ****         INS.Roll = QEKF_INS.Roll;
 1455              		.loc 1 166 19 view .LVU480
 1456 0122 E266     		str	r2, [r4, #108]	@ float
 167:moudels/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 1457              		.loc 1 167 9 is_stmt 1 view .LVU481
 167:moudels/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 1458              		.loc 1 167 28 is_stmt 0 view .LVU482
 1459 0124 D3F8A021 		ldr	r2, [r3, #416]	@ float
 167:moudels/imu/ins_task.c ****         INS.YawTotalAngle = QEKF_INS.YawTotalAngle;
 1460              		.loc 1 167 18 view .LVU483
 1461 0128 A266     		str	r2, [r4, #104]	@ float
 168:moudels/imu/ins_task.c **** 
 1462              		.loc 1 168 9 is_stmt 1 view .LVU484
 168:moudels/imu/ins_task.c **** 
 1463              		.loc 1 168 37 is_stmt 0 view .LVU485
 1464 012a D3F8AC31 		ldr	r3, [r3, #428]	@ float
 168:moudels/imu/ins_task.c **** 
 1465              		.loc 1 168 27 view .LVU486
 1466 012e 6367     		str	r3, [r4, #116]	@ float
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 37


 1467              	.LBE7:
 174:moudels/imu/ins_task.c ****     {
 1468              		.loc 1 174 5 is_stmt 1 view .LVU487
 174:moudels/imu/ins_task.c ****     {
 1469              		.loc 1 174 16 is_stmt 0 view .LVU488
 1470 0130 124B     		ldr	r3, .L46+48
 1471 0132 1B68     		ldr	r3, [r3]
 174:moudels/imu/ins_task.c ****     {
 1472              		.loc 1 174 8 view .LVU489
 1473 0134 13F0010F 		tst	r3, #1
 1474 0138 05D0     		beq	.L45
 1475              	.L43:
 180:moudels/imu/ins_task.c ****     {
 1476              		.loc 1 180 5 is_stmt 1 view .LVU490
 180:moudels/imu/ins_task.c ****     {
 1477              		.loc 1 180 15 is_stmt 0 view .LVU491
 1478 013a 104A     		ldr	r2, .L46+48
 1479 013c 1368     		ldr	r3, [r2]
 1480 013e 0133     		adds	r3, r3, #1
 1481 0140 1360     		str	r3, [r2]
 183:moudels/imu/ins_task.c **** }
 1482              		.loc 1 183 5 is_stmt 1 view .LVU492
 184:moudels/imu/ins_task.c **** 
 1483              		.loc 1 184 1 is_stmt 0 view .LVU493
 1484 0142 06B0     		add	sp, sp, #24
 1485              		.cfi_remember_state
 1486              		.cfi_def_cfa_offset 16
 1487              		@ sp needed
 1488 0144 70BD     		pop	{r4, r5, r6, pc}
 1489              	.L45:
 1490              		.cfi_restore_state
 177:moudels/imu/ins_task.c ****     }
 1491              		.loc 1 177 9 is_stmt 1 view .LVU494
 1492 0146 FFF7FEFF 		bl	IMU_Temperature_Ctrl
 1493              	.LVL82:
 1494 014a F6E7     		b	.L43
 1495              	.L47:
 1496              		.align	2
 1497              	.L46:
 1498 014c C3F51C41 		.word	1092416963
 1499 0150 00000000 		.word	INS_DWT_Count
 1500 0154 00000000 		.word	dt
 1501 0158 00000000 		.word	t
 1502 015c 00000000 		.word	BMI088
 1503 0160 00000000 		.word	INS
 1504 0164 00000000 		.word	IMU_Param
 1505 0168 50010000 		.word	QEKF_INS+336
 1506 016c 00000000 		.word	xb
 1507 0170 00000000 		.word	yb
 1508 0174 00000000 		.word	zb
 1509 0178 00000000 		.word	QEKF_INS
 1510 017c 00000000 		.word	count.12
 1511              		.cfi_endproc
 1512              	.LFE176:
 1514              		.section	.text.QuaternionUpdate,"ax",%progbits
 1515              		.align	1
 1516              		.global	QuaternionUpdate
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 38


 1517              		.syntax unified
 1518              		.thumb
 1519              		.thumb_func
 1521              	QuaternionUpdate:
 1522              	.LVL83:
 1523              	.LFB180:
 297:moudels/imu/ins_task.c **** 
 298:moudels/imu/ins_task.c **** //------------------------------------functions below are not used in this demo--------------------
 299:moudels/imu/ins_task.c **** //----------------------------------you can read them for learning or programming------------------
 300:moudels/imu/ins_task.c **** //----------------------------------they could also be helpful for further design------------------
 301:moudels/imu/ins_task.c **** 
 302:moudels/imu/ins_task.c **** /**
 303:moudels/imu/ins_task.c ****  * @brief        Update quaternion
 304:moudels/imu/ins_task.c ****  */
 305:moudels/imu/ins_task.c **** void QuaternionUpdate(float *q, float gx, float gy, float gz, float dt)
 306:moudels/imu/ins_task.c **** {
 1524              		.loc 1 306 1 view -0
 1525              		.cfi_startproc
 1526              		@ args = 0, pretend = 0, frame = 0
 1527              		@ frame_needed = 0, uses_anonymous_args = 0
 1528              		@ link register save eliminated.
 307:moudels/imu/ins_task.c ****     float qa, qb, qc;
 1529              		.loc 1 307 5 view .LVU496
 308:moudels/imu/ins_task.c **** 
 309:moudels/imu/ins_task.c ****     gx *= 0.5f * dt;
 1530              		.loc 1 309 5 view .LVU497
 1531              		.loc 1 309 16 is_stmt 0 view .LVU498
 1532 0000 F6EE007A 		vmov.f32	s15, #5.0e-1
 1533 0004 61EEA71A 		vmul.f32	s3, s3, s15
 1534              	.LVL84:
 1535              		.loc 1 309 8 view .LVU499
 1536 0008 21EE800A 		vmul.f32	s0, s3, s0
 1537              	.LVL85:
 310:moudels/imu/ins_task.c ****     gy *= 0.5f * dt;
 1538              		.loc 1 310 5 is_stmt 1 view .LVU500
 1539              		.loc 1 310 8 is_stmt 0 view .LVU501
 1540 000c 61EEA00A 		vmul.f32	s1, s3, s1
 1541              	.LVL86:
 311:moudels/imu/ins_task.c ****     gz *= 0.5f * dt;
 1542              		.loc 1 311 5 is_stmt 1 view .LVU502
 1543              		.loc 1 311 8 is_stmt 0 view .LVU503
 1544 0010 21EE811A 		vmul.f32	s2, s3, s2
 1545              	.LVL87:
 312:moudels/imu/ins_task.c ****     qa = q[0];
 1546              		.loc 1 312 5 is_stmt 1 view .LVU504
 1547              		.loc 1 312 8 is_stmt 0 view .LVU505
 1548 0014 D0ED005A 		vldr.32	s11, [r0]
 1549              	.LVL88:
 313:moudels/imu/ins_task.c ****     qb = q[1];
 1550              		.loc 1 313 5 is_stmt 1 view .LVU506
 1551              		.loc 1 313 8 is_stmt 0 view .LVU507
 1552 0018 90ED016A 		vldr.32	s12, [r0, #4]
 1553              	.LVL89:
 314:moudels/imu/ins_task.c ****     qc = q[2];
 1554              		.loc 1 314 5 is_stmt 1 view .LVU508
 1555              		.loc 1 314 8 is_stmt 0 view .LVU509
 1556 001c D0ED026A 		vldr.32	s13, [r0, #8]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 39


 1557              	.LVL90:
 315:moudels/imu/ins_task.c ****     q[0] += (-qb * gx - qc * gy - q[3] * gz);
 1558              		.loc 1 315 5 is_stmt 1 view .LVU510
 1559              		.loc 1 315 18 is_stmt 0 view .LVU511
 1560 0020 66EE407A 		vnmul.f32	s15, s12, s0
 1561              		.loc 1 315 28 view .LVU512
 1562 0024 20EEA67A 		vmul.f32	s14, s1, s13
 1563              		.loc 1 315 23 view .LVU513
 1564 0028 77EEC77A 		vsub.f32	s15, s15, s14
 1565              		.loc 1 315 36 view .LVU514
 1566 002c 90ED037A 		vldr.32	s14, [r0, #12]
 1567              		.loc 1 315 40 view .LVU515
 1568 0030 27EE015A 		vmul.f32	s10, s14, s2
 1569              		.loc 1 315 33 view .LVU516
 1570 0034 77EEC57A 		vsub.f32	s15, s15, s10
 1571              		.loc 1 315 10 view .LVU517
 1572 0038 77EEA57A 		vadd.f32	s15, s15, s11
 1573 003c C0ED007A 		vstr.32	s15, [r0]
 316:moudels/imu/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 1574              		.loc 1 316 5 is_stmt 1 view .LVU518
 1575              		.loc 1 316 17 is_stmt 0 view .LVU519
 1576 0040 60EE257A 		vmul.f32	s15, s0, s11
 1577              		.loc 1 316 27 view .LVU520
 1578 0044 21EE265A 		vmul.f32	s10, s2, s13
 1579              		.loc 1 316 22 view .LVU521
 1580 0048 77EE857A 		vadd.f32	s15, s15, s10
 1581              		.loc 1 316 39 view .LVU522
 1582 004c 27EE205A 		vmul.f32	s10, s14, s1
 1583              		.loc 1 316 32 view .LVU523
 1584 0050 77EEC57A 		vsub.f32	s15, s15, s10
 1585              		.loc 1 316 10 view .LVU524
 1586 0054 77EE867A 		vadd.f32	s15, s15, s12
 1587 0058 C0ED017A 		vstr.32	s15, [r0, #4]
 317:moudels/imu/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 1588              		.loc 1 317 5 is_stmt 1 view .LVU525
 1589              		.loc 1 317 17 is_stmt 0 view .LVU526
 1590 005c 60EEA57A 		vmul.f32	s15, s1, s11
 1591              		.loc 1 317 27 view .LVU527
 1592 0060 21EE065A 		vmul.f32	s10, s2, s12
 1593              		.loc 1 317 22 view .LVU528
 1594 0064 77EEC57A 		vsub.f32	s15, s15, s10
 1595              		.loc 1 317 39 view .LVU529
 1596 0068 27EE005A 		vmul.f32	s10, s14, s0
 1597              		.loc 1 317 32 view .LVU530
 1598 006c 77EE857A 		vadd.f32	s15, s15, s10
 1599              		.loc 1 317 10 view .LVU531
 1600 0070 77EEA67A 		vadd.f32	s15, s15, s13
 1601 0074 C0ED027A 		vstr.32	s15, [r0, #8]
 318:moudels/imu/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 1602              		.loc 1 318 5 is_stmt 1 view .LVU532
 1603              		.loc 1 318 17 is_stmt 0 view .LVU533
 1604 0078 21EE251A 		vmul.f32	s2, s2, s11
 1605              	.LVL91:
 1606              		.loc 1 318 27 view .LVU534
 1607 007c 60EE860A 		vmul.f32	s1, s1, s12
 1608              	.LVL92:
 1609              		.loc 1 318 22 view .LVU535
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 40


 1610 0080 31EE201A 		vadd.f32	s2, s2, s1
 1611              		.loc 1 318 37 view .LVU536
 1612 0084 20EE260A 		vmul.f32	s0, s0, s13
 1613              	.LVL93:
 1614              		.loc 1 318 32 view .LVU537
 1615 0088 31EE401A 		vsub.f32	s2, s2, s0
 1616              		.loc 1 318 10 view .LVU538
 1617 008c 37EE017A 		vadd.f32	s14, s14, s2
 1618 0090 80ED037A 		vstr.32	s14, [r0, #12]
 319:moudels/imu/ins_task.c **** }
 1619              		.loc 1 319 1 view .LVU539
 1620 0094 7047     		bx	lr
 1621              		.cfi_endproc
 1622              	.LFE180:
 1624              		.section	.text.QuaternionToEularAngle,"ax",%progbits
 1625              		.align	1
 1626              		.global	QuaternionToEularAngle
 1627              		.syntax unified
 1628              		.thumb
 1629              		.thumb_func
 1631              	QuaternionToEularAngle:
 1632              	.LVL94:
 1633              	.LFB181:
 320:moudels/imu/ins_task.c **** 
 321:moudels/imu/ins_task.c **** /**
 322:moudels/imu/ins_task.c ****  * @brief        Convert quaternion to eular angle
 323:moudels/imu/ins_task.c ****  */
 324:moudels/imu/ins_task.c **** void QuaternionToEularAngle(float *q, float *Yaw, float *Pitch, float *Roll)
 325:moudels/imu/ins_task.c **** {
 1634              		.loc 1 325 1 is_stmt 1 view -0
 1635              		.cfi_startproc
 1636              		@ args = 0, pretend = 0, frame = 0
 1637              		@ frame_needed = 0, uses_anonymous_args = 0
 1638              		.loc 1 325 1 is_stmt 0 view .LVU541
 1639 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1640              		.cfi_def_cfa_offset 24
 1641              		.cfi_offset 3, -24
 1642              		.cfi_offset 4, -20
 1643              		.cfi_offset 5, -16
 1644              		.cfi_offset 6, -12
 1645              		.cfi_offset 7, -8
 1646              		.cfi_offset 14, -4
 1647 0002 2DED028B 		vpush.64	{d8}
 1648              		.cfi_def_cfa_offset 32
 1649              		.cfi_offset 80, -32
 1650              		.cfi_offset 81, -28
 1651 0006 0446     		mov	r4, r0
 1652 0008 0F46     		mov	r7, r1
 1653 000a 1646     		mov	r6, r2
 1654 000c 1D46     		mov	r5, r3
 326:moudels/imu/ins_task.c ****     *Yaw = atan2f(2.0f * (q[0] * q[3] + q[1] * q[2]), 2.0f * (q[0] * q[0] + q[1] * q[1]) - 1.0f) * 
 1655              		.loc 1 326 5 is_stmt 1 view .LVU542
 1656              		.loc 1 326 28 is_stmt 0 view .LVU543
 1657 000e D0ED000A 		vldr.32	s1, [r0]
 1658              		.loc 1 326 35 view .LVU544
 1659 0012 90ED030A 		vldr.32	s0, [r0, #12]
 1660              		.loc 1 326 32 view .LVU545
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 41


 1661 0016 20EE800A 		vmul.f32	s0, s1, s0
 1662              		.loc 1 326 42 view .LVU546
 1663 001a D0ED017A 		vldr.32	s15, [r0, #4]
 1664              		.loc 1 326 49 view .LVU547
 1665 001e 90ED027A 		vldr.32	s14, [r0, #8]
 1666              		.loc 1 326 46 view .LVU548
 1667 0022 27EE877A 		vmul.f32	s14, s15, s14
 1668              		.loc 1 326 39 view .LVU549
 1669 0026 30EE070A 		vadd.f32	s0, s0, s14
 1670              		.loc 1 326 68 view .LVU550
 1671 002a 60EEA00A 		vmul.f32	s1, s1, s1
 1672              		.loc 1 326 82 view .LVU551
 1673 002e 67EEA77A 		vmul.f32	s15, s15, s15
 1674              		.loc 1 326 75 view .LVU552
 1675 0032 70EEA70A 		vadd.f32	s1, s1, s15
 1676              		.loc 1 326 60 view .LVU553
 1677 0036 70EEA00A 		vadd.f32	s1, s1, s1
 1678              		.loc 1 326 12 view .LVU554
 1679 003a F7EE008A 		vmov.f32	s17, #1.0e+0
 1680 003e 70EEE80A 		vsub.f32	s1, s1, s17
 1681 0042 30EE000A 		vadd.f32	s0, s0, s0
 1682 0046 FFF7FEFF 		bl	atan2f
 1683              	.LVL95:
 1684              		.loc 1 326 98 discriminator 1 view .LVU555
 1685 004a 9FED1F8A 		vldr.32	s16, .L51
 1686 004e 20EE080A 		vmul.f32	s0, s0, s16
 1687              		.loc 1 326 10 discriminator 1 view .LVU556
 1688 0052 87ED000A 		vstr.32	s0, [r7]
 327:moudels/imu/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 1689              		.loc 1 327 5 is_stmt 1 view .LVU557
 1690              		.loc 1 327 30 is_stmt 0 view .LVU558
 1691 0056 D4ED000A 		vldr.32	s1, [r4]
 1692              		.loc 1 327 37 view .LVU559
 1693 005a 94ED010A 		vldr.32	s0, [r4, #4]
 1694              		.loc 1 327 34 view .LVU560
 1695 005e 20EE800A 		vmul.f32	s0, s1, s0
 1696              		.loc 1 327 44 view .LVU561
 1697 0062 94ED027A 		vldr.32	s14, [r4, #8]
 1698              		.loc 1 327 51 view .LVU562
 1699 0066 D4ED037A 		vldr.32	s15, [r4, #12]
 1700              		.loc 1 327 48 view .LVU563
 1701 006a 27EE277A 		vmul.f32	s14, s14, s15
 1702              		.loc 1 327 41 view .LVU564
 1703 006e 30EE070A 		vadd.f32	s0, s0, s14
 1704              		.loc 1 327 70 view .LVU565
 1705 0072 60EEA00A 		vmul.f32	s1, s1, s1
 1706              		.loc 1 327 84 view .LVU566
 1707 0076 67EEA77A 		vmul.f32	s15, s15, s15
 1708              		.loc 1 327 77 view .LVU567
 1709 007a 70EEA70A 		vadd.f32	s1, s1, s15
 1710              		.loc 1 327 62 view .LVU568
 1711 007e 70EEA00A 		vadd.f32	s1, s1, s1
 1712              		.loc 1 327 14 view .LVU569
 1713 0082 70EEE80A 		vsub.f32	s1, s1, s17
 1714 0086 30EE000A 		vadd.f32	s0, s0, s0
 1715 008a FFF7FEFF 		bl	atan2f
 1716              	.LVL96:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 42


 1717              		.loc 1 327 100 discriminator 1 view .LVU570
 1718 008e 20EE080A 		vmul.f32	s0, s0, s16
 1719              		.loc 1 327 12 discriminator 1 view .LVU571
 1720 0092 86ED000A 		vstr.32	s0, [r6]
 328:moudels/imu/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1721              		.loc 1 328 5 is_stmt 1 view .LVU572
 1722              		.loc 1 328 28 is_stmt 0 view .LVU573
 1723 0096 94ED000A 		vldr.32	s0, [r4]
 1724              		.loc 1 328 35 view .LVU574
 1725 009a D4ED027A 		vldr.32	s15, [r4, #8]
 1726              		.loc 1 328 32 view .LVU575
 1727 009e 20EE270A 		vmul.f32	s0, s0, s15
 1728              		.loc 1 328 42 view .LVU576
 1729 00a2 D4ED017A 		vldr.32	s15, [r4, #4]
 1730              		.loc 1 328 49 view .LVU577
 1731 00a6 94ED037A 		vldr.32	s14, [r4, #12]
 1732              		.loc 1 328 46 view .LVU578
 1733 00aa 67EE877A 		vmul.f32	s15, s15, s14
 1734              		.loc 1 328 39 view .LVU579
 1735 00ae 30EE670A 		vsub.f32	s0, s0, s15
 1736              		.loc 1 328 13 view .LVU580
 1737 00b2 30EE000A 		vadd.f32	s0, s0, s0
 1738 00b6 FFF7FEFF 		bl	asinf
 1739              	.LVL97:
 1740              		.loc 1 328 55 discriminator 1 view .LVU581
 1741 00ba 20EE080A 		vmul.f32	s0, s0, s16
 1742              		.loc 1 328 11 discriminator 1 view .LVU582
 1743 00be 85ED000A 		vstr.32	s0, [r5]
 329:moudels/imu/ins_task.c **** }
 1744              		.loc 1 329 1 view .LVU583
 1745 00c2 BDEC028B 		vldm	sp!, {d8}
 1746              		.cfi_restore 80
 1747              		.cfi_restore 81
 1748              		.cfi_def_cfa_offset 24
 1749 00c6 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1750              	.LVL98:
 1751              	.L52:
 1752              		.loc 1 329 1 view .LVU584
 1753              		.align	2
 1754              	.L51:
 1755 00c8 E12E6542 		.word	1113927393
 1756              		.cfi_endproc
 1757              	.LFE181:
 1759              		.section	.text.EularAngleToQuaternion,"ax",%progbits
 1760              		.align	1
 1761              		.global	EularAngleToQuaternion
 1762              		.syntax unified
 1763              		.thumb
 1764              		.thumb_func
 1766              	EularAngleToQuaternion:
 1767              	.LVL99:
 1768              	.LFB182:
 330:moudels/imu/ins_task.c **** 
 331:moudels/imu/ins_task.c **** /**
 332:moudels/imu/ins_task.c ****  * @brief        Convert eular angle to quaternion
 333:moudels/imu/ins_task.c ****  */
 334:moudels/imu/ins_task.c **** void EularAngleToQuaternion(float Yaw, float Pitch, float Roll, float *q)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 43


 335:moudels/imu/ins_task.c **** {
 1769              		.loc 1 335 1 is_stmt 1 view -0
 1770              		.cfi_startproc
 1771              		@ args = 0, pretend = 0, frame = 0
 1772              		@ frame_needed = 0, uses_anonymous_args = 0
 1773              		.loc 1 335 1 is_stmt 0 view .LVU586
 1774 0000 10B5     		push	{r4, lr}
 1775              		.cfi_def_cfa_offset 8
 1776              		.cfi_offset 4, -8
 1777              		.cfi_offset 14, -4
 1778 0002 2DED068B 		vpush.64	{d8, d9, d10}
 1779              		.cfi_def_cfa_offset 32
 1780              		.cfi_offset 80, -32
 1781              		.cfi_offset 81, -28
 1782              		.cfi_offset 82, -24
 1783              		.cfi_offset 83, -20
 1784              		.cfi_offset 84, -16
 1785              		.cfi_offset 85, -12
 1786 0006 0446     		mov	r4, r0
 336:moudels/imu/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 1787              		.loc 1 336 5 is_stmt 1 view .LVU587
 337:moudels/imu/ins_task.c ****     Yaw /= 57.295779513f;
 1788              		.loc 1 337 5 view .LVU588
 1789              		.loc 1 337 9 is_stmt 0 view .LVU589
 1790 0008 DFED2E7A 		vldr.32	s15, .L55
 1791 000c C0EE279A 		vdiv.f32	s19, s0, s15
 1792              	.LVL100:
 338:moudels/imu/ins_task.c ****     Pitch /= 57.295779513f;
 1793              		.loc 1 338 5 is_stmt 1 view .LVU590
 1794              		.loc 1 338 11 is_stmt 0 view .LVU591
 1795 0010 80EEA7AA 		vdiv.f32	s20, s1, s15
 1796              	.LVL101:
 339:moudels/imu/ins_task.c ****     Roll /= 57.295779513f;
 1797              		.loc 1 339 5 is_stmt 1 view .LVU592
 1798              		.loc 1 339 10 is_stmt 0 view .LVU593
 1799 0014 C1EE27AA 		vdiv.f32	s21, s2, s15
 1800              	.LVL102:
 340:moudels/imu/ins_task.c ****     cosPitch = arm_cos_f32(Pitch / 2);
 1801              		.loc 1 340 5 is_stmt 1 view .LVU594
 1802              		.loc 1 340 16 is_stmt 0 view .LVU595
 1803 0018 B6EE008A 		vmov.f32	s16, #5.0e-1
 1804 001c 2AEE08AA 		vmul.f32	s20, s20, s16
 1805              	.LVL103:
 1806              		.loc 1 340 16 view .LVU596
 1807 0020 B0EE4A0A 		vmov.f32	s0, s20
 1808 0024 FFF7FEFF 		bl	arm_cos_f32
 1809              	.LVL104:
 1810              		.loc 1 340 16 view .LVU597
 1811 0028 F0EE408A 		vmov.f32	s17, s0
 1812              	.LVL105:
 341:moudels/imu/ins_task.c ****     cosYaw = arm_cos_f32(Yaw / 2);
 1813              		.loc 1 341 5 is_stmt 1 view .LVU598
 1814              		.loc 1 341 14 is_stmt 0 view .LVU599
 1815 002c 69EE889A 		vmul.f32	s19, s19, s16
 1816              	.LVL106:
 1817              		.loc 1 341 14 view .LVU600
 1818 0030 B0EE690A 		vmov.f32	s0, s19
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 44


 1819              	.LVL107:
 1820              		.loc 1 341 14 view .LVU601
 1821 0034 FFF7FEFF 		bl	arm_cos_f32
 1822              	.LVL108:
 1823 0038 B0EE409A 		vmov.f32	s18, s0
 1824              	.LVL109:
 342:moudels/imu/ins_task.c ****     cosRoll = arm_cos_f32(Roll / 2);
 1825              		.loc 1 342 5 is_stmt 1 view .LVU602
 1826              		.loc 1 342 15 is_stmt 0 view .LVU603
 1827 003c 6AEE88AA 		vmul.f32	s21, s21, s16
 1828              	.LVL110:
 1829              		.loc 1 342 15 view .LVU604
 1830 0040 B0EE6A0A 		vmov.f32	s0, s21
 1831              	.LVL111:
 1832              		.loc 1 342 15 view .LVU605
 1833 0044 FFF7FEFF 		bl	arm_cos_f32
 1834              	.LVL112:
 1835 0048 B0EE408A 		vmov.f32	s16, s0
 1836              	.LVL113:
 343:moudels/imu/ins_task.c ****     sinPitch = arm_sin_f32(Pitch / 2);
 1837              		.loc 1 343 5 is_stmt 1 view .LVU606
 1838              		.loc 1 343 16 is_stmt 0 view .LVU607
 1839 004c B0EE4A0A 		vmov.f32	s0, s20
 1840              	.LVL114:
 1841              		.loc 1 343 16 view .LVU608
 1842 0050 FFF7FEFF 		bl	arm_sin_f32
 1843              	.LVL115:
 1844 0054 B0EE40AA 		vmov.f32	s20, s0
 1845              	.LVL116:
 344:moudels/imu/ins_task.c ****     sinYaw = arm_sin_f32(Yaw / 2);
 1846              		.loc 1 344 5 is_stmt 1 view .LVU609
 1847              		.loc 1 344 14 is_stmt 0 view .LVU610
 1848 0058 B0EE690A 		vmov.f32	s0, s19
 1849              	.LVL117:
 1850              		.loc 1 344 14 view .LVU611
 1851 005c FFF7FEFF 		bl	arm_sin_f32
 1852              	.LVL118:
 1853 0060 F0EE409A 		vmov.f32	s19, s0
 1854              	.LVL119:
 345:moudels/imu/ins_task.c ****     sinRoll = arm_sin_f32(Roll / 2);
 1855              		.loc 1 345 5 is_stmt 1 view .LVU612
 1856              		.loc 1 345 15 is_stmt 0 view .LVU613
 1857 0064 B0EE6A0A 		vmov.f32	s0, s21
 1858              	.LVL120:
 1859              		.loc 1 345 15 view .LVU614
 1860 0068 FFF7FEFF 		bl	arm_sin_f32
 1861              	.LVL121:
 346:moudels/imu/ins_task.c ****     q[0] = cosPitch * cosRoll * cosYaw + sinPitch * sinRoll * sinYaw;
 1862              		.loc 1 346 5 is_stmt 1 view .LVU615
 1863              		.loc 1 346 21 is_stmt 0 view .LVU616
 1864 006c 68EE887A 		vmul.f32	s15, s17, s16
 1865              		.loc 1 346 31 view .LVU617
 1866 0070 67EE896A 		vmul.f32	s13, s15, s18
 1867              		.loc 1 346 51 view .LVU618
 1868 0074 2AEE007A 		vmul.f32	s14, s20, s0
 1869              		.loc 1 346 61 view .LVU619
 1870 0078 27EE296A 		vmul.f32	s12, s14, s19
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 45


 1871              		.loc 1 346 40 view .LVU620
 1872 007c 76EE866A 		vadd.f32	s13, s13, s12
 1873              		.loc 1 346 10 view .LVU621
 1874 0080 C4ED006A 		vstr.32	s13, [r4]
 347:moudels/imu/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1875              		.loc 1 347 5 is_stmt 1 view .LVU622
 1876              		.loc 1 347 21 is_stmt 0 view .LVU623
 1877 0084 28EE0A8A 		vmul.f32	s16, s16, s20
 1878              	.LVL122:
 1879              		.loc 1 347 31 view .LVU624
 1880 0088 68EE096A 		vmul.f32	s13, s16, s18
 1881              		.loc 1 347 51 view .LVU625
 1882 008c 68EE808A 		vmul.f32	s17, s17, s0
 1883              	.LVL123:
 1884              		.loc 1 347 61 view .LVU626
 1885 0090 28EEA96A 		vmul.f32	s12, s17, s19
 1886              		.loc 1 347 40 view .LVU627
 1887 0094 76EEC66A 		vsub.f32	s13, s13, s12
 1888              		.loc 1 347 10 view .LVU628
 1889 0098 C4ED016A 		vstr.32	s13, [r4, #4]
 348:moudels/imu/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1890              		.loc 1 348 5 is_stmt 1 view .LVU629
 1891              		.loc 1 348 31 is_stmt 0 view .LVU630
 1892 009c 28EE298A 		vmul.f32	s16, s16, s19
 1893              		.loc 1 348 61 view .LVU631
 1894 00a0 68EE898A 		vmul.f32	s17, s17, s18
 1895              		.loc 1 348 40 view .LVU632
 1896 00a4 38EE288A 		vadd.f32	s16, s16, s17
 1897              		.loc 1 348 10 view .LVU633
 1898 00a8 84ED028A 		vstr.32	s16, [r4, #8]
 349:moudels/imu/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 1899              		.loc 1 349 5 is_stmt 1 view .LVU634
 1900              		.loc 1 349 31 is_stmt 0 view .LVU635
 1901 00ac 67EEA97A 		vmul.f32	s15, s15, s19
 1902              		.loc 1 349 61 view .LVU636
 1903 00b0 27EE097A 		vmul.f32	s14, s14, s18
 1904              		.loc 1 349 40 view .LVU637
 1905 00b4 77EEC77A 		vsub.f32	s15, s15, s14
 1906              		.loc 1 349 10 view .LVU638
 1907 00b8 C4ED037A 		vstr.32	s15, [r4, #12]
 350:moudels/imu/ins_task.c **** }
 1908              		.loc 1 350 1 view .LVU639
 1909 00bc BDEC068B 		vldm	sp!, {d8-d10}
 1910              		.cfi_restore 84
 1911              		.cfi_restore 85
 1912              		.cfi_restore 82
 1913              		.cfi_restore 83
 1914              		.cfi_restore 80
 1915              		.cfi_restore 81
 1916              		.cfi_def_cfa_offset 8
 1917              	.LVL124:
 1918              		.loc 1 350 1 view .LVU640
 1919 00c0 10BD     		pop	{r4, pc}
 1920              	.LVL125:
 1921              	.L56:
 1922              		.loc 1 350 1 view .LVU641
 1923 00c2 00BF     		.align	2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 46


 1924              	.L55:
 1925 00c4 E12E6542 		.word	1113927393
 1926              		.cfi_endproc
 1927              	.LFE182:
 1929              		.section	.bss.c_33.0,"aw",%nobits
 1930              		.align	2
 1933              	c_33.0:
 1934 0000 00000000 		.space	4
 1935              		.section	.bss.c_32.1,"aw",%nobits
 1936              		.align	2
 1939              	c_32.1:
 1940 0000 00000000 		.space	4
 1941              		.section	.bss.c_31.2,"aw",%nobits
 1942              		.align	2
 1945              	c_31.2:
 1946 0000 00000000 		.space	4
 1947              		.section	.bss.c_23.3,"aw",%nobits
 1948              		.align	2
 1951              	c_23.3:
 1952 0000 00000000 		.space	4
 1953              		.section	.bss.c_22.4,"aw",%nobits
 1954              		.align	2
 1957              	c_22.4:
 1958 0000 00000000 		.space	4
 1959              		.section	.bss.c_21.5,"aw",%nobits
 1960              		.align	2
 1963              	c_21.5:
 1964 0000 00000000 		.space	4
 1965              		.section	.bss.c_13.6,"aw",%nobits
 1966              		.align	2
 1969              	c_13.6:
 1970 0000 00000000 		.space	4
 1971              		.section	.bss.c_12.7,"aw",%nobits
 1972              		.align	2
 1975              	c_12.7:
 1976 0000 00000000 		.space	4
 1977              		.section	.bss.c_11.8,"aw",%nobits
 1978              		.align	2
 1981              	c_11.8:
 1982 0000 00000000 		.space	4
 1983              		.section	.bss.lastRollOffset.9,"aw",%nobits
 1984              		.align	2
 1987              	lastRollOffset.9:
 1988 0000 00000000 		.space	4
 1989              		.section	.bss.lastPitchOffset.10,"aw",%nobits
 1990              		.align	2
 1993              	lastPitchOffset.10:
 1994 0000 00000000 		.space	4
 1995              		.section	.bss.lastYawOffset.11,"aw",%nobits
 1996              		.align	2
 1999              	lastYawOffset.11:
 2000 0000 00000000 		.space	4
 2001              		.section	.bss.count.12,"aw",%nobits
 2002              		.align	2
 2005              	count.12:
 2006 0000 00000000 		.space	4
 2007              		.section	.bss.t,"aw",%nobits
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 47


 2008              		.align	2
 2011              	t:
 2012 0000 00000000 		.space	4
 2013              		.section	.bss.dt,"aw",%nobits
 2014              		.align	2
 2017              	dt:
 2018 0000 00000000 		.space	4
 2019              		.section	.bss.INS_DWT_Count,"aw",%nobits
 2020              		.align	2
 2023              	INS_DWT_Count:
 2024 0000 00000000 		.space	4
 2025              		.global	zb
 2026              		.section	.rodata.zb,"a"
 2027              		.align	2
 2030              	zb:
 2031 0000 00000000 		.word	0
 2032 0004 00000000 		.word	0
 2033 0008 0000803F 		.word	1065353216
 2034              		.global	yb
 2035              		.section	.rodata.yb,"a"
 2036              		.align	2
 2039              	yb:
 2040 0000 00000000 		.word	0
 2041 0004 0000803F 		.word	1065353216
 2042 0008 00000000 		.word	0
 2043              		.global	xb
 2044              		.section	.rodata.xb,"a"
 2045              		.align	2
 2048              	xb:
 2049 0000 0000803F 		.word	1065353216
 2050 0004 00000000 		.word	0
 2051 0008 00000000 		.word	0
 2052              		.section	.bss.TempCtrl,"aw",%nobits
 2053              		.align	3
 2056              	TempCtrl:
 2057 0000 00000000 		.space	120
 2057      00000000 
 2057      00000000 
 2057      00000000 
 2057      00000000 
 2058              		.section	.bss.IMU_Param,"aw",%nobits
 2059              		.align	2
 2062              	IMU_Param:
 2063 0000 00000000 		.space	28
 2063      00000000 
 2063      00000000 
 2063      00000000 
 2063      00000000 
 2064              		.global	INS
 2065              		.section	.bss.INS,"aw",%nobits
 2066              		.align	2
 2069              	INS:
 2070 0000 00000000 		.space	124
 2070      00000000 
 2070      00000000 
 2070      00000000 
 2070      00000000 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 48


 2071              		.text
 2072              	.Letext0:
 2073              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 2074              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 2075              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 2076              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2077              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 2078              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 2079              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 2080              		.file 9 "moudels/imu/BMI088driver.h"
 2081              		.file 10 "Middlewares/ST/ARM/DSP/Inc/arm_math.h"
 2082              		.file 11 "moudels/algorithm/kalman_filter.h"
 2083              		.file 12 "moudels/algorithm/QuaternionEKF.h"
 2084              		.file 13 "moudels/imu/ins_task.h"
 2085              		.file 14 "moudels/algorithm/controller.h"
 2086              		.file 15 "Core/Inc/spi.h"
 2087              		.file 16 "Core/Inc/tim.h"
 2088              		.file 17 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 2089              		.file 18 "moudels/algorithm/user_lib.h"
 2090              		.file 19 "bsp/dwt/bsp_dwt.h"
 2091              		.file 20 "<built-in>"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 49


DEFINED SYMBOLS
                            *ABS*:00000000 ins_task.c
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:21     .text.IMUPWMSet:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:26     .text.IMUPWMSet:00000000 IMUPWMSet
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:43     .text.IMUPWMSet:00000008 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:48     .text.InitQuaternion:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:53     .text.InitQuaternion:00000000 InitQuaternion
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:254    .text.InitQuaternion:000000fc $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:261    .text.IMU_Param_Correction:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:266    .text.IMU_Param_Correction:00000000 IMU_Param_Correction
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:688    .text.IMU_Param_Correction:00000290 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1999   .bss.lastYawOffset.11:00000000 lastYawOffset.11
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1993   .bss.lastPitchOffset.10:00000000 lastPitchOffset.10
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1987   .bss.lastRollOffset.9:00000000 lastRollOffset.9
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1981   .bss.c_11.8:00000000 c_11.8
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1975   .bss.c_12.7:00000000 c_12.7
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1969   .bss.c_13.6:00000000 c_13.6
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1963   .bss.c_21.5:00000000 c_21.5
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1957   .bss.c_22.4:00000000 c_22.4
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1951   .bss.c_23.3:00000000 c_23.3
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1945   .bss.c_31.2:00000000 c_31.2
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1939   .bss.c_32.1:00000000 c_32.1
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1933   .bss.c_33.0:00000000 c_33.0
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:706    .text.IMU_Temperature_Ctrl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:711    .text.IMU_Temperature_Ctrl:00000000 IMU_Temperature_Ctrl
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:752    .text.IMU_Temperature_Ctrl:00000040 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2056   .bss.TempCtrl:00000000 TempCtrl
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:761    .text.INS_Init:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:767    .text.INS_Init:00000000 INS_Init
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:905    .text.INS_Init:000000bc $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2069   .bss.INS:00000000 INS
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2062   .bss.IMU_Param:00000000 IMU_Param
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2023   .bss.INS_DWT_Count:00000000 INS_DWT_Count
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:924    .text.BodyFrameToEarthFrame:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:930    .text.BodyFrameToEarthFrame:00000000 BodyFrameToEarthFrame
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1092   .text.EarthFrameToBodyFrame:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1098   .text.EarthFrameToBodyFrame:00000000 EarthFrameToBodyFrame
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1260   .text.INS_Task:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1266   .text.INS_Task:00000000 INS_Task
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1498   .text.INS_Task:0000014c $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2017   .bss.dt:00000000 dt
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2011   .bss.t:00000000 t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2048   .rodata.xb:00000000 xb
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2039   .rodata.yb:00000000 yb
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2030   .rodata.zb:00000000 zb
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2005   .bss.count.12:00000000 count.12
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1515   .text.QuaternionUpdate:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1521   .text.QuaternionUpdate:00000000 QuaternionUpdate
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1625   .text.QuaternionToEularAngle:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1631   .text.QuaternionToEularAngle:00000000 QuaternionToEularAngle
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1755   .text.QuaternionToEularAngle:000000c8 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1760   .text.EularAngleToQuaternion:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1766   .text.EularAngleToQuaternion:00000000 EularAngleToQuaternion
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1925   .text.EularAngleToQuaternion:000000c4 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1930   .bss.c_33.0:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1936   .bss.c_32.1:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1942   .bss.c_31.2:00000000 $d
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s 			page 50


C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1948   .bss.c_23.3:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1954   .bss.c_22.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1960   .bss.c_21.5:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1966   .bss.c_13.6:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1972   .bss.c_12.7:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1978   .bss.c_11.8:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1984   .bss.lastRollOffset.9:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1990   .bss.lastPitchOffset.10:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:1996   .bss.lastYawOffset.11:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2002   .bss.count.12:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2008   .bss.t:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2014   .bss.dt:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2020   .bss.INS_DWT_Count:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2027   .rodata.zb:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2036   .rodata.yb:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2045   .rodata.xb:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2053   .bss.TempCtrl:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2059   .bss.IMU_Param:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cczNjNbb.s:2066   .bss.INS:00000000 $d

UNDEFINED SYMBOLS
htim10
BMI088_Read
DWT_Delay
Norm3d
Dot3d
acosf
Cross3d
cosf
sinf
BMI088
arm_cos_f32
arm_sin_f32
PIDCalculate
float_rounding
float_constrain
HAL_TIM_PWM_Start
BMI088Init
IMU_QuaternionEKF_Init
memset
PIDInit
DWT_GetDeltaT
hspi1
IMU_QuaternionEKF_Update
QEKF_INS
atan2f
asinf
