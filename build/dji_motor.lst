ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"dji_motor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "moudels/motor/DJImotor/dji_motor.c"
  20              		.section	.text.MotorSenderGrouping,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MotorSenderGrouping:
  27              	.LVL0:
  28              	.LFB137:
   1:moudels/motor/DJImotor/dji_motor.c **** #include "dji_motor.h"
   2:moudels/motor/DJImotor/dji_motor.c **** #include "general_def.h"
   3:moudels/motor/DJImotor/dji_motor.c **** #include "bsp_dwt.h"
   4:moudels/motor/DJImotor/dji_motor.c **** #include "bsp_log.h"
   5:moudels/motor/DJImotor/dji_motor.c **** #include "daemon.h"
   6:moudels/motor/DJImotor/dji_motor.c **** static uint8_t idx = 0; // register idx,ÊòØËØ•Êñá‰ª∂ÁöÑÂÖ®Â±ÄÁîµÊú∫Á¥¢Âºï,Âú®Ê≥®ÂÜåÊó∂‰ΩøÁî®
   7:moudels/motor/DJImotor/dji_motor.c **** /* DJIÁîµÊú∫ÁöÑÂÆû‰æã,Ê≠§Â§Ñ‰ªÖ‰øùÂ≠òÊåáÈíà,ÂÜÖÂ≠òÁöÑÂàÜÈÖçÂ∞ÜÈÄöËøáÁîµÊú∫ÂÆû‰æãÂàùÂßãÂåñÊó∂ÈÄöËøám
   8:moudels/motor/DJImotor/dji_motor.c **** static DJIMotorInstance *dji_motor_instance[DJI_MOTOR_CNT] = {NULL}; // ‰ºöÂú®control‰ªªÂä°‰∏≠ÈÅçÂé
   9:moudels/motor/DJImotor/dji_motor.c **** 
  10:moudels/motor/DJImotor/dji_motor.c **** /**
  11:moudels/motor/DJImotor/dji_motor.c ****  * @brief Áî±‰∫éDJIÁîµÊú∫ÂèëÈÄÅ‰ª•Âõõ‰∏™‰∏ÄÁªÑÁöÑÂΩ¢ÂºèËøõË°å,ÊïÖÂØπÂÖ∂ËøõË°åÁâπÊÆäÂ§ÑÁêÜ,Áî®6‰∏™(2
  12:moudels/motor/DJImotor/dji_motor.c ****  *        ËØ•ÂèòÈáèÂ∞ÜÂú® DJIMotorControl() ‰∏≠‰ΩøÁî®,ÂàÜÁªÑÂú® MotorSenderGrouping()‰∏≠ËøõË°å
  13:moudels/motor/DJImotor/dji_motor.c ****  *
  14:moudels/motor/DJImotor/dji_motor.c ****  * @note  Âõ†‰∏∫Âè™Áî®‰∫éÂèëÈÄÅ,ÊâÄ‰ª•‰∏çÈúÄË¶ÅÂú®bsp_can‰∏≠Ê≥®ÂÜå
  15:moudels/motor/DJImotor/dji_motor.c ****  *
  16:moudels/motor/DJImotor/dji_motor.c ****  * C610(m2006)/C620(m3508):0x1ff,0x200;
  17:moudels/motor/DJImotor/dji_motor.c ****  * GM6020:0x1ff,0x2ff
  18:moudels/motor/DJImotor/dji_motor.c ****  * ÂèçÈ¶à(rx_id): GM6020: 0x204+id ; C610/C620: 0x200+id
  19:moudels/motor/DJImotor/dji_motor.c ****  * can1: [0]:0x1FF,[1]:0x200,[2]:0x2FF
  20:moudels/motor/DJImotor/dji_motor.c ****  * can2: [3]:0x1FF,[4]:0x200,[5]:0x2FF
  21:moudels/motor/DJImotor/dji_motor.c ****  */
  22:moudels/motor/DJImotor/dji_motor.c **** static CANInstance sender_assignment[6] = {
  23:moudels/motor/DJImotor/dji_motor.c ****     [0] = {.can_handle = &hcan1, .txconf.StdId = 0x1ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  24:moudels/motor/DJImotor/dji_motor.c ****     [1] = {.can_handle = &hcan1, .txconf.StdId = 0x200, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  25:moudels/motor/DJImotor/dji_motor.c ****     [2] = {.can_handle = &hcan1, .txconf.StdId = 0x2ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  26:moudels/motor/DJImotor/dji_motor.c ****     [3] = {.can_handle = &hcan2, .txconf.StdId = 0x1ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  27:moudels/motor/DJImotor/dji_motor.c ****     [4] = {.can_handle = &hcan2, .txconf.StdId = 0x200, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  28:moudels/motor/DJImotor/dji_motor.c ****     [5] = {.can_handle = &hcan2, .txconf.StdId = 0x2ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  29:moudels/motor/DJImotor/dji_motor.c **** };
  30:moudels/motor/DJImotor/dji_motor.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 2


  31:moudels/motor/DJImotor/dji_motor.c **** /**
  32:moudels/motor/DJImotor/dji_motor.c ****  * @brief 6‰∏™Áî®‰∫éÁ°ÆËÆ§ÊòØÂê¶ÊúâÁîµÊú∫Ê≥®ÂÜåÂà∞sender_assignment‰∏≠ÁöÑÊ†áÂøó‰Ωç,Èò≤Ê≠¢ÂèëÈÄÅÁ©∫Â
  33:moudels/motor/DJImotor/dji_motor.c ****  *        flagÁöÑÂàùÂßãÂåñÂú® MotorSenderGrouping()‰∏≠ËøõË°å
  34:moudels/motor/DJImotor/dji_motor.c ****  */
  35:moudels/motor/DJImotor/dji_motor.c **** static uint8_t sender_enable_flag[6] = {0};
  36:moudels/motor/DJImotor/dji_motor.c **** 
  37:moudels/motor/DJImotor/dji_motor.c **** /**
  38:moudels/motor/DJImotor/dji_motor.c ****  * @brief Ê†πÊçÆÁîµË∞É/Êã®Á†ÅÂºÄÂÖ≥‰∏äÁöÑID,Ê†πÊçÆËØ¥Êòé‰π¶ÁöÑÈªòËÆ§idÂàÜÈÖçÊñπÂºèËÆ°ÁÆóÂèëÈÄÅIDÂíå
  39:moudels/motor/DJImotor/dji_motor.c ****  *        Âπ∂ÂØπÁîµÊú∫ËøõË°åÂàÜÁªÑ‰ª•‰æøÂ§ÑÁêÜÂ§öÁîµÊú∫ÊéßÂà∂ÂëΩ‰ª§
  40:moudels/motor/DJImotor/dji_motor.c ****  */
  41:moudels/motor/DJImotor/dji_motor.c **** static void MotorSenderGrouping(DJIMotorInstance *motor, CAN_Init_Config_s *config)
  42:moudels/motor/DJImotor/dji_motor.c **** {
  29              		.loc 1 42 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 42 1 is_stmt 0 view .LVU1
  35 0000 30B4     		push	{r4, r5}
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 5, -4
  43:moudels/motor/DJImotor/dji_motor.c ****     uint8_t motor_id = config->tx_id - 1; // ‰∏ãÊ†á‰ªéÈõ∂ÂºÄÂßã,ÂÖàÂáè‰∏ÄÊñπ‰æøËµãÂÄº
  39              		.loc 1 43 5 is_stmt 1 view .LVU2
  40              		.loc 1 43 38 is_stmt 0 view .LVU3
  41 0002 91F804C0 		ldrb	ip, [r1, #4]	@ zero_extendqisi2
  42              		.loc 1 43 13 view .LVU4
  43 0006 0CF1FF33 		add	r3, ip, #-1
  44 000a DBB2     		uxtb	r3, r3
  45              	.LVL1:
  44:moudels/motor/DJImotor/dji_motor.c ****     uint8_t motor_send_num;
  46              		.loc 1 44 5 is_stmt 1 view .LVU5
  45:moudels/motor/DJImotor/dji_motor.c ****     uint8_t motor_grouping;
  47              		.loc 1 45 5 view .LVU6
  46:moudels/motor/DJImotor/dji_motor.c **** 
  47:moudels/motor/DJImotor/dji_motor.c ****     switch (motor->motor_type)
  48              		.loc 1 47 5 view .LVU7
  49              		.loc 1 47 18 is_stmt 0 view .LVU8
  50 000c 90F8AE21 		ldrb	r2, [r0, #430]	@ zero_extendqisi2
  51              		.loc 1 47 5 view .LVU9
  52 0010 012A     		cmp	r2, #1
  53 0012 3ED0     		beq	.L2
  54 0014 54B2     		sxtb	r4, r2
  55 0016 002C     		cmp	r4, #0
  56 0018 73D0     		beq	.L3
  57 001a 023A     		subs	r2, r2, #2
  58 001c D2B2     		uxtb	r2, r2
  59 001e 012A     		cmp	r2, #1
  60 0020 6FD8     		bhi	.L3
  48:moudels/motor/DJImotor/dji_motor.c ****     {
  49:moudels/motor/DJImotor/dji_motor.c ****     case M2006:
  50:moudels/motor/DJImotor/dji_motor.c ****     case M3508:
  51:moudels/motor/DJImotor/dji_motor.c ****         if (motor_id < 4) // Ê†πÊçÆIDÂàÜÁªÑ
  61              		.loc 1 51 9 is_stmt 1 view .LVU10
  62              		.loc 1 51 12 is_stmt 0 view .LVU11
  63 0022 032B     		cmp	r3, #3
  64 0024 16D8     		bhi	.L4
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 3


  52:moudels/motor/DJImotor/dji_motor.c ****         {
  53:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id;
  65              		.loc 1 53 13 is_stmt 1 view .LVU12
  66              	.LVL2:
  54:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 1 : 4;
  67              		.loc 1 54 13 view .LVU13
  68              		.loc 1 54 36 is_stmt 0 view .LVU14
  69 0026 0C68     		ldr	r4, [r1]
  70              		.loc 1 54 28 view .LVU15
  71 0028 374A     		ldr	r2, .L26
  72 002a 9442     		cmp	r4, r2
  73 002c 0FD0     		beq	.L22
  53:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 1 : 4;
  74              		.loc 1 53 28 view .LVU16
  75 002e 1A46     		mov	r2, r3
  76              		.loc 1 54 28 discriminator 2 view .LVU17
  77 0030 0424     		movs	r4, #4
  78              	.LVL3:
  79              	.L5:
  55:moudels/motor/DJImotor/dji_motor.c ****         }
  56:moudels/motor/DJImotor/dji_motor.c ****         else
  57:moudels/motor/DJImotor/dji_motor.c ****         {
  58:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id - 4;
  59:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
  60:moudels/motor/DJImotor/dji_motor.c ****         }
  61:moudels/motor/DJImotor/dji_motor.c **** 
  62:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆóÊé•Êî∂idÂπ∂ËÆæÁΩÆÂàÜÁªÑÂèëÈÄÅid
  63:moudels/motor/DJImotor/dji_motor.c ****         config->rx_id = 0x200 + motor_id + 1;   // ÊääID+1,ËøõË°åÂàÜÁªÑËÆæÁΩÆ
  80              		.loc 1 63 9 is_stmt 1 view .LVU18
  81              		.loc 1 63 42 is_stmt 0 view .LVU19
  82 0032 03F20123 		addw	r3, r3, #513
  83              	.LVL4:
  84              		.loc 1 63 23 view .LVU20
  85 0036 8B60     		str	r3, [r1, #8]
  64:moudels/motor/DJImotor/dji_motor.c ****         sender_enable_flag[motor_grouping] = 1; // ËÆæÁΩÆÂèëÈÄÅÊ†áÂøó‰Ωç,Èò≤Ê≠¢ÂèëÈÄÅÁ©∫Â∏ß
  86              		.loc 1 64 9 is_stmt 1 view .LVU21
  87              		.loc 1 64 44 is_stmt 0 view .LVU22
  88 0038 344B     		ldr	r3, .L26+4
  89              	.LVL5:
  90              		.loc 1 64 44 view .LVU23
  91 003a 4FF0010C 		mov	ip, #1
  92 003e 03F804C0 		strb	ip, [r3, r4]
  65:moudels/motor/DJImotor/dji_motor.c ****         motor->message_num = motor_send_num;
  93              		.loc 1 65 9 is_stmt 1 view .LVU24
  94              		.loc 1 65 28 is_stmt 0 view .LVU25
  95 0042 80F8AD21 		strb	r2, [r0, #429]
  96              	.LVL6:
  66:moudels/motor/DJImotor/dji_motor.c ****         motor->sender_group = motor_grouping;
  97              		.loc 1 66 9 is_stmt 1 view .LVU26
  98              		.loc 1 66 29 is_stmt 0 view .LVU27
  99 0046 80F8AC41 		strb	r4, [r0, #428]
  67:moudels/motor/DJImotor/dji_motor.c **** 
  68:moudels/motor/DJImotor/dji_motor.c ****         // Ê£ÄÊü•ÊòØÂê¶ÂèëÁîüidÂÜ≤Á™Å
  69:moudels/motor/DJImotor/dji_motor.c ****         for (size_t i = 0; i < idx; ++i)
 100              		.loc 1 69 9 is_stmt 1 view .LVU28
 101              	.LBB2:
 102              		.loc 1 69 14 view .LVU29
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 4


 103              	.LVL7:
 104              		.loc 1 69 21 is_stmt 0 view .LVU30
 105 004a 0023     		movs	r3, #0
 106              		.loc 1 69 9 view .LVU31
 107 004c 0EE0     		b	.L6
 108              	.LVL8:
 109              	.L22:
 110              		.loc 1 69 9 view .LVU32
 111              	.LBE2:
  53:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 1 : 4;
 112              		.loc 1 53 28 view .LVU33
 113 004e 1A46     		mov	r2, r3
  54:moudels/motor/DJImotor/dji_motor.c ****         }
 114              		.loc 1 54 28 discriminator 1 view .LVU34
 115 0050 0124     		movs	r4, #1
 116 0052 EEE7     		b	.L5
 117              	.LVL9:
 118              	.L4:
  58:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 119              		.loc 1 58 13 is_stmt 1 view .LVU35
  58:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 120              		.loc 1 58 28 is_stmt 0 view .LVU36
 121 0054 ACF10502 		sub	r2, ip, #5
 122 0058 D2B2     		uxtb	r2, r2
 123              	.LVL10:
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 124              		.loc 1 59 13 is_stmt 1 view .LVU37
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 125              		.loc 1 59 28 is_stmt 0 view .LVU38
 126 005a 2B4C     		ldr	r4, .L26
 127 005c 0D68     		ldr	r5, [r1]
 128 005e A542     		cmp	r5, r4
 129 0060 01D0     		beq	.L23
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 130              		.loc 1 59 28 discriminator 2 view .LVU39
 131 0062 0324     		movs	r4, #3
 132 0064 E5E7     		b	.L5
 133              	.L23:
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 134              		.loc 1 59 28 discriminator 1 view .LVU40
 135 0066 0024     		movs	r4, #0
 136 0068 E3E7     		b	.L5
 137              	.LVL11:
 138              	.L7:
 139              	.LBB3:
 140              		.loc 1 69 37 is_stmt 1 discriminator 2 view .LVU41
 141 006a 0133     		adds	r3, r3, #1
 142              	.LVL12:
 143              	.L6:
 144              		.loc 1 69 30 discriminator 1 view .LVU42
 145 006c 284A     		ldr	r2, .L26+8
 146 006e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 147 0070 9A42     		cmp	r2, r3
 148 0072 47D9     		bls	.L1
  70:moudels/motor/DJImotor/dji_motor.c ****         {
  71:moudels/motor/DJImotor/dji_motor.c ****             if (dji_motor_instance[i]->motor_can_instance->can_handle == config->can_handle && dji_
 149              		.loc 1 71 13 view .LVU43
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 5


 150              		.loc 1 71 35 is_stmt 0 view .LVU44
 151 0074 274A     		ldr	r2, .L26+12
 152 0076 52F82320 		ldr	r2, [r2, r3, lsl #2]
 153              		.loc 1 71 38 view .LVU45
 154 007a D2F8A821 		ldr	r2, [r2, #424]
 155              		.loc 1 71 58 view .LVU46
 156 007e D2F800C0 		ldr	ip, [r2]	@ unaligned
 157              		.loc 1 71 80 view .LVU47
 158 0082 0868     		ldr	r0, [r1]
 159              		.loc 1 71 16 view .LVU48
 160 0084 8445     		cmp	ip, r0
 161 0086 F0D1     		bne	.L7
 162              		.loc 1 71 137 discriminator 1 view .LVU49
 163 0088 506B     		ldr	r0, [r2, #52]	@ unaligned
 164              		.loc 1 71 154 discriminator 1 view .LVU50
 165 008a 8A68     		ldr	r2, [r1, #8]
 166              		.loc 1 71 93 discriminator 1 view .LVU51
 167 008c 9042     		cmp	r0, r2
 168 008e ECD1     		bne	.L7
 169              	.L8:
 170              	.LBE3:
  72:moudels/motor/DJImotor/dji_motor.c ****             {
  73:moudels/motor/DJImotor/dji_motor.c ****                 LOGERROR("[dji_motor] ID crash. Check in debug mode, add dji_motor_instance to watc
  74:moudels/motor/DJImotor/dji_motor.c ****                 uint16_t can_bus = config->can_handle == &hcan1 ? 1 : 2;
  75:moudels/motor/DJImotor/dji_motor.c ****                 while (1) // 6020ÁöÑid 1-4Âíå2006/3508ÁöÑid 5-8‰ºöÂèëÁîüÂÜ≤Á™Å(Ëã•ÊúâÊ≥®ÂÜå,Âç≥1!5,
 171              		.loc 1 75 17 is_stmt 1 view .LVU52
 172              		.loc 1 75 23 view .LVU53
 173 0090 FEE7     		b	.L8
 174              	.LVL13:
 175              	.L2:
  76:moudels/motor/DJImotor/dji_motor.c ****                     LOGERROR("[dji_motor] id [%d], can_bus [%d]", config->rx_id, can_bus);
  77:moudels/motor/DJImotor/dji_motor.c ****             }
  78:moudels/motor/DJImotor/dji_motor.c ****         }
  79:moudels/motor/DJImotor/dji_motor.c ****         break;
  80:moudels/motor/DJImotor/dji_motor.c **** 
  81:moudels/motor/DJImotor/dji_motor.c ****     case GM6020:
  82:moudels/motor/DJImotor/dji_motor.c ****         if (motor_id < 4)
 176              		.loc 1 82 9 view .LVU54
 177              		.loc 1 82 12 is_stmt 0 view .LVU55
 178 0092 032B     		cmp	r3, #3
 179 0094 16D8     		bhi	.L11
  83:moudels/motor/DJImotor/dji_motor.c ****         {
  84:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id;
 180              		.loc 1 84 13 is_stmt 1 view .LVU56
 181              	.LVL14:
  85:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 182              		.loc 1 85 13 view .LVU57
 183              		.loc 1 85 36 is_stmt 0 view .LVU58
 184 0096 0C68     		ldr	r4, [r1]
 185              		.loc 1 85 28 view .LVU59
 186 0098 1B4A     		ldr	r2, .L26
 187 009a 9442     		cmp	r4, r2
 188 009c 0FD0     		beq	.L24
  84:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 189              		.loc 1 84 28 view .LVU60
 190 009e 1A46     		mov	r2, r3
 191              		.loc 1 85 28 discriminator 2 view .LVU61
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 6


 192 00a0 0324     		movs	r4, #3
 193              	.LVL15:
 194              	.L12:
  86:moudels/motor/DJImotor/dji_motor.c ****         }
  87:moudels/motor/DJImotor/dji_motor.c ****         else
  88:moudels/motor/DJImotor/dji_motor.c ****         {
  89:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id - 4;
  90:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 2 : 5;
  91:moudels/motor/DJImotor/dji_motor.c ****         }
  92:moudels/motor/DJImotor/dji_motor.c **** 
  93:moudels/motor/DJImotor/dji_motor.c ****         config->rx_id = 0x204 + motor_id + 1;   // ÊääID+1,ËøõË°åÂàÜÁªÑËÆæÁΩÆ
 195              		.loc 1 93 9 is_stmt 1 view .LVU62
 196              		.loc 1 93 42 is_stmt 0 view .LVU63
 197 00a2 03F20523 		addw	r3, r3, #517
 198              	.LVL16:
 199              		.loc 1 93 23 view .LVU64
 200 00a6 8B60     		str	r3, [r1, #8]
  94:moudels/motor/DJImotor/dji_motor.c ****         sender_enable_flag[motor_grouping] = 1; // Âè™Ë¶ÅÊúâÁîµÊú∫Ê≥®ÂÜåÂà∞Ëøô‰∏™ÂàÜÁªÑ,ÁΩÆ‰∏∫1;Âú®
 201              		.loc 1 94 9 is_stmt 1 view .LVU65
 202              		.loc 1 94 44 is_stmt 0 view .LVU66
 203 00a8 184B     		ldr	r3, .L26+4
 204              	.LVL17:
 205              		.loc 1 94 44 view .LVU67
 206 00aa 4FF0010C 		mov	ip, #1
 207 00ae 03F804C0 		strb	ip, [r3, r4]
  95:moudels/motor/DJImotor/dji_motor.c ****         motor->message_num = motor_send_num;
 208              		.loc 1 95 9 is_stmt 1 view .LVU68
 209              		.loc 1 95 28 is_stmt 0 view .LVU69
 210 00b2 80F8AD21 		strb	r2, [r0, #429]
 211              	.LVL18:
  96:moudels/motor/DJImotor/dji_motor.c ****         motor->sender_group = motor_grouping;
 212              		.loc 1 96 9 is_stmt 1 view .LVU70
 213              		.loc 1 96 29 is_stmt 0 view .LVU71
 214 00b6 80F8AC41 		strb	r4, [r0, #428]
  97:moudels/motor/DJImotor/dji_motor.c **** 
  98:moudels/motor/DJImotor/dji_motor.c ****         for (size_t i = 0; i < idx; ++i)
 215              		.loc 1 98 9 is_stmt 1 view .LVU72
 216              	.LBB4:
 217              		.loc 1 98 14 view .LVU73
 218              	.LVL19:
 219              		.loc 1 98 21 is_stmt 0 view .LVU74
 220 00ba 0023     		movs	r3, #0
 221              		.loc 1 98 9 view .LVU75
 222 00bc 0EE0     		b	.L13
 223              	.LVL20:
 224              	.L24:
 225              		.loc 1 98 9 view .LVU76
 226              	.LBE4:
  84:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 227              		.loc 1 84 28 view .LVU77
 228 00be 1A46     		mov	r2, r3
  85:moudels/motor/DJImotor/dji_motor.c ****         }
 229              		.loc 1 85 28 discriminator 1 view .LVU78
 230 00c0 0024     		movs	r4, #0
 231 00c2 EEE7     		b	.L12
 232              	.LVL21:
 233              	.L11:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 7


  89:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 2 : 5;
 234              		.loc 1 89 13 is_stmt 1 view .LVU79
  89:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 2 : 5;
 235              		.loc 1 89 28 is_stmt 0 view .LVU80
 236 00c4 ACF10502 		sub	r2, ip, #5
 237 00c8 D2B2     		uxtb	r2, r2
 238              	.LVL22:
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 239              		.loc 1 90 13 is_stmt 1 view .LVU81
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 240              		.loc 1 90 28 is_stmt 0 view .LVU82
 241 00ca 0F4C     		ldr	r4, .L26
 242 00cc 0D68     		ldr	r5, [r1]
 243 00ce A542     		cmp	r5, r4
 244 00d0 01D0     		beq	.L25
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 245              		.loc 1 90 28 discriminator 2 view .LVU83
 246 00d2 0524     		movs	r4, #5
 247 00d4 E5E7     		b	.L12
 248              	.L25:
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 249              		.loc 1 90 28 discriminator 1 view .LVU84
 250 00d6 0224     		movs	r4, #2
 251 00d8 E3E7     		b	.L12
 252              	.LVL23:
 253              	.L14:
 254              	.LBB5:
 255              		.loc 1 98 37 is_stmt 1 discriminator 2 view .LVU85
 256 00da 0133     		adds	r3, r3, #1
 257              	.LVL24:
 258              	.L13:
 259              		.loc 1 98 30 discriminator 1 view .LVU86
 260 00dc 0C4A     		ldr	r2, .L26+8
 261 00de 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 262 00e0 9A42     		cmp	r2, r3
 263 00e2 0FD9     		bls	.L1
  99:moudels/motor/DJImotor/dji_motor.c ****         {
 100:moudels/motor/DJImotor/dji_motor.c ****             if (dji_motor_instance[i]->motor_can_instance->can_handle == config->can_handle && dji_
 264              		.loc 1 100 13 view .LVU87
 265              		.loc 1 100 35 is_stmt 0 view .LVU88
 266 00e4 0B4A     		ldr	r2, .L26+12
 267 00e6 52F82320 		ldr	r2, [r2, r3, lsl #2]
 268              		.loc 1 100 38 view .LVU89
 269 00ea D2F8A821 		ldr	r2, [r2, #424]
 270              		.loc 1 100 58 view .LVU90
 271 00ee D2F800C0 		ldr	ip, [r2]	@ unaligned
 272              		.loc 1 100 80 view .LVU91
 273 00f2 0868     		ldr	r0, [r1]
 274              		.loc 1 100 16 view .LVU92
 275 00f4 8445     		cmp	ip, r0
 276 00f6 F0D1     		bne	.L14
 277              		.loc 1 100 137 discriminator 1 view .LVU93
 278 00f8 506B     		ldr	r0, [r2, #52]	@ unaligned
 279              		.loc 1 100 154 discriminator 1 view .LVU94
 280 00fa 8A68     		ldr	r2, [r1, #8]
 281              		.loc 1 100 93 discriminator 1 view .LVU95
 282 00fc 9042     		cmp	r0, r2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 8


 283 00fe ECD1     		bne	.L14
 284              	.L15:
 285              	.LBE5:
 101:moudels/motor/DJImotor/dji_motor.c ****             {
 102:moudels/motor/DJImotor/dji_motor.c ****                 LOGERROR("[dji_motor] ID crash. Check in debug mode, add dji_motor_instance to watc
 103:moudels/motor/DJImotor/dji_motor.c ****                 uint16_t can_bus = config->can_handle == &hcan1 ? 1 : 2;
 104:moudels/motor/DJImotor/dji_motor.c ****                 while (1) // 6020ÁöÑid 1-4Âíå2006/3508ÁöÑid 5-8‰ºöÂèëÁîüÂÜ≤Á™Å(Ëã•ÊúâÊ≥®ÂÜå,Âç≥1!5,
 286              		.loc 1 104 17 is_stmt 1 view .LVU96
 287              		.loc 1 104 23 view .LVU97
 288 0100 FEE7     		b	.L15
 289              	.LVL25:
 290              	.L3:
 105:moudels/motor/DJImotor/dji_motor.c ****                     LOGERROR("[dji_motor] id [%d], can  _bus [%d]", config->rx_id, can_bus);
 106:moudels/motor/DJImotor/dji_motor.c ****             }
 107:moudels/motor/DJImotor/dji_motor.c ****         }
 108:moudels/motor/DJImotor/dji_motor.c ****         break;
 109:moudels/motor/DJImotor/dji_motor.c **** 
 110:moudels/motor/DJImotor/dji_motor.c ****     default: // other motors should not be registered here
 111:moudels/motor/DJImotor/dji_motor.c ****         while (1)
 291              		.loc 1 111 9 view .LVU98
 292              		.loc 1 111 15 view .LVU99
 293 0102 FEE7     		b	.L3
 294              	.LVL26:
 295              	.L1:
 112:moudels/motor/DJImotor/dji_motor.c ****             LOGERROR("[dji_motor]You must not register other motors using the API of DJI motor."); 
 113:moudels/motor/DJImotor/dji_motor.c ****     }
 114:moudels/motor/DJImotor/dji_motor.c **** }
 296              		.loc 1 114 1 is_stmt 0 view .LVU100
 297 0104 30BC     		pop	{r4, r5}
 298              		.cfi_restore 5
 299              		.cfi_restore 4
 300              		.cfi_def_cfa_offset 0
 301              	.LVL27:
 302              		.loc 1 114 1 view .LVU101
 303 0106 7047     		bx	lr
 304              	.L27:
 305              		.align	2
 306              	.L26:
 307 0108 00000000 		.word	hcan1
 308 010c 00000000 		.word	sender_enable_flag
 309 0110 00000000 		.word	idx
 310 0114 00000000 		.word	dji_motor_instance
 311              		.cfi_endproc
 312              	.LFE137:
 314              		.section	.text.DJIMotorLostCallback,"ax",%progbits
 315              		.align	1
 316              		.syntax unified
 317              		.thumb
 318              		.thumb_func
 320              	DJIMotorLostCallback:
 321              	.LVL28:
 322              	.LFB139:
 115:moudels/motor/DJImotor/dji_motor.c **** 
 116:moudels/motor/DJImotor/dji_motor.c **** /**
 117:moudels/motor/DJImotor/dji_motor.c ****  * @todo  ÊòØÂê¶ÂèØ‰ª•ÁÆÄÂåñÂ§öÂúàËßíÂ∫¶ÁöÑËÆ°ÁÆóÔºü
 118:moudels/motor/DJImotor/dji_motor.c ****  * @brief Ê†πÊçÆËøîÂõûÁöÑcan_instanceÂØπÂèçÈ¶àÊä•ÊñáËøõË°åËß£Êûê
 119:moudels/motor/DJImotor/dji_motor.c ****  *
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 9


 120:moudels/motor/DJImotor/dji_motor.c ****  * @param _instance Êî∂Âà∞Êï∞ÊçÆÁöÑinstance,ÈÄöËøáÈÅçÂéÜ‰∏éÊâÄÊúâÁîµÊú∫ËøõË°åÂØπÊØî‰ª•ÈÄâÊã©Ê≠£Á°ÆÁ
 121:moudels/motor/DJImotor/dji_motor.c ****  */
 122:moudels/motor/DJImotor/dji_motor.c **** static void DecodeDJIMotor(CANInstance *_instance)
 123:moudels/motor/DJImotor/dji_motor.c **** {
 124:moudels/motor/DJImotor/dji_motor.c ****     // ËøôÈáåÂØπcan instanceÁöÑidËøõË°å‰∫ÜÂº∫Âà∂ËΩ¨Êç¢,‰ªéËÄåËé∑ÂæóÁîµÊú∫ÁöÑinstanceÂÆû‰æãÂú∞ÂùÄ
 125:moudels/motor/DJImotor/dji_motor.c ****     // _instanceÊåáÈíàÊåáÂêëÁöÑidÊòØÂØπÂ∫îÁîµÊú∫instanceÁöÑÂú∞ÂùÄ,ÈÄöËøáÂº∫Âà∂ËΩ¨Êç¢‰∏∫ÁîµÊú∫instan
 126:moudels/motor/DJImotor/dji_motor.c ****     uint8_t *rxbuff = _instance->rx_buff;
 127:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)_instance->id;
 128:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆø
 129:moudels/motor/DJImotor/dji_motor.c **** 
 130:moudels/motor/DJImotor/dji_motor.c ****     // DaemonReload(motor->daemon);----ÂñÇÁãó
 131:moudels/motor/DJImotor/dji_motor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
 132:moudels/motor/DJImotor/dji_motor.c **** 
 133:moudels/motor/DJImotor/dji_motor.c ****     // Ëß£ÊûêÊï∞ÊçÆÂπ∂ÂØπÁîµÊµÅÂíåÈÄüÂ∫¶ËøõË°åÊª§Ê≥¢,ÁîµÊú∫ÁöÑÂèçÈ¶àÊä•ÊñáÂÖ∑‰ΩìÊ†ºÂºèËßÅÁîµÊú∫ËØ¥Ê
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->last_ecd = measure->ecd;
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 137:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 138:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 139:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 140:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 141:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 142:moudels/motor/DJImotor/dji_motor.c **** 
 143:moudels/motor/DJImotor/dji_motor.c ****     // Â§öÂúàËßíÂ∫¶ËÆ°ÁÆó,ÂâçÊèêÊòØÂÅáËÆæ‰∏§Ê¨°ÈááÊ†∑Èó¥ÁîµÊú∫ËΩ¨ËøáÁöÑËßíÂ∫¶Â∞è‰∫é180¬∞,Ëá™Â∑±Áîª‰
 144:moudels/motor/DJImotor/dji_motor.c ****     if (measure->ecd - measure->last_ecd > 4096)
 145:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 146:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 147:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round++;
 148:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 149:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 150:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 151:moudels/motor/DJImotor/dji_motor.c ****         measure->flag=1;
 152:moudels/motor/DJImotor/dji_motor.c ****     }
 153:moudels/motor/DJImotor/dji_motor.c **** }
 154:moudels/motor/DJImotor/dji_motor.c **** 
 155:moudels/motor/DJImotor/dji_motor.c **** static void DJIMotorLostCallback(void *motor_ptr)
 156:moudels/motor/DJImotor/dji_motor.c **** {
 323              		.loc 1 156 1 is_stmt 1 view -0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327              		@ link register save eliminated.
 157:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)motor_ptr;
 328              		.loc 1 157 5 view .LVU103
 158:moudels/motor/DJImotor/dji_motor.c ****     uint16_t can_bus = motor->motor_can_instance->can_handle == &hcan1 ? 1 : 2;
 329              		.loc 1 158 5 view .LVU104
 159:moudels/motor/DJImotor/dji_motor.c ****     // LOGWARNING("[dji_motor] Motor lost, can bus [%d] , id [%d]", can_bus, motor->motor_can_insta
 160:moudels/motor/DJImotor/dji_motor.c **** }
 330              		.loc 1 160 1 is_stmt 0 view .LVU105
 331 0000 7047     		bx	lr
 332              		.cfi_endproc
 333              	.LFE139:
 335              		.section	.text.DecodeDJIMotor,"ax",%progbits
 336              		.align	1
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 10


 341              	DecodeDJIMotor:
 342              	.LVL29:
 343              	.LFB138:
 123:moudels/motor/DJImotor/dji_motor.c ****     // ËøôÈáåÂØπcan instanceÁöÑidËøõË°å‰∫ÜÂº∫Âà∂ËΩ¨Êç¢,‰ªéËÄåËé∑ÂæóÁîµÊú∫ÁöÑinstanceÂÆû‰æãÂú∞ÂùÄ
 344              		.loc 1 123 1 is_stmt 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 123:moudels/motor/DJImotor/dji_motor.c ****     // ËøôÈáåÂØπcan instanceÁöÑidËøõË°å‰∫ÜÂº∫Âà∂ËΩ¨Êç¢,‰ªéËÄåËé∑ÂæóÁîµÊú∫ÁöÑinstanceÂÆû‰æãÂú∞ÂùÄ
 348              		.loc 1 123 1 is_stmt 0 view .LVU107
 349 0000 38B5     		push	{r3, r4, r5, lr}
 350              		.cfi_def_cfa_offset 16
 351              		.cfi_offset 3, -16
 352              		.cfi_offset 4, -12
 353              		.cfi_offset 5, -8
 354              		.cfi_offset 14, -4
 355 0002 0546     		mov	r5, r0
 126:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)_instance->id;
 356              		.loc 1 126 5 is_stmt 1 view .LVU108
 357              	.LVL30:
 127:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆø
 358              		.loc 1 127 5 view .LVU109
 127:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆø
 359              		.loc 1 127 23 is_stmt 0 view .LVU110
 360 0004 D0F83D40 		ldr	r4, [r0, #61]	@ unaligned
 361              	.LVL31:
 128:moudels/motor/DJImotor/dji_motor.c **** 
 362              		.loc 1 128 5 is_stmt 1 view .LVU111
 131:moudels/motor/DJImotor/dji_motor.c **** 
 363              		.loc 1 131 5 view .LVU112
 131:moudels/motor/DJImotor/dji_motor.c **** 
 364              		.loc 1 131 17 is_stmt 0 view .LVU113
 365 0008 04F5DA70 		add	r0, r4, #436
 366              	.LVL32:
 131:moudels/motor/DJImotor/dji_motor.c **** 
 367              		.loc 1 131 17 view .LVU114
 368 000c FFF7FEFF 		bl	DWT_GetDeltaT
 369              	.LVL33:
 131:moudels/motor/DJImotor/dji_motor.c **** 
 370              		.loc 1 131 15 discriminator 1 view .LVU115
 371 0010 84ED6E0A 		vstr.32	s0, [r4, #440]
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 372              		.loc 1 134 5 is_stmt 1 view .LVU116
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 373              		.loc 1 134 32 is_stmt 0 view .LVU117
 374 0014 6188     		ldrh	r1, [r4, #2]
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 375              		.loc 1 134 23 view .LVU118
 376 0016 2180     		strh	r1, [r4]	@ movhi
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 377              		.loc 1 135 5 is_stmt 1 view .LVU119
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 378              		.loc 1 135 37 is_stmt 0 view .LVU120
 379 0018 95F82C30 		ldrb	r3, [r5, #44]	@ zero_extendqisi2
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 380              		.loc 1 135 55 view .LVU121
 381 001c 95F82D20 		ldrb	r2, [r5, #45]	@ zero_extendqisi2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 11


 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 382              		.loc 1 135 47 view .LVU122
 383 0020 42EA0322 		orr	r2, r2, r3, lsl #8
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 384              		.loc 1 135 18 view .LVU123
 385 0024 6280     		strh	r2, [r4, #2]	@ movhi
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 386              		.loc 1 136 5 is_stmt 1 view .LVU124
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 387              		.loc 1 136 56 is_stmt 0 view .LVU125
 388 0026 07EE902A 		vmov	s15, r2	@ int
 389 002a F8EE676A 		vcvt.f32.u32	s13, s15
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 390              		.loc 1 136 54 view .LVU126
 391 002e DFED327A 		vldr.32	s15, .L34
 392 0032 66EEA76A 		vmul.f32	s13, s13, s15
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 393              		.loc 1 136 33 view .LVU127
 394 0036 C4ED016A 		vstr.32	s13, [r4, #4]
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 395              		.loc 1 137 5 is_stmt 1 view .LVU128
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 396              		.loc 1 137 62 is_stmt 0 view .LVU129
 397 003a D4ED027A 		vldr.32	s15, [r4, #8]
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 398              		.loc 1 137 53 view .LVU130
 399 003e 9FED2F7A 		vldr.32	s14, .L34+4
 400 0042 27EE877A 		vmul.f32	s14, s15, s14
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 401              		.loc 1 138 92 view .LVU131
 402 0046 95F82E00 		ldrb	r0, [r5, #46]	@ zero_extendqisi2
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 403              		.loc 1 138 109 view .LVU132
 404 004a 95F82F30 		ldrb	r3, [r5, #47]	@ zero_extendqisi2
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 405              		.loc 1 138 76 view .LVU133
 406 004e 43EA0023 		orr	r3, r3, r0, lsl #8
 407 0052 1BB2     		sxth	r3, r3
 408 0054 07EE903A 		vmov	s15, r3	@ int
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 409              		.loc 1 138 68 view .LVU134
 410 0058 F8EEE77A 		vcvt.f32.s32	s15, s15
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 411              		.loc 1 138 66 view .LVU135
 412 005c 9FED286A 		vldr.32	s12, .L34+8
 413 0060 67EE867A 		vmul.f32	s15, s15, s12
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 414              		.loc 1 137 74 view .LVU136
 415 0064 77EE277A 		vadd.f32	s15, s14, s15
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 416              		.loc 1 137 24 view .LVU137
 417 0068 C4ED027A 		vstr.32	s15, [r4, #8]
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 418              		.loc 1 139 5 is_stmt 1 view .LVU138
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 419              		.loc 1 139 67 is_stmt 0 view .LVU139
 420 006c B4F90C30 		ldrsh	r3, [r4, #12]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 12


 421 0070 07EE903A 		vmov	s15, r3	@ int
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 422              		.loc 1 139 58 view .LVU140
 423 0074 F8EEE77A 		vcvt.f32.s32	s15, s15
 424 0078 9FED227A 		vldr.32	s14, .L34+12
 425 007c 67EE877A 		vmul.f32	s15, s15, s14
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 426              		.loc 1 140 75 view .LVU141
 427 0080 95F83000 		ldrb	r0, [r5, #48]	@ zero_extendqisi2
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 428              		.loc 1 140 92 view .LVU142
 429 0084 95F83130 		ldrb	r3, [r5, #49]	@ zero_extendqisi2
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 430              		.loc 1 140 59 view .LVU143
 431 0088 43EA0023 		orr	r3, r3, r0, lsl #8
 432 008c 1BB2     		sxth	r3, r3
 433 008e 07EE103A 		vmov	s14, r3	@ int
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 434              		.loc 1 140 51 view .LVU144
 435 0092 B8EEC77A 		vcvt.f32.s32	s14, s14
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 436              		.loc 1 140 49 view .LVU145
 437 0096 9FED1C6A 		vldr.32	s12, .L34+16
 438 009a 27EE067A 		vmul.f32	s14, s14, s12
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 439              		.loc 1 139 82 view .LVU146
 440 009e 77EE877A 		vadd.f32	s15, s15, s14
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 441              		.loc 1 139 27 view .LVU147
 442 00a2 FDEEE77A 		vcvt.s32.f32	s15, s15
 443 00a6 17EE903A 		vmov	r3, s15	@ int
 444 00aa A381     		strh	r3, [r4, #12]	@ movhi
 141:moudels/motor/DJImotor/dji_motor.c **** 
 445              		.loc 1 141 5 is_stmt 1 view .LVU148
 141:moudels/motor/DJImotor/dji_motor.c **** 
 446              		.loc 1 141 26 is_stmt 0 view .LVU149
 447 00ac 95F83230 		ldrb	r3, [r5, #50]	@ zero_extendqisi2
 448 00b0 A373     		strb	r3, [r4, #14]
 144:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 449              		.loc 1 144 5 is_stmt 1 view .LVU150
 144:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 450              		.loc 1 144 22 is_stmt 0 view .LVU151
 451 00b2 521A     		subs	r2, r2, r1
 144:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 452              		.loc 1 144 8 view .LVU152
 453 00b4 B2F5805F 		cmp	r2, #4096
 454 00b8 17DD     		ble	.L30
 145:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 455              		.loc 1 145 9 is_stmt 1 view .LVU153
 145:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 456              		.loc 1 145 16 is_stmt 0 view .LVU154
 457 00ba E369     		ldr	r3, [r4, #28]
 145:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 458              		.loc 1 145 29 view .LVU155
 459 00bc 013B     		subs	r3, r3, #1
 460 00be E361     		str	r3, [r4, #28]
 461              	.L31:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 13


 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 462              		.loc 1 148 5 is_stmt 1 view .LVU156
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 463              		.loc 1 148 35 is_stmt 0 view .LVU157
 464 00c0 E369     		ldr	r3, [r4, #28]
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 465              		.loc 1 148 49 view .LVU158
 466 00c2 4FF4B472 		mov	r2, #360
 467 00c6 02FB03F3 		mul	r3, r2, r3
 468 00ca 07EE903A 		vmov	s15, r3	@ int
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 469              		.loc 1 148 55 view .LVU159
 470 00ce F8EEE77A 		vcvt.f32.s32	s15, s15
 471 00d2 77EEA67A 		vadd.f32	s15, s15, s13
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 472              		.loc 1 148 26 view .LVU160
 473 00d6 C4ED067A 		vstr.32	s15, [r4, #24]
 149:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 474              		.loc 1 149 5 is_stmt 1 view .LVU161
 149:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 475              		.loc 1 149 15 is_stmt 0 view .LVU162
 476 00da 94F91430 		ldrsb	r3, [r4, #20]
 149:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 477              		.loc 1 149 7 view .LVU163
 478 00de 1BB9     		cbnz	r3, .L29
 150:moudels/motor/DJImotor/dji_motor.c ****         measure->flag=1;
 479              		.loc 1 150 9 is_stmt 1 view .LVU164
 150:moudels/motor/DJImotor/dji_motor.c ****         measure->flag=1;
 480              		.loc 1 150 29 is_stmt 0 view .LVU165
 481 00e0 C4ED046A 		vstr.32	s13, [r4, #16]
 151:moudels/motor/DJImotor/dji_motor.c ****     }
 482              		.loc 1 151 9 is_stmt 1 view .LVU166
 151:moudels/motor/DJImotor/dji_motor.c ****     }
 483              		.loc 1 151 22 is_stmt 0 view .LVU167
 484 00e4 0123     		movs	r3, #1
 485 00e6 2375     		strb	r3, [r4, #20]
 486              	.L29:
 153:moudels/motor/DJImotor/dji_motor.c **** 
 487              		.loc 1 153 1 view .LVU168
 488 00e8 38BD     		pop	{r3, r4, r5, pc}
 489              	.LVL34:
 490              	.L30:
 146:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round++;
 491              		.loc 1 146 10 is_stmt 1 view .LVU169
 146:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round++;
 492              		.loc 1 146 13 is_stmt 0 view .LVU170
 493 00ea 12F5805F 		cmn	r2, #4096
 494 00ee E7DA     		bge	.L31
 147:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 495              		.loc 1 147 9 is_stmt 1 view .LVU171
 147:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 496              		.loc 1 147 16 is_stmt 0 view .LVU172
 497 00f0 E369     		ldr	r3, [r4, #28]
 147:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 498              		.loc 1 147 29 view .LVU173
 499 00f2 0133     		adds	r3, r3, #1
 500 00f4 E361     		str	r3, [r4, #28]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 14


 501 00f6 E3E7     		b	.L31
 502              	.L35:
 503              		.align	2
 504              	.L34:
 505 00f8 ACFF333D 		.word	1026817964
 506 00fc 9899193E 		.word	1041865112
 507 0100 3433A340 		.word	1084437300
 508 0104 D0CCCC3D 		.word	1036831952
 509 0108 6666663F 		.word	1063675494
 510              		.cfi_endproc
 511              	.LFE138:
 513              		.section	.text.DJIMotorChangeFeed,"ax",%progbits
 514              		.align	1
 515              		.global	DJIMotorChangeFeed
 516              		.syntax unified
 517              		.thumb
 518              		.thumb_func
 520              	DJIMotorChangeFeed:
 521              	.LVL35:
 522              	.LFB141:
 161:moudels/motor/DJImotor/dji_motor.c **** 
 162:moudels/motor/DJImotor/dji_motor.c **** // ÁîµÊú∫ÂàùÂßãÂåñ,ËøîÂõû‰∏Ä‰∏™ÁîµÊú∫ÂÆû‰æã
 163:moudels/motor/DJImotor/dji_motor.c **** DJIMotorInstance *DJIMotorInit(Motor_Init_Config_s *config)
 164:moudels/motor/DJImotor/dji_motor.c **** {
 165:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *instance = (DJIMotorInstance *)malloc(sizeof(DJIMotorInstance));
 166:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 167:moudels/motor/DJImotor/dji_motor.c **** 
 168:moudels/motor/DJImotor/dji_motor.c ****     // motor basic setting ÁîµÊú∫Âü∫Êú¨ËÆæÁΩÆ
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_type = config->motor_type;                         // 6020 or 2006 or 3508
 170:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 171:moudels/motor/DJImotor/dji_motor.c **** 
 172:moudels/motor/DJImotor/dji_motor.c ****     // motor controller init ÁîµÊú∫ÊéßÂà∂Âô®ÂàùÂßãÂåñ
 173:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.current_PID, &config->controller_param_init_config.current_
 174:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID)
 175:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID)
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_angle_feedback_ptr = config->controller_param_init_config.othe
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 180:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 181:moudels/motor/DJImotor/dji_motor.c ****     // ÂêéÁª≠Â¢ûÂä†ÁîµÊú∫ÂâçÈ¶àÊéßÂà∂Âô®(ÈÄüÂ∫¶ÂíåÁîµÊµÅ)
 182:moudels/motor/DJImotor/dji_motor.c **** 
 183:moudels/motor/DJImotor/dji_motor.c ****     // ÁîµÊú∫ÂàÜÁªÑ,Âõ†‰∏∫Ëá≥Â§ö4‰∏™ÁîµÊú∫ÂèØ‰ª•ÂÖ±Áî®‰∏ÄÂ∏ßCANÊéßÂà∂Êä•Êñá
 184:moudels/motor/DJImotor/dji_motor.c ****     MotorSenderGrouping(instance, &config->can_init_config);
 185:moudels/motor/DJImotor/dji_motor.c **** 
 186:moudels/motor/DJImotor/dji_motor.c ****     // Ê≥®ÂÜåÁîµÊú∫Âà∞CANÊÄªÁ∫ø
 187:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.can_module_callback = DecodeDJIMotor; // set callback
 188:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.id = instance;                        // set id,eq to address(it is ide
 189:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);
 190:moudels/motor/DJImotor/dji_motor.c **** 
 191:moudels/motor/DJImotor/dji_motor.c ****     // Ê≥®ÂÜåÂÆàÊä§Á∫øÁ®ã
 192:moudels/motor/DJImotor/dji_motor.c ****     Daemon_Init_Config_s daemon_config = {
 193:moudels/motor/DJImotor/dji_motor.c ****         .callback = DJIMotorLostCallback,
 194:moudels/motor/DJImotor/dji_motor.c ****         .owner_id = instance,
 195:moudels/motor/DJImotor/dji_motor.c ****         .reload_count = 2, // 20msÊú™Êî∂Âà∞Êï∞ÊçÆÂàô‰∏¢Â§±
 196:moudels/motor/DJImotor/dji_motor.c ****     };
 197:moudels/motor/DJImotor/dji_motor.c ****     instance->daemon = DaemonRegister(&daemon_config);
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 15


 198:moudels/motor/DJImotor/dji_motor.c **** 
 199:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorEnable(instance);
 200:moudels/motor/DJImotor/dji_motor.c ****     dji_motor_instance[idx++] = instance;
 201:moudels/motor/DJImotor/dji_motor.c ****     return instance;
 202:moudels/motor/DJImotor/dji_motor.c **** }
 203:moudels/motor/DJImotor/dji_motor.c **** 
 204:moudels/motor/DJImotor/dji_motor.c **** /* ÁîµÊµÅÂè™ËÉΩÈÄöËøáÁîµÊú∫Ëá™Â∏¶‰º†ÊÑüÂô®ÁõëÊµã,ÂêéÁª≠ËÄÉËôëÂä†ÂÖ•ÂäõÁü©‰º†ÊÑüÂô®Â∫îÂèòÁâáÁ≠â */
 205:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorChangeFeed(DJIMotorInstance *motor, Closeloop_Type_e loop, Feedback_Source_e type)
 206:moudels/motor/DJImotor/dji_motor.c **** {
 523              		.loc 1 206 1 is_stmt 1 view -0
 524              		.cfi_startproc
 525              		@ args = 0, pretend = 0, frame = 0
 526              		@ frame_needed = 0, uses_anonymous_args = 0
 527              		@ link register save eliminated.
 207:moudels/motor/DJImotor/dji_motor.c ****     if (loop == ANGLE_LOOP)
 528              		.loc 1 207 5 view .LVU175
 529              		.loc 1 207 8 is_stmt 0 view .LVU176
 530 0000 0429     		cmp	r1, #4
 531 0002 02D0     		beq	.L39
 208:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 209:moudels/motor/DJImotor/dji_motor.c ****     else if (loop == SPEED_LOOP)
 532              		.loc 1 209 10 is_stmt 1 view .LVU177
 533              		.loc 1 209 13 is_stmt 0 view .LVU178
 534 0004 0229     		cmp	r1, #2
 535 0006 03D0     		beq	.L40
 536              	.L36:
 210:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 211:moudels/motor/DJImotor/dji_motor.c ****     else
 212:moudels/motor/DJImotor/dji_motor.c ****         LOGERROR("[dji_motor] loop type error, check memory access and func param"); // Ê£ÄÊü•ÊòØÂê
 213:moudels/motor/DJImotor/dji_motor.c **** }
 537              		.loc 1 213 1 view .LVU179
 538 0008 7047     		bx	lr
 539              	.L39:
 208:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 540              		.loc 1 208 9 is_stmt 1 view .LVU180
 208:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 541              		.loc 1 208 53 is_stmt 0 view .LVU181
 542 000a 80F82420 		strb	r2, [r0, #36]
 543 000e 7047     		bx	lr
 544              	.L40:
 210:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 545              		.loc 1 210 9 is_stmt 1 view .LVU182
 210:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 546              		.loc 1 210 53 is_stmt 0 view .LVU183
 547 0010 80F82520 		strb	r2, [r0, #37]
 548              		.loc 1 213 1 view .LVU184
 549 0014 F8E7     		b	.L36
 550              		.cfi_endproc
 551              	.LFE141:
 553              		.section	.text.DJIMotorStop,"ax",%progbits
 554              		.align	1
 555              		.global	DJIMotorStop
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 560              	DJIMotorStop:
 561              	.LVL36:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 16


 562              	.LFB142:
 214:moudels/motor/DJImotor/dji_motor.c **** 
 215:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorStop(DJIMotorInstance *motor)
 216:moudels/motor/DJImotor/dji_motor.c **** {
 563              		.loc 1 216 1 is_stmt 1 view -0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567              		@ link register save eliminated.
 217:moudels/motor/DJImotor/dji_motor.c ****     motor->stop_flag = MOTOR_STOP;
 568              		.loc 1 217 5 view .LVU186
 569              		.loc 1 217 22 is_stmt 0 view .LVU187
 570 0000 0023     		movs	r3, #0
 571 0002 80F8AF31 		strb	r3, [r0, #431]
 218:moudels/motor/DJImotor/dji_motor.c **** }
 572              		.loc 1 218 1 view .LVU188
 573 0006 7047     		bx	lr
 574              		.cfi_endproc
 575              	.LFE142:
 577              		.section	.text.DJIMotorEnable,"ax",%progbits
 578              		.align	1
 579              		.global	DJIMotorEnable
 580              		.syntax unified
 581              		.thumb
 582              		.thumb_func
 584              	DJIMotorEnable:
 585              	.LVL37:
 586              	.LFB143:
 219:moudels/motor/DJImotor/dji_motor.c **** 
 220:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorEnable(DJIMotorInstance *motor)
 221:moudels/motor/DJImotor/dji_motor.c **** {
 587              		.loc 1 221 1 is_stmt 1 view -0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591              		@ link register save eliminated.
 222:moudels/motor/DJImotor/dji_motor.c ****     motor->stop_flag = MOTOR_ENALBED;
 592              		.loc 1 222 5 view .LVU190
 593              		.loc 1 222 22 is_stmt 0 view .LVU191
 594 0000 0123     		movs	r3, #1
 595 0002 80F8AF31 		strb	r3, [r0, #431]
 223:moudels/motor/DJImotor/dji_motor.c **** }
 596              		.loc 1 223 1 view .LVU192
 597 0006 7047     		bx	lr
 598              		.cfi_endproc
 599              	.LFE143:
 601              		.section	.text.DJIMotorInit,"ax",%progbits
 602              		.align	1
 603              		.global	DJIMotorInit
 604              		.syntax unified
 605              		.thumb
 606              		.thumb_func
 608              	DJIMotorInit:
 609              	.LVL38:
 610              	.LFB140:
 164:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *instance = (DJIMotorInstance *)malloc(sizeof(DJIMotorInstance));
 611              		.loc 1 164 1 is_stmt 1 view -0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 17


 612              		.cfi_startproc
 613              		@ args = 0, pretend = 0, frame = 16
 614              		@ frame_needed = 0, uses_anonymous_args = 0
 164:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *instance = (DJIMotorInstance *)malloc(sizeof(DJIMotorInstance));
 615              		.loc 1 164 1 is_stmt 0 view .LVU194
 616 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 617              		.cfi_def_cfa_offset 20
 618              		.cfi_offset 4, -20
 619              		.cfi_offset 5, -16
 620              		.cfi_offset 6, -12
 621              		.cfi_offset 7, -8
 622              		.cfi_offset 14, -4
 623 0002 85B0     		sub	sp, sp, #20
 624              		.cfi_def_cfa_offset 40
 625 0004 0546     		mov	r5, r0
 165:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 626              		.loc 1 165 5 is_stmt 1 view .LVU195
 165:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 627              		.loc 1 165 54 is_stmt 0 view .LVU196
 628 0006 4FF4E070 		mov	r0, #448
 629              	.LVL39:
 165:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 630              		.loc 1 165 54 view .LVU197
 631 000a FFF7FEFF 		bl	malloc
 632              	.LVL40:
 633 000e 0446     		mov	r4, r0
 634              	.LVL41:
 166:moudels/motor/DJImotor/dji_motor.c **** 
 635              		.loc 1 166 5 is_stmt 1 view .LVU198
 636 0010 4FF4E072 		mov	r2, #448
 637 0014 0021     		movs	r1, #0
 638 0016 FFF7FEFF 		bl	memset
 639              	.LVL42:
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 640              		.loc 1 169 5 view .LVU199
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 641              		.loc 1 169 34 is_stmt 0 view .LVU200
 642 001a 95F89B30 		ldrb	r3, [r5, #155]	@ zero_extendqisi2
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 643              		.loc 1 169 26 view .LVU201
 644 001e 84F8AE31 		strb	r3, [r4, #430]
 170:moudels/motor/DJImotor/dji_motor.c **** 
 645              		.loc 1 170 5 is_stmt 1 view .LVU202
 170:moudels/motor/DJImotor/dji_motor.c **** 
 646              		.loc 1 170 30 is_stmt 0 view .LVU203
 647 0022 05F19403 		add	r3, r5, #148
 648 0026 93E80300 		ldm	r3, {r0, r1}
 649 002a 2062     		str	r0, [r4, #32]
 650 002c A184     		strh	r1, [r4, #36]	@ movhi
 651 002e 090C     		lsrs	r1, r1, #16
 652 0030 84F82610 		strb	r1, [r4, #38]
 173:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID)
 653              		.loc 1 173 5 is_stmt 1 view .LVU204
 654 0034 05F11001 		add	r1, r5, #16
 655 0038 04F13800 		add	r0, r4, #56
 656 003c FFF7FEFF 		bl	PIDInit
 657              	.LVL43:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 18


 174:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID)
 658              		.loc 1 174 5 view .LVU205
 659 0040 05F13C01 		add	r1, r5, #60
 660 0044 04F1B000 		add	r0, r4, #176
 661 0048 FFF7FEFF 		bl	PIDInit
 662              	.LVL44:
 175:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_angle_feedback_ptr = config->controller_param_init_config.othe
 663              		.loc 1 175 5 view .LVU206
 664 004c 05F16801 		add	r1, r5, #104
 665 0050 04F59470 		add	r0, r4, #296
 666 0054 FFF7FEFF 		bl	PIDInit
 667              	.LVL45:
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 668              		.loc 1 176 5 view .LVU207
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 669              		.loc 1 176 95 is_stmt 0 view .LVU208
 670 0058 2B68     		ldr	r3, [r5]
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 671              		.loc 1 176 57 view .LVU209
 672 005a A362     		str	r3, [r4, #40]
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 673              		.loc 1 177 5 is_stmt 1 view .LVU210
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 674              		.loc 1 177 95 is_stmt 0 view .LVU211
 675 005c 6B68     		ldr	r3, [r5, #4]
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 676              		.loc 1 177 57 view .LVU212
 677 005e E362     		str	r3, [r4, #44]
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 678              		.loc 1 178 5 is_stmt 1 view .LVU213
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 679              		.loc 1 178 94 is_stmt 0 view .LVU214
 680 0060 EB68     		ldr	r3, [r5, #12]
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 681              		.loc 1 178 56 view .LVU215
 682 0062 6363     		str	r3, [r4, #52]
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 683              		.loc 1 179 5 is_stmt 1 view .LVU216
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 684              		.loc 1 179 92 is_stmt 0 view .LVU217
 685 0064 AB68     		ldr	r3, [r5, #8]
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 686              		.loc 1 179 54 view .LVU218
 687 0066 2363     		str	r3, [r4, #48]
 180:moudels/motor/DJImotor/dji_motor.c ****     // ÂêéÁª≠Â¢ûÂä†ÁîµÊú∫ÂâçÈ¶àÊéßÂà∂Âô®(ÈÄüÂ∫¶ÂíåÁîµÊµÅ)
 688              		.loc 1 180 5 is_stmt 1 view .LVU219
 180:moudels/motor/DJImotor/dji_motor.c ****     // ÂêéÁª≠Â¢ûÂä†ÁîµÊú∫ÂâçÈ¶àÊéßÂà∂Âô®(ÈÄüÂ∫¶ÂíåÁîµÊµÅ)
 689              		.loc 1 180 27 is_stmt 0 view .LVU220
 690 0068 0026     		movs	r6, #0
 691 006a 2675     		strb	r6, [r4, #20]
 184:moudels/motor/DJImotor/dji_motor.c **** 
 692              		.loc 1 184 5 is_stmt 1 view .LVU221
 693 006c 05F19C07 		add	r7, r5, #156
 694 0070 3946     		mov	r1, r7
 695 0072 2046     		mov	r0, r4
 696 0074 FFF7FEFF 		bl	MotorSenderGrouping
 697              	.LVL46:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 19


 187:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.id = instance;                        // set id,eq to address(it is ide
 698              		.loc 1 187 5 view .LVU222
 187:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.id = instance;                        // set id,eq to address(it is ide
 699              		.loc 1 187 49 is_stmt 0 view .LVU223
 700 0078 124B     		ldr	r3, .L45
 701 007a C5F8A830 		str	r3, [r5, #168]
 188:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);
 702              		.loc 1 188 5 is_stmt 1 view .LVU224
 188:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);
 703              		.loc 1 188 32 is_stmt 0 view .LVU225
 704 007e C5F8AC40 		str	r4, [r5, #172]
 189:moudels/motor/DJImotor/dji_motor.c **** 
 705              		.loc 1 189 5 is_stmt 1 view .LVU226
 189:moudels/motor/DJImotor/dji_motor.c **** 
 706              		.loc 1 189 36 is_stmt 0 view .LVU227
 707 0082 3846     		mov	r0, r7
 708 0084 FFF7FEFF 		bl	CANRegister
 709              	.LVL47:
 189:moudels/motor/DJImotor/dji_motor.c **** 
 710              		.loc 1 189 34 discriminator 1 view .LVU228
 711 0088 C4F8A801 		str	r0, [r4, #424]
 192:moudels/motor/DJImotor/dji_motor.c ****         .callback = DJIMotorLostCallback,
 712              		.loc 1 192 5 is_stmt 1 view .LVU229
 192:moudels/motor/DJImotor/dji_motor.c ****         .callback = DJIMotorLostCallback,
 713              		.loc 1 192 26 is_stmt 0 view .LVU230
 714 008c 0196     		str	r6, [sp, #4]
 715 008e 0296     		str	r6, [sp, #8]
 716 0090 0396     		str	r6, [sp, #12]
 717 0092 0223     		movs	r3, #2
 718 0094 ADF80430 		strh	r3, [sp, #4]	@ movhi
 719 0098 0B4B     		ldr	r3, .L45+4
 720 009a 0293     		str	r3, [sp, #8]
 721 009c 0394     		str	r4, [sp, #12]
 197:moudels/motor/DJImotor/dji_motor.c **** 
 722              		.loc 1 197 5 is_stmt 1 view .LVU231
 197:moudels/motor/DJImotor/dji_motor.c **** 
 723              		.loc 1 197 24 is_stmt 0 view .LVU232
 724 009e 01A8     		add	r0, sp, #4
 725 00a0 FFF7FEFF 		bl	DaemonRegister
 726              	.LVL48:
 197:moudels/motor/DJImotor/dji_motor.c **** 
 727              		.loc 1 197 22 discriminator 1 view .LVU233
 728 00a4 C4F8B001 		str	r0, [r4, #432]
 199:moudels/motor/DJImotor/dji_motor.c ****     dji_motor_instance[idx++] = instance;
 729              		.loc 1 199 5 is_stmt 1 view .LVU234
 730 00a8 2046     		mov	r0, r4
 731 00aa FFF7FEFF 		bl	DJIMotorEnable
 732              	.LVL49:
 200:moudels/motor/DJImotor/dji_motor.c ****     return instance;
 733              		.loc 1 200 5 view .LVU235
 200:moudels/motor/DJImotor/dji_motor.c ****     return instance;
 734              		.loc 1 200 27 is_stmt 0 view .LVU236
 735 00ae 074A     		ldr	r2, .L45+8
 736 00b0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 737 00b2 591C     		adds	r1, r3, #1
 738 00b4 1170     		strb	r1, [r2]
 200:moudels/motor/DJImotor/dji_motor.c ****     return instance;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 20


 739              		.loc 1 200 31 view .LVU237
 740 00b6 064A     		ldr	r2, .L45+12
 741 00b8 42F82340 		str	r4, [r2, r3, lsl #2]
 201:moudels/motor/DJImotor/dji_motor.c **** }
 742              		.loc 1 201 5 is_stmt 1 view .LVU238
 202:moudels/motor/DJImotor/dji_motor.c **** 
 743              		.loc 1 202 1 is_stmt 0 view .LVU239
 744 00bc 2046     		mov	r0, r4
 745 00be 05B0     		add	sp, sp, #20
 746              		.cfi_def_cfa_offset 20
 747              		@ sp needed
 748 00c0 F0BD     		pop	{r4, r5, r6, r7, pc}
 749              	.LVL50:
 750              	.L46:
 202:moudels/motor/DJImotor/dji_motor.c **** 
 751              		.loc 1 202 1 view .LVU240
 752 00c2 00BF     		.align	2
 753              	.L45:
 754 00c4 00000000 		.word	DecodeDJIMotor
 755 00c8 00000000 		.word	DJIMotorLostCallback
 756 00cc 00000000 		.word	idx
 757 00d0 00000000 		.word	dji_motor_instance
 758              		.cfi_endproc
 759              	.LFE140:
 761              		.section	.text.DJIMotorOuterLoop,"ax",%progbits
 762              		.align	1
 763              		.global	DJIMotorOuterLoop
 764              		.syntax unified
 765              		.thumb
 766              		.thumb_func
 768              	DJIMotorOuterLoop:
 769              	.LVL51:
 770              	.LFB144:
 224:moudels/motor/DJImotor/dji_motor.c **** 
 225:moudels/motor/DJImotor/dji_motor.c **** /* ‰øÆÊîπÁîµÊú∫ÁöÑÂÆûÈôÖÈó≠ÁéØÂØπË±° */
 226:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorOuterLoop(DJIMotorInstance *motor, Closeloop_Type_e outer_loop)
 227:moudels/motor/DJImotor/dji_motor.c **** {
 771              		.loc 1 227 1 is_stmt 1 view -0
 772              		.cfi_startproc
 773              		@ args = 0, pretend = 0, frame = 0
 774              		@ frame_needed = 0, uses_anonymous_args = 0
 775              		@ link register save eliminated.
 228:moudels/motor/DJImotor/dji_motor.c ****     motor->motor_settings.outer_loop_type = outer_loop;
 776              		.loc 1 228 5 view .LVU242
 777              		.loc 1 228 43 is_stmt 0 view .LVU243
 778 0000 80F82010 		strb	r1, [r0, #32]
 229:moudels/motor/DJImotor/dji_motor.c **** }
 779              		.loc 1 229 1 view .LVU244
 780 0004 7047     		bx	lr
 781              		.cfi_endproc
 782              	.LFE144:
 784              		.section	.text.DJIMotorSetRef,"ax",%progbits
 785              		.align	1
 786              		.global	DJIMotorSetRef
 787              		.syntax unified
 788              		.thumb
 789              		.thumb_func
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 21


 791              	DJIMotorSetRef:
 792              	.LVL52:
 793              	.LFB145:
 230:moudels/motor/DJImotor/dji_motor.c **** 
 231:moudels/motor/DJImotor/dji_motor.c **** // ËÆæÁΩÆÂèÇËÄÉÂÄº
 232:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorSetRef(DJIMotorInstance *motor, float ref)
 233:moudels/motor/DJImotor/dji_motor.c **** {
 794              		.loc 1 233 1 is_stmt 1 view -0
 795              		.cfi_startproc
 796              		@ args = 0, pretend = 0, frame = 0
 797              		@ frame_needed = 0, uses_anonymous_args = 0
 798              		@ link register save eliminated.
 234:moudels/motor/DJImotor/dji_motor.c ****     motor->motor_controller.pid_ref = ref;
 799              		.loc 1 234 5 view .LVU246
 800              		.loc 1 234 37 is_stmt 0 view .LVU247
 801 0000 80ED680A 		vstr.32	s0, [r0, #416]
 235:moudels/motor/DJImotor/dji_motor.c **** }
 802              		.loc 1 235 1 view .LVU248
 803 0004 7047     		bx	lr
 804              		.cfi_endproc
 805              	.LFE145:
 807              		.section	.text.DJIMotorControl,"ax",%progbits
 808              		.align	1
 809              		.global	DJIMotorControl
 810              		.syntax unified
 811              		.thumb
 812              		.thumb_func
 814              	DJIMotorControl:
 815              	.LFB146:
 236:moudels/motor/DJImotor/dji_motor.c **** 
 237:moudels/motor/DJImotor/dji_motor.c **** // ‰∏∫ÊâÄÊúâÁîµÊú∫ÂÆû‰æãËÆ°ÁÆó‰∏âÁéØPID,ÂèëÈÄÅÊéßÂà∂Êä•Êñá
 238:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorControl()
 239:moudels/motor/DJImotor/dji_motor.c **** {
 816              		.loc 1 239 1 is_stmt 1 view -0
 817              		.cfi_startproc
 818              		@ args = 0, pretend = 0, frame = 0
 819              		@ frame_needed = 0, uses_anonymous_args = 0
 820 0000 70B5     		push	{r4, r5, r6, lr}
 821              		.cfi_def_cfa_offset 16
 822              		.cfi_offset 4, -16
 823              		.cfi_offset 5, -12
 824              		.cfi_offset 6, -8
 825              		.cfi_offset 14, -4
 240:moudels/motor/DJImotor/dji_motor.c ****     // Áõ¥Êé•‰øùÂ≠ò‰∏ÄÊ¨°ÊåáÈíàÂºïÁî®‰ªéËÄåÂáèÂ∞èËÆøÂ≠òÁöÑÂºÄÈîÄ,ÂêåÊ†∑ÂèØ‰ª•ÊèêÈ´òÂèØËØªÊÄß
 241:moudels/motor/DJImotor/dji_motor.c ****     uint8_t group, num; // ÁîµÊú∫ÁªÑÂè∑ÂíåÁªÑÂÜÖÁºñÂè∑
 826              		.loc 1 241 5 view .LVU250
 242:moudels/motor/DJImotor/dji_motor.c ****     int16_t set;        // ÁîµÊú∫ÊéßÂà∂CANÂèëÈÄÅËÆæÂÆöÂÄº
 827              		.loc 1 242 5 view .LVU251
 243:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor;
 828              		.loc 1 243 5 view .LVU252
 244:moudels/motor/DJImotor/dji_motor.c ****     Motor_Control_Setting_s *motor_setting; // ÁîµÊú∫ÊéßÂà∂ÂèÇÊï∞
 829              		.loc 1 244 5 view .LVU253
 245:moudels/motor/DJImotor/dji_motor.c ****     Motor_Controller_s *motor_controller;   // ÁîµÊú∫ÊéßÂà∂Âô®
 830              		.loc 1 245 5 view .LVU254
 246:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure;           // ÁîµÊú∫ÊµãÈáèÂÄº
 831              		.loc 1 246 5 view .LVU255
 247:moudels/motor/DJImotor/dji_motor.c ****     float pid_measure, pid_ref;             // ÁîµÊú∫PIDÊµãÈáèÂÄºÂíåËÆæÂÆöÂÄº
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 22


 832              		.loc 1 247 5 view .LVU256
 248:moudels/motor/DJImotor/dji_motor.c **** 
 249:moudels/motor/DJImotor/dji_motor.c ****     // ÈÅçÂéÜÊâÄÊúâÁîµÊú∫ÂÆû‰æã,ËøõË°å‰∏≤Á∫ßPIDÁöÑËÆ°ÁÆóÂπ∂ËÆæÁΩÆÂèëÈÄÅÊä•ÊñáÁöÑÂÄº
 250:moudels/motor/DJImotor/dji_motor.c ****     for (size_t i = 0; i < idx; ++i)
 833              		.loc 1 250 5 view .LVU257
 834              	.LBB6:
 835              		.loc 1 250 10 view .LVU258
 836              	.LVL53:
 837              		.loc 1 250 17 is_stmt 0 view .LVU259
 838 0002 0025     		movs	r5, #0
 839              		.loc 1 250 5 view .LVU260
 840 0004 50E0     		b	.L50
 841              	.LVL54:
 842              	.L74:
 251:moudels/motor/DJImotor/dji_motor.c ****     { // ÂáèÂ∞èËÆøÂ≠òÂºÄÈîÄ,ÂÖà‰øùÂ≠òÊåáÈíàÂºïÁî®
 252:moudels/motor/DJImotor/dji_motor.c ****         motor = dji_motor_instance[i];
 253:moudels/motor/DJImotor/dji_motor.c ****         motor_setting = &motor->motor_settings;
 254:moudels/motor/DJImotor/dji_motor.c ****         motor_controller = &motor->motor_controller;
 255:moudels/motor/DJImotor/dji_motor.c ****         measure = &motor->measure;
 256:moudels/motor/DJImotor/dji_motor.c ****         pid_ref = motor_controller->pid_ref; // ‰øùÂ≠òËÆæÂÆöÂÄº,Èò≤Ê≠¢motor_controller->pid_refÂú®Ë
 257:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 258:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 843              		.loc 1 258 13 is_stmt 1 view .LVU261
 844              		.loc 1 258 21 is_stmt 0 view .LVU262
 845 0006 F1EE600A 		vneg.f32	s1, s1
 846              	.LVL55:
 847              		.loc 1 258 21 view .LVU263
 848 000a 5AE0     		b	.L51
 849              	.L75:
 259:moudels/motor/DJImotor/dji_motor.c **** 
 260:moudels/motor/DJImotor/dji_motor.c ****         // pid_ref‰ºöÈ°∫Ê¨°ÈÄöËøáË¢´ÂêØÁî®ÁöÑÈó≠ÁéØÂÖÖÂΩìÊï∞ÊçÆÁöÑËΩΩ‰Ωì
 261:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆó‰ΩçÁΩÆÁéØ,Âè™ÊúâÂêØÁî®‰ΩçÁΩÆÁéØ‰∏îÂ§ñÂ±ÇÈó≠ÁéØ‰∏∫‰ΩçÁΩÆÊó∂‰ºöËÆ°ÁÆóÈÄüÂ∫¶ÁéØËæìÂá∫
 262:moudels/motor/DJImotor/dji_motor.c ****         if ((motor_setting->close_loop_type & ANGLE_LOOP) && motor_setting->outer_loop_type == ANGL
 263:moudels/motor/DJImotor/dji_motor.c ****         {
 264:moudels/motor/DJImotor/dji_motor.c ****             if (motor_setting->angle_feedback_source == OTHER_FEED)
 850              		.loc 1 264 13 is_stmt 1 view .LVU264
 851              		.loc 1 264 30 is_stmt 0 view .LVU265
 852 000c 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 853              		.loc 1 264 16 view .LVU266
 854 0010 012B     		cmp	r3, #1
 855 0012 08D0     		beq	.L68
 265:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 266:moudels/motor/DJImotor/dji_motor.c ****             else
 267:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = measure->total_angle; // MOTOR_FEED,ÂØπtotal angleÈó≠ÁéØ,Èò≤Ê≠¢Âú®Ëæπ
 856              		.loc 1 267 17 is_stmt 1 view .LVU267
 857              		.loc 1 267 29 is_stmt 0 view .LVU268
 858 0014 94ED060A 		vldr.32	s0, [r4, #24]
 859              	.LVL56:
 860              	.L54:
 268:moudels/motor/DJImotor/dji_motor.c ****             // Êõ¥Êñ∞pid_refËøõÂÖ•‰∏ã‰∏Ä‰∏™ÁéØ
 269:moudels/motor/DJImotor/dji_motor.c ****             pid_ref = PIDCalculate(&motor_controller->angle_PID, pid_measure, pid_ref);
 861              		.loc 1 269 13 is_stmt 1 view .LVU269
 862              		.loc 1 269 23 is_stmt 0 view .LVU270
 863 0018 04F59470 		add	r0, r4, #296
 864 001c FFF7FEFF 		bl	PIDCalculate
 865              	.LVL57:
 866              		.loc 1 269 23 view .LVU271
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 23


 867 0020 F0EE400A 		vmov.f32	s1, s0
 868              	.LVL58:
 869              		.loc 1 269 23 view .LVU272
 870 0024 56E0     		b	.L52
 871              	.LVL59:
 872              	.L68:
 265:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 873              		.loc 1 265 17 is_stmt 1 view .LVU273
 265:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 874              		.loc 1 265 48 is_stmt 0 view .LVU274
 875 0026 A36A     		ldr	r3, [r4, #40]
 265:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 876              		.loc 1 265 29 view .LVU275
 877 0028 93ED000A 		vldr.32	s0, [r3]
 878              	.LVL60:
 265:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 879              		.loc 1 265 29 view .LVU276
 880 002c F4E7     		b	.L54
 881              	.LVL61:
 882              	.L56:
 270:moudels/motor/DJImotor/dji_motor.c ****         }
 271:moudels/motor/DJImotor/dji_motor.c **** 
 272:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆóÈÄüÂ∫¶ÁéØ,(Â§ñÂ±ÇÈó≠ÁéØ‰∏∫ÈÄüÂ∫¶Êàñ‰ΩçÁΩÆ)‰∏î(ÂêØÁî®ÈÄüÂ∫¶ÁéØ)Êó∂‰ºöËÆ°ÁÆóÈÄüÂ∫¶Áé
 273:moudels/motor/DJImotor/dji_motor.c ****         if ((motor_setting->close_loop_type & SPEED_LOOP) && (motor_setting->outer_loop_type & (ANG
 274:moudels/motor/DJImotor/dji_motor.c ****         {
 275:moudels/motor/DJImotor/dji_motor.c ****             if (motor_setting->feedforward_flag & SPEED_FEEDFORWARD)
 276:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 277:moudels/motor/DJImotor/dji_motor.c **** 
 278:moudels/motor/DJImotor/dji_motor.c ****             if (motor_setting->speed_feedback_source == OTHER_FEED)
 883              		.loc 1 278 13 is_stmt 1 view .LVU277
 884              		.loc 1 278 30 is_stmt 0 view .LVU278
 885 002e 94F82530 		ldrb	r3, [r4, #37]	@ zero_extendqisi2
 886              		.loc 1 278 16 view .LVU279
 887 0032 012B     		cmp	r3, #1
 888 0034 63D0     		beq	.L69
 279:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_speed_feedback_ptr;
 280:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 281:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = measure->speed_aps;
 889              		.loc 1 281 17 is_stmt 1 view .LVU280
 890              		.loc 1 281 29 is_stmt 0 view .LVU281
 891 0036 94ED020A 		vldr.32	s0, [r4, #8]
 892              	.LVL62:
 893              	.L58:
 282:moudels/motor/DJImotor/dji_motor.c ****             // Êõ¥Êñ∞pid_refËøõÂÖ•‰∏ã‰∏Ä‰∏™ÁéØ
 283:moudels/motor/DJImotor/dji_motor.c ****             pid_ref = PIDCalculate(&motor_controller->speed_PID, pid_measure, pid_ref);
 894              		.loc 1 283 13 is_stmt 1 view .LVU282
 895              		.loc 1 283 23 is_stmt 0 view .LVU283
 896 003a 04F1B000 		add	r0, r4, #176
 897 003e FFF7FEFF 		bl	PIDCalculate
 898              	.LVL63:
 899              		.loc 1 283 23 view .LVU284
 900 0042 F0EE400A 		vmov.f32	s1, s0
 901              	.LVL64:
 902              	.L55:
 284:moudels/motor/DJImotor/dji_motor.c ****         }
 285:moudels/motor/DJImotor/dji_motor.c **** 
 286:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆóÁîµÊµÅÁéØ,ÁõÆÂâçÂè™Ë¶ÅÂêØÁî®‰∫ÜÁîµÊµÅÁéØÂ∞±ËÆ°ÁÆó,‰∏çÁÆ°Â§ñÂ±ÇÈó≠ÁéØÊòØ‰ªÄ‰πà,Âπ∂‰
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 24


 287:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->feedforward_flag & CURRENT_FEEDFORWARD)
 903              		.loc 1 287 9 is_stmt 1 view .LVU285
 904              		.loc 1 287 26 is_stmt 0 view .LVU286
 905 0046 94F82630 		ldrb	r3, [r4, #38]	@ zero_extendqisi2
 906              		.loc 1 287 12 view .LVU287
 907 004a 13F0010F 		tst	r3, #1
 908 004e 04D0     		beq	.L59
 288:moudels/motor/DJImotor/dji_motor.c ****             pid_ref += *motor_controller->current_feedforward_ptr;
 909              		.loc 1 288 13 is_stmt 1 view .LVU288
 910              		.loc 1 288 41 is_stmt 0 view .LVU289
 911 0050 636B     		ldr	r3, [r4, #52]
 912              		.loc 1 288 24 view .LVU290
 913 0052 D3ED007A 		vldr.32	s15, [r3]
 914              		.loc 1 288 21 view .LVU291
 915 0056 70EEA70A 		vadd.f32	s1, s1, s15
 916              	.LVL65:
 917              	.L59:
 289:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->close_loop_type & CURRENT_LOOP)
 918              		.loc 1 289 9 is_stmt 1 view .LVU292
 919              		.loc 1 289 26 is_stmt 0 view .LVU293
 920 005a 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 921              		.loc 1 289 12 view .LVU294
 922 005e 13F0010F 		tst	r3, #1
 923 0062 50D1     		bne	.L70
 924              	.L60:
 290:moudels/motor/DJImotor/dji_motor.c ****         {
 291:moudels/motor/DJImotor/dji_motor.c ****             pid_ref = PIDCalculate(&motor_controller->current_PID, measure->real_current, pid_ref);
 292:moudels/motor/DJImotor/dji_motor.c ****         }
 293:moudels/motor/DJImotor/dji_motor.c **** 
 294:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->feedback_reverse_flag == FEEDBACK_DIRECTION_REVERSE)
 925              		.loc 1 294 9 is_stmt 1 view .LVU295
 926              		.loc 1 294 26 is_stmt 0 view .LVU296
 927 0064 94F82330 		ldrb	r3, [r4, #35]	@ zero_extendqisi2
 928              		.loc 1 294 12 view .LVU297
 929 0068 012B     		cmp	r3, #1
 930 006a 59D0     		beq	.L71
 931              	.L61:
 295:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1;
 296:moudels/motor/DJImotor/dji_motor.c **** 
 297:moudels/motor/DJImotor/dji_motor.c ****         // Ëé∑ÂèñÊúÄÁªàËæìÂá∫
 298:moudels/motor/DJImotor/dji_motor.c ****         set = (int16_t)pid_ref;
 932              		.loc 1 298 9 is_stmt 1 view .LVU298
 933              		.loc 1 298 13 is_stmt 0 view .LVU299
 934 006c FDEEE07A 		vcvt.s32.f32	s15, s1
 935 0070 17EE903A 		vmov	r3, s15	@ int
 936              	.LVL66:
 299:moudels/motor/DJImotor/dji_motor.c **** 
 300:moudels/motor/DJImotor/dji_motor.c ****         // ÂàÜÁªÑÂ°´ÂÖ•ÂèëÈÄÅÊï∞ÊçÆ
 301:moudels/motor/DJImotor/dji_motor.c ****         group = motor->sender_group;
 937              		.loc 1 301 9 is_stmt 1 view .LVU300
 938              		.loc 1 301 15 is_stmt 0 view .LVU301
 939 0074 94F8AC11 		ldrb	r1, [r4, #428]	@ zero_extendqisi2
 940              	.LVL67:
 302:moudels/motor/DJImotor/dji_motor.c ****         num = motor->message_num;
 941              		.loc 1 302 9 is_stmt 1 view .LVU302
 942              		.loc 1 302 13 is_stmt 0 view .LVU303
 943 0078 94F8ADC1 		ldrb	ip, [r4, #429]	@ zero_extendqisi2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 25


 944              	.LVL68:
 303:moudels/motor/DJImotor/dji_motor.c ****         sender_assignment[group].tx_buff[2 * num] = (uint8_t)(set >> 8);         // ‰ΩéÂÖ´‰Ωç
 945              		.loc 1 303 9 is_stmt 1 view .LVU304
 946              		.loc 1 303 44 is_stmt 0 view .LVU305
 947 007c 4FEA4C00 		lsl	r0, ip, #1
 948              		.loc 1 303 53 view .LVU306
 949 0080 C3F30726 		ubfx	r6, r3, #8, #8
 950              		.loc 1 303 51 view .LVU307
 951 0084 01EB811E 		add	lr, r1, r1, lsl #6
 952 0088 374A     		ldr	r2, .L77
 953 008a 7244     		add	r2, r2, lr
 954 008c 02EB4C0E 		add	lr, r2, ip, lsl #1
 955 0090 8EF82460 		strb	r6, [lr, #36]
 304:moudels/motor/DJImotor/dji_motor.c ****         sender_assignment[group].tx_buff[2 * num + 1] = (uint8_t)(set & 0x00ff); // È´òÂÖ´‰Ωç
 956              		.loc 1 304 9 is_stmt 1 view .LVU308
 957              		.loc 1 304 50 is_stmt 0 view .LVU309
 958 0094 00F1010E 		add	lr, r0, #1
 959              		.loc 1 304 55 view .LVU310
 960 0098 7244     		add	r2, r2, lr
 961 009a 82F82430 		strb	r3, [r2, #36]
 305:moudels/motor/DJImotor/dji_motor.c **** 
 306:moudels/motor/DJImotor/dji_motor.c ****         // Ëã•ËØ•ÁîµÊú∫Â§Ñ‰∫éÂÅúÊ≠¢Áä∂ÊÄÅ,Áõ¥Êé•Â∞ÜbuffÁΩÆÈõ∂
 307:moudels/motor/DJImotor/dji_motor.c ****         if (motor->stop_flag == MOTOR_STOP)
 962              		.loc 1 307 9 is_stmt 1 view .LVU311
 963              		.loc 1 307 18 is_stmt 0 view .LVU312
 964 009e 94F8AF31 		ldrb	r3, [r4, #431]	@ zero_extendqisi2
 965              	.LVL69:
 966              		.loc 1 307 12 view .LVU313
 967 00a2 002B     		cmp	r3, #0
 968 00a4 3FD0     		beq	.L72
 969              	.LVL70:
 970              	.L62:
 250:moudels/motor/DJImotor/dji_motor.c ****     { // ÂáèÂ∞èËÆøÂ≠òÂºÄÈîÄ,ÂÖà‰øùÂ≠òÊåáÈíàÂºïÁî®
 971              		.loc 1 250 33 is_stmt 1 discriminator 2 view .LVU314
 972 00a6 0135     		adds	r5, r5, #1
 973              	.LVL71:
 974              	.L50:
 250:moudels/motor/DJImotor/dji_motor.c ****     { // ÂáèÂ∞èËÆøÂ≠òÂºÄÈîÄ,ÂÖà‰øùÂ≠òÊåáÈíàÂºïÁî®
 975              		.loc 1 250 26 discriminator 1 view .LVU315
 976 00a8 304B     		ldr	r3, .L77+4
 977 00aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 978 00ac AB42     		cmp	r3, r5
 979 00ae 48D9     		bls	.L73
 252:moudels/motor/DJImotor/dji_motor.c ****         motor_setting = &motor->motor_settings;
 980              		.loc 1 252 9 view .LVU316
 252:moudels/motor/DJImotor/dji_motor.c ****         motor_setting = &motor->motor_settings;
 981              		.loc 1 252 15 is_stmt 0 view .LVU317
 982 00b0 2F4B     		ldr	r3, .L77+8
 983 00b2 53F82540 		ldr	r4, [r3, r5, lsl #2]
 984              	.LVL72:
 253:moudels/motor/DJImotor/dji_motor.c ****         motor_controller = &motor->motor_controller;
 985              		.loc 1 253 9 is_stmt 1 view .LVU318
 254:moudels/motor/DJImotor/dji_motor.c ****         measure = &motor->measure;
 986              		.loc 1 254 9 view .LVU319
 255:moudels/motor/DJImotor/dji_motor.c ****         pid_ref = motor_controller->pid_ref; // ‰øùÂ≠òËÆæÂÆöÂÄº,Èò≤Ê≠¢motor_controller->pid_refÂú®Ë
 987              		.loc 1 255 9 view .LVU320
 256:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 26


 988              		.loc 1 256 9 view .LVU321
 256:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 989              		.loc 1 256 17 is_stmt 0 view .LVU322
 990 00b6 D4ED680A 		vldr.32	s1, [r4, #416]
 991              	.LVL73:
 257:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 992              		.loc 1 257 9 is_stmt 1 view .LVU323
 257:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 993              		.loc 1 257 26 is_stmt 0 view .LVU324
 994 00ba 94F82230 		ldrb	r3, [r4, #34]	@ zero_extendqisi2
 257:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 995              		.loc 1 257 12 view .LVU325
 996 00be 012B     		cmp	r3, #1
 997 00c0 A1D0     		beq	.L74
 998              	.L51:
 262:moudels/motor/DJImotor/dji_motor.c ****         {
 999              		.loc 1 262 9 is_stmt 1 view .LVU326
 262:moudels/motor/DJImotor/dji_motor.c ****         {
 1000              		.loc 1 262 27 is_stmt 0 view .LVU327
 1001 00c2 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 262:moudels/motor/DJImotor/dji_motor.c ****         {
 1002              		.loc 1 262 12 view .LVU328
 1003 00c6 13F0040F 		tst	r3, #4
 1004 00ca 03D0     		beq	.L52
 262:moudels/motor/DJImotor/dji_motor.c ****         {
 1005              		.loc 1 262 75 discriminator 1 view .LVU329
 1006 00cc 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
 262:moudels/motor/DJImotor/dji_motor.c ****         {
 1007              		.loc 1 262 59 discriminator 1 view .LVU330
 1008 00d0 042B     		cmp	r3, #4
 1009 00d2 9BD0     		beq	.L75
 1010              	.L52:
 273:moudels/motor/DJImotor/dji_motor.c ****         {
 1011              		.loc 1 273 9 is_stmt 1 view .LVU331
 273:moudels/motor/DJImotor/dji_motor.c ****         {
 1012              		.loc 1 273 27 is_stmt 0 view .LVU332
 1013 00d4 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 273:moudels/motor/DJImotor/dji_motor.c ****         {
 1014              		.loc 1 273 12 view .LVU333
 1015 00d8 13F0020F 		tst	r3, #2
 1016 00dc B3D0     		beq	.L55
 273:moudels/motor/DJImotor/dji_motor.c ****         {
 1017              		.loc 1 273 76 discriminator 1 view .LVU334
 1018 00de 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
 273:moudels/motor/DJImotor/dji_motor.c ****         {
 1019              		.loc 1 273 59 discriminator 1 view .LVU335
 1020 00e2 13F0060F 		tst	r3, #6
 1021 00e6 AED0     		beq	.L55
 275:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1022              		.loc 1 275 13 is_stmt 1 view .LVU336
 275:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1023              		.loc 1 275 30 is_stmt 0 view .LVU337
 1024 00e8 94F82630 		ldrb	r3, [r4, #38]	@ zero_extendqisi2
 275:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1025              		.loc 1 275 16 view .LVU338
 1026 00ec 13F0020F 		tst	r3, #2
 1027 00f0 9DD0     		beq	.L56
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 27


 276:moudels/motor/DJImotor/dji_motor.c **** 
 1028              		.loc 1 276 17 is_stmt 1 view .LVU339
 276:moudels/motor/DJImotor/dji_motor.c **** 
 1029              		.loc 1 276 45 is_stmt 0 view .LVU340
 1030 00f2 236B     		ldr	r3, [r4, #48]
 276:moudels/motor/DJImotor/dji_motor.c **** 
 1031              		.loc 1 276 28 view .LVU341
 1032 00f4 D3ED007A 		vldr.32	s15, [r3]
 276:moudels/motor/DJImotor/dji_motor.c **** 
 1033              		.loc 1 276 25 view .LVU342
 1034 00f8 70EEA70A 		vadd.f32	s1, s1, s15
 1035              	.LVL74:
 276:moudels/motor/DJImotor/dji_motor.c **** 
 1036              		.loc 1 276 25 view .LVU343
 1037 00fc 97E7     		b	.L56
 1038              	.L69:
 279:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1039              		.loc 1 279 17 is_stmt 1 view .LVU344
 279:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1040              		.loc 1 279 48 is_stmt 0 view .LVU345
 1041 00fe E36A     		ldr	r3, [r4, #44]
 279:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1042              		.loc 1 279 29 view .LVU346
 1043 0100 93ED000A 		vldr.32	s0, [r3]
 1044              	.LVL75:
 279:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1045              		.loc 1 279 29 view .LVU347
 1046 0104 99E7     		b	.L58
 1047              	.LVL76:
 1048              	.L70:
 291:moudels/motor/DJImotor/dji_motor.c ****         }
 1049              		.loc 1 291 13 is_stmt 1 view .LVU348
 291:moudels/motor/DJImotor/dji_motor.c ****         }
 1050              		.loc 1 291 75 is_stmt 0 view .LVU349
 1051 0106 B4F90C30 		ldrsh	r3, [r4, #12]
 1052 010a 00EE103A 		vmov	s0, r3	@ int
 291:moudels/motor/DJImotor/dji_motor.c ****         }
 1053              		.loc 1 291 23 view .LVU350
 1054 010e B8EEC00A 		vcvt.f32.s32	s0, s0
 1055 0112 04F13800 		add	r0, r4, #56
 1056 0116 FFF7FEFF 		bl	PIDCalculate
 1057              	.LVL77:
 291:moudels/motor/DJImotor/dji_motor.c ****         }
 1058              		.loc 1 291 23 view .LVU351
 1059 011a F0EE400A 		vmov.f32	s1, s0
 1060              	.LVL78:
 291:moudels/motor/DJImotor/dji_motor.c ****         }
 1061              		.loc 1 291 23 view .LVU352
 1062 011e A1E7     		b	.L60
 1063              	.LVL79:
 1064              	.L71:
 295:moudels/motor/DJImotor/dji_motor.c **** 
 1065              		.loc 1 295 13 is_stmt 1 view .LVU353
 295:moudels/motor/DJImotor/dji_motor.c **** 
 1066              		.loc 1 295 21 is_stmt 0 view .LVU354
 1067 0120 F1EE600A 		vneg.f32	s1, s1
 1068              	.LVL80:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 28


 295:moudels/motor/DJImotor/dji_motor.c **** 
 1069              		.loc 1 295 21 view .LVU355
 1070 0124 A2E7     		b	.L61
 1071              	.LVL81:
 1072              	.L72:
 308:moudels/motor/DJImotor/dji_motor.c ****             memset(sender_assignment[group].tx_buff + 2 * num, 0, 16u);
 1073              		.loc 1 308 13 is_stmt 1 view .LVU356
 1074              		.loc 1 308 20 is_stmt 0 view .LVU357
 1075 0126 01EB8111 		add	r1, r1, r1, lsl #6
 1076 012a 2031     		adds	r1, r1, #32
 1077 012c 0E4B     		ldr	r3, .L77
 1078 012e 1944     		add	r1, r1, r3
 1079 0130 0431     		adds	r1, r1, #4
 1080              		.loc 1 308 13 view .LVU358
 1081 0132 0844     		add	r0, r0, r1
 1082 0134 0023     		movs	r3, #0
 1083 0136 41F81C30 		str	r3, [r1, ip, lsl #1]	@ unaligned
 1084              	.LVL82:
 1085              		.loc 1 308 13 view .LVU359
 1086 013a 4360     		str	r3, [r0, #4]	@ unaligned
 1087 013c 8360     		str	r3, [r0, #8]	@ unaligned
 1088 013e C360     		str	r3, [r0, #12]	@ unaligned
 1089 0140 B1E7     		b	.L62
 1090              	.LVL83:
 1091              	.L73:
 1092              		.loc 1 308 13 view .LVU360
 1093              	.LBE6:
 1094              	.LBB7:
 309:moudels/motor/DJImotor/dji_motor.c ****     }
 310:moudels/motor/DJImotor/dji_motor.c **** 
 311:moudels/motor/DJImotor/dji_motor.c ****     // ÈÅçÂéÜflag,Ê£ÄÊü•ÊòØÂê¶Ë¶ÅÂèëÈÄÅËøô‰∏ÄÂ∏ßÊä•Êñá
 312:moudels/motor/DJImotor/dji_motor.c ****     for (size_t i = 0; i < 6; ++i)
 1095              		.loc 1 312 17 view .LVU361
 1096 0142 0024     		movs	r4, #0
 1097 0144 00E0     		b	.L64
 1098              	.LVL84:
 1099              	.L65:
 1100              		.loc 1 312 31 is_stmt 1 discriminator 2 view .LVU362
 1101 0146 0134     		adds	r4, r4, #1
 1102              	.LVL85:
 1103              	.L64:
 1104              		.loc 1 312 26 discriminator 1 view .LVU363
 1105 0148 052C     		cmp	r4, #5
 1106 014a 0CD8     		bhi	.L76
 313:moudels/motor/DJImotor/dji_motor.c ****     {
 314:moudels/motor/DJImotor/dji_motor.c ****         if (sender_enable_flag[i])
 1107              		.loc 1 314 9 view .LVU364
 1108              		.loc 1 314 31 is_stmt 0 view .LVU365
 1109 014c 094B     		ldr	r3, .L77+12
 1110 014e 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 1111              		.loc 1 314 12 view .LVU366
 1112 0150 002B     		cmp	r3, #0
 1113 0152 F8D0     		beq	.L65
 315:moudels/motor/DJImotor/dji_motor.c ****         {
 316:moudels/motor/DJImotor/dji_motor.c ****             CANTransmit(&sender_assignment[i], 1);
 1114              		.loc 1 316 13 is_stmt 1 view .LVU367
 1115 0154 04EB8410 		add	r0, r4, r4, lsl #6
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 29


 1116 0158 B7EE000A 		vmov.f32	s0, #1.0e+0
 1117 015c 024B     		ldr	r3, .L77
 1118 015e 1844     		add	r0, r0, r3
 1119 0160 FFF7FEFF 		bl	CANTransmit
 1120              	.LVL86:
 1121 0164 EFE7     		b	.L65
 1122              	.L76:
 1123              	.LBE7:
 317:moudels/motor/DJImotor/dji_motor.c ****         }
 318:moudels/motor/DJImotor/dji_motor.c ****     }
 319:moudels/motor/DJImotor/dji_motor.c **** }
 1124              		.loc 1 319 1 is_stmt 0 view .LVU368
 1125 0166 70BD     		pop	{r4, r5, r6, pc}
 1126              	.LVL87:
 1127              	.L78:
 1128              		.loc 1 319 1 view .LVU369
 1129              		.align	2
 1130              	.L77:
 1131 0168 00000000 		.word	sender_assignment
 1132 016c 00000000 		.word	idx
 1133 0170 00000000 		.word	dji_motor_instance
 1134 0174 00000000 		.word	sender_enable_flag
 1135              		.cfi_endproc
 1136              	.LFE146:
 1138              		.section	.bss.sender_enable_flag,"aw",%nobits
 1139              		.align	2
 1142              	sender_enable_flag:
 1143 0000 00000000 		.space	6
 1143      0000
 1144              		.section	.data.sender_assignment,"aw"
 1145              		.align	2
 1148              	sender_assignment:
 1149 0000 00000000 		.word	hcan1
 1150 0004 FF010000 		.word	511
 1151 0008 00000000 		.space	4
 1152 000c 00000000 		.word	0
 1153 0010 00000000 		.word	0
 1154 0014 08000000 		.word	8
 1155 0018 00000000 		.space	4
 1156 001c 00000000 		.space	8
 1156      00000000 
 1157 0024 0000     		.ascii	"\000\000"
 1158 0026 00000000 		.space	6
 1158      0000
 1159 002c 00000000 		.space	21
 1159      00000000 
 1159      00000000 
 1159      00000000 
 1159      00000000 
 1160 0041 00000000 		.4byte	hcan1
 1161 0045 00020000 		.4byte	512
 1162 0049 00000000 		.space	4
 1163 004d 00000000 		.4byte	0
 1164 0051 00000000 		.4byte	0
 1165 0055 08000000 		.4byte	8
 1166 0059 00000000 		.space	4
 1167 005d 00000000 		.space	8
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 30


 1167      00000000 
 1168 0065 0000     		.ascii	"\000\000"
 1169 0067 00000000 		.space	6
 1169      0000
 1170 006d 00000000 		.space	21
 1170      00000000 
 1170      00000000 
 1170      00000000 
 1170      00000000 
 1171 0082 00000000 		.4byte	hcan1
 1172 0086 FF020000 		.4byte	767
 1173 008a 00000000 		.space	4
 1174 008e 00000000 		.4byte	0
 1175 0092 00000000 		.4byte	0
 1176 0096 08000000 		.4byte	8
 1177 009a 00000000 		.space	4
 1178 009e 00000000 		.space	8
 1178      00000000 
 1179 00a6 0000     		.ascii	"\000\000"
 1180 00a8 00000000 		.space	6
 1180      0000
 1181 00ae 00000000 		.space	21
 1181      00000000 
 1181      00000000 
 1181      00000000 
 1181      00000000 
 1182 00c3 00000000 		.4byte	hcan2
 1183 00c7 FF010000 		.4byte	511
 1184 00cb 00000000 		.space	4
 1185 00cf 00000000 		.4byte	0
 1186 00d3 00000000 		.4byte	0
 1187 00d7 08000000 		.4byte	8
 1188 00db 00000000 		.space	4
 1189 00df 00000000 		.space	8
 1189      00000000 
 1190 00e7 0000     		.ascii	"\000\000"
 1191 00e9 00000000 		.space	6
 1191      0000
 1192 00ef 00000000 		.space	21
 1192      00000000 
 1192      00000000 
 1192      00000000 
 1192      00000000 
 1193 0104 00000000 		.word	hcan2
 1194 0108 00020000 		.word	512
 1195 010c 00000000 		.space	4
 1196 0110 00000000 		.word	0
 1197 0114 00000000 		.word	0
 1198 0118 08000000 		.word	8
 1199 011c 00000000 		.space	4
 1200 0120 00000000 		.space	8
 1200      00000000 
 1201 0128 0000     		.ascii	"\000\000"
 1202 012a 00000000 		.space	6
 1202      0000
 1203 0130 00000000 		.space	21
 1203      00000000 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 31


 1203      00000000 
 1203      00000000 
 1203      00000000 
 1204 0145 00000000 		.4byte	hcan2
 1205 0149 FF020000 		.4byte	767
 1206 014d 00000000 		.space	4
 1207 0151 00000000 		.4byte	0
 1208 0155 00000000 		.4byte	0
 1209 0159 08000000 		.4byte	8
 1210 015d 00000000 		.space	4
 1211 0161 00000000 		.space	8
 1211      00000000 
 1212 0169 0000     		.ascii	"\000\000"
 1213 016b 00000000 		.space	6
 1213      0000
 1214 0171 00000000 		.space	21
 1214      00000000 
 1214      00000000 
 1214      00000000 
 1214      00000000 
 1215              		.section	.bss.dji_motor_instance,"aw",%nobits
 1216              		.align	2
 1219              	dji_motor_instance:
 1220 0000 00000000 		.space	48
 1220      00000000 
 1220      00000000 
 1220      00000000 
 1220      00000000 
 1221              		.section	.bss.idx,"aw",%nobits
 1224              	idx:
 1225 0000 00       		.space	1
 1226              		.text
 1227              	.Letext0:
 1228              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1229              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1230              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1231              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1232              		.file 6 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1233              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 1234              		.file 8 "Core/Inc/can.h"
 1235              		.file 9 "bsp/can/bsp_can.h"
 1236              		.file 10 "moudels/algorithm/controller.h"
 1237              		.file 11 "moudels/motor/motor_def.h"
 1238              		.file 12 "moudels/daemon/daemon.h"
 1239              		.file 13 "moudels/motor/DJImotor/dji_motor.h"
 1240              		.file 14 "bsp/dwt/bsp_dwt.h"
 1241              		.file 15 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 1242              		.file 16 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 1243              		.file 17 "<built-in>"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 dji_motor.c
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:21     .text.MotorSenderGrouping:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:26     .text.MotorSenderGrouping:00000000 MotorSenderGrouping
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:307    .text.MotorSenderGrouping:00000108 $d
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1142   .bss.sender_enable_flag:00000000 sender_enable_flag
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1224   .bss.idx:00000000 idx
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1219   .bss.dji_motor_instance:00000000 dji_motor_instance
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:315    .text.DJIMotorLostCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:320    .text.DJIMotorLostCallback:00000000 DJIMotorLostCallback
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:336    .text.DecodeDJIMotor:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:341    .text.DecodeDJIMotor:00000000 DecodeDJIMotor
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:505    .text.DecodeDJIMotor:000000f8 $d
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:514    .text.DJIMotorChangeFeed:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:520    .text.DJIMotorChangeFeed:00000000 DJIMotorChangeFeed
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:554    .text.DJIMotorStop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:560    .text.DJIMotorStop:00000000 DJIMotorStop
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:578    .text.DJIMotorEnable:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:584    .text.DJIMotorEnable:00000000 DJIMotorEnable
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:602    .text.DJIMotorInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:608    .text.DJIMotorInit:00000000 DJIMotorInit
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:754    .text.DJIMotorInit:000000c4 $d
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:762    .text.DJIMotorOuterLoop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:768    .text.DJIMotorOuterLoop:00000000 DJIMotorOuterLoop
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:785    .text.DJIMotorSetRef:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:791    .text.DJIMotorSetRef:00000000 DJIMotorSetRef
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:808    .text.DJIMotorControl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:814    .text.DJIMotorControl:00000000 DJIMotorControl
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1131   .text.DJIMotorControl:00000168 $d
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1148   .data.sender_assignment:00000000 sender_assignment
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1139   .bss.sender_enable_flag:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1145   .data.sender_assignment:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1216   .bss.dji_motor_instance:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccGV1ymo.s:1225   .bss.idx:00000000 $d

UNDEFINED SYMBOLS
hcan1
DWT_GetDeltaT
malloc
memset
PIDInit
CANRegister
DaemonRegister
PIDCalculate
CANTransmit
hcan2
