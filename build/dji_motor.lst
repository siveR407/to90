ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"dji_motor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "moudels/motor/DJImotor/dji_motor.c"
  20              		.section	.text.MotorSenderGrouping,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MotorSenderGrouping:
  27              	.LVL0:
  28              	.LFB137:
   1:moudels/motor/DJImotor/dji_motor.c **** #include "dji_motor.h"
   2:moudels/motor/DJImotor/dji_motor.c **** #include "general_def.h"
   3:moudels/motor/DJImotor/dji_motor.c **** #include "bsp_dwt.h"
   4:moudels/motor/DJImotor/dji_motor.c **** #include "bsp_log.h"
   5:moudels/motor/DJImotor/dji_motor.c **** #include "daemon.h"
   6:moudels/motor/DJImotor/dji_motor.c **** static uint8_t idx = 0; // register idx,ÊòØËØ•Êñá‰ª∂ÁöÑÂÖ®Â±ÄÁîµÊú∫Á¥¢Âºï,Âú®Ê≥®ÂÜåÊó∂‰ΩøÁî®
   7:moudels/motor/DJImotor/dji_motor.c **** /* DJIÁîµÊú∫ÁöÑÂÆû‰æã,Ê≠§Â§Ñ‰ªÖ‰øùÂ≠òÊåáÈíà,ÂÜÖÂ≠òÁöÑÂàÜÈÖçÂ∞ÜÈÄöËøáÁîµÊú∫ÂÆû‰æãÂàùÂßãÂåñÊó∂ÈÄöËøám
   8:moudels/motor/DJImotor/dji_motor.c **** static DJIMotorInstance *dji_motor_instance[DJI_MOTOR_CNT] = {NULL}; // ‰ºöÂú®control‰ªªÂä°‰∏≠ÈÅçÂé
   9:moudels/motor/DJImotor/dji_motor.c **** 
  10:moudels/motor/DJImotor/dji_motor.c **** /**
  11:moudels/motor/DJImotor/dji_motor.c ****  * @brief Áî±‰∫éDJIÁîµÊú∫ÂèëÈÄÅ‰ª•Âõõ‰∏™‰∏ÄÁªÑÁöÑÂΩ¢ÂºèËøõË°å,ÊïÖÂØπÂÖ∂ËøõË°åÁâπÊÆäÂ§ÑÁêÜ,Áî®6‰∏™(2
  12:moudels/motor/DJImotor/dji_motor.c ****  *        ËØ•ÂèòÈáèÂ∞ÜÂú® DJIMotorControl() ‰∏≠‰ΩøÁî®,ÂàÜÁªÑÂú® MotorSenderGrouping()‰∏≠ËøõË°å
  13:moudels/motor/DJImotor/dji_motor.c ****  *
  14:moudels/motor/DJImotor/dji_motor.c ****  * @note  Âõ†‰∏∫Âè™Áî®‰∫éÂèëÈÄÅ,ÊâÄ‰ª•‰∏çÈúÄË¶ÅÂú®bsp_can‰∏≠Ê≥®ÂÜå
  15:moudels/motor/DJImotor/dji_motor.c ****  *
  16:moudels/motor/DJImotor/dji_motor.c ****  * C610(m2006)/C620(m3508):0x1ff,0x200;
  17:moudels/motor/DJImotor/dji_motor.c ****  * GM6020:0x1ff,0x2ff
  18:moudels/motor/DJImotor/dji_motor.c ****  * ÂèçÈ¶à(rx_id): GM6020: 0x204+id ; C610/C620: 0x200+id
  19:moudels/motor/DJImotor/dji_motor.c ****  * can1: [0]:0x1FF,[1]:0x200,[2]:0x2FF
  20:moudels/motor/DJImotor/dji_motor.c ****  * can2: [3]:0x1FF,[4]:0x200,[5]:0x2FF
  21:moudels/motor/DJImotor/dji_motor.c ****  */
  22:moudels/motor/DJImotor/dji_motor.c **** static CANInstance sender_assignment[6] = {
  23:moudels/motor/DJImotor/dji_motor.c ****     [0] = {.can_handle = &hcan1, .txconf.StdId = 0x1ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  24:moudels/motor/DJImotor/dji_motor.c ****     [1] = {.can_handle = &hcan1, .txconf.StdId = 0x200, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  25:moudels/motor/DJImotor/dji_motor.c ****     [2] = {.can_handle = &hcan1, .txconf.StdId = 0x2ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  26:moudels/motor/DJImotor/dji_motor.c ****     [3] = {.can_handle = &hcan2, .txconf.StdId = 0x1ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  27:moudels/motor/DJImotor/dji_motor.c ****     [4] = {.can_handle = &hcan2, .txconf.StdId = 0x200, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  28:moudels/motor/DJImotor/dji_motor.c ****     [5] = {.can_handle = &hcan2, .txconf.StdId = 0x2ff, .txconf.IDE = CAN_ID_STD, .txconf.RTR = CAN
  29:moudels/motor/DJImotor/dji_motor.c **** };
  30:moudels/motor/DJImotor/dji_motor.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 2


  31:moudels/motor/DJImotor/dji_motor.c **** /**
  32:moudels/motor/DJImotor/dji_motor.c ****  * @brief 6‰∏™Áî®‰∫éÁ°ÆËÆ§ÊòØÂê¶ÊúâÁîµÊú∫Ê≥®ÂÜåÂà∞sender_assignment‰∏≠ÁöÑÊ†áÂøó‰Ωç,Èò≤Ê≠¢ÂèëÈÄÅÁ©∫Â
  33:moudels/motor/DJImotor/dji_motor.c ****  *        flagÁöÑÂàùÂßãÂåñÂú® MotorSenderGrouping()‰∏≠ËøõË°å
  34:moudels/motor/DJImotor/dji_motor.c ****  */
  35:moudels/motor/DJImotor/dji_motor.c **** static uint8_t sender_enable_flag[6] = {0};
  36:moudels/motor/DJImotor/dji_motor.c **** 
  37:moudels/motor/DJImotor/dji_motor.c **** /**
  38:moudels/motor/DJImotor/dji_motor.c ****  * @brief Ê†πÊçÆÁîµË∞É/Êã®Á†ÅÂºÄÂÖ≥‰∏äÁöÑID,Ê†πÊçÆËØ¥Êòé‰π¶ÁöÑÈªòËÆ§idÂàÜÈÖçÊñπÂºèËÆ°ÁÆóÂèëÈÄÅIDÂíå
  39:moudels/motor/DJImotor/dji_motor.c ****  *        Âπ∂ÂØπÁîµÊú∫ËøõË°åÂàÜÁªÑ‰ª•‰æøÂ§ÑÁêÜÂ§öÁîµÊú∫ÊéßÂà∂ÂëΩ‰ª§
  40:moudels/motor/DJImotor/dji_motor.c ****  */
  41:moudels/motor/DJImotor/dji_motor.c **** static void MotorSenderGrouping(DJIMotorInstance *motor, CAN_Init_Config_s *config)
  42:moudels/motor/DJImotor/dji_motor.c **** {
  29              		.loc 1 42 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 42 1 is_stmt 0 view .LVU1
  35 0000 30B4     		push	{r4, r5}
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 5, -4
  43:moudels/motor/DJImotor/dji_motor.c ****     uint8_t motor_id = config->tx_id - 1; // ‰∏ãÊ†á‰ªéÈõ∂ÂºÄÂßã,ÂÖàÂáè‰∏ÄÊñπ‰æøËµãÂÄº
  39              		.loc 1 43 5 is_stmt 1 view .LVU2
  40              		.loc 1 43 38 is_stmt 0 view .LVU3
  41 0002 91F808C0 		ldrb	ip, [r1, #8]	@ zero_extendqisi2
  42              		.loc 1 43 13 view .LVU4
  43 0006 0CF1FF33 		add	r3, ip, #-1
  44 000a DBB2     		uxtb	r3, r3
  45              	.LVL1:
  44:moudels/motor/DJImotor/dji_motor.c ****     uint8_t motor_send_num;
  46              		.loc 1 44 5 is_stmt 1 view .LVU5
  45:moudels/motor/DJImotor/dji_motor.c ****     uint8_t motor_grouping;
  47              		.loc 1 45 5 view .LVU6
  46:moudels/motor/DJImotor/dji_motor.c **** 
  47:moudels/motor/DJImotor/dji_motor.c ****     switch (motor->motor_type)
  48              		.loc 1 47 5 view .LVU7
  49              		.loc 1 47 18 is_stmt 0 view .LVU8
  50 000c 90F8AE21 		ldrb	r2, [r0, #430]	@ zero_extendqisi2
  51              		.loc 1 47 5 view .LVU9
  52 0010 012A     		cmp	r2, #1
  53 0012 3ED0     		beq	.L2
  54 0014 54B2     		sxtb	r4, r2
  55 0016 002C     		cmp	r4, #0
  56 0018 73D0     		beq	.L3
  57 001a 023A     		subs	r2, r2, #2
  58 001c D2B2     		uxtb	r2, r2
  59 001e 012A     		cmp	r2, #1
  60 0020 6FD8     		bhi	.L3
  48:moudels/motor/DJImotor/dji_motor.c ****     {
  49:moudels/motor/DJImotor/dji_motor.c ****     case M2006:
  50:moudels/motor/DJImotor/dji_motor.c ****     case M3508:
  51:moudels/motor/DJImotor/dji_motor.c ****         if (motor_id < 4) // Ê†πÊçÆIDÂàÜÁªÑ
  61              		.loc 1 51 9 is_stmt 1 view .LVU10
  62              		.loc 1 51 12 is_stmt 0 view .LVU11
  63 0022 032B     		cmp	r3, #3
  64 0024 16D8     		bhi	.L4
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 3


  52:moudels/motor/DJImotor/dji_motor.c ****         {
  53:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id;
  65              		.loc 1 53 13 is_stmt 1 view .LVU12
  66              	.LVL2:
  54:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 1 : 4;
  67              		.loc 1 54 13 view .LVU13
  68              		.loc 1 54 36 is_stmt 0 view .LVU14
  69 0026 0C68     		ldr	r4, [r1]
  70              		.loc 1 54 28 view .LVU15
  71 0028 374A     		ldr	r2, .L26
  72 002a 9442     		cmp	r4, r2
  73 002c 0FD0     		beq	.L22
  53:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 1 : 4;
  74              		.loc 1 53 28 view .LVU16
  75 002e 1A46     		mov	r2, r3
  76              		.loc 1 54 28 discriminator 2 view .LVU17
  77 0030 0424     		movs	r4, #4
  78              	.LVL3:
  79              	.L5:
  55:moudels/motor/DJImotor/dji_motor.c ****         }
  56:moudels/motor/DJImotor/dji_motor.c ****         else
  57:moudels/motor/DJImotor/dji_motor.c ****         {
  58:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id - 4;
  59:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
  60:moudels/motor/DJImotor/dji_motor.c ****         }
  61:moudels/motor/DJImotor/dji_motor.c **** 
  62:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆóÊé•Êî∂idÂπ∂ËÆæÁΩÆÂàÜÁªÑÂèëÈÄÅid
  63:moudels/motor/DJImotor/dji_motor.c ****         config->rx_id = 0x200 + motor_id + 1;   // ÊääID+1,ËøõË°åÂàÜÁªÑËÆæÁΩÆ
  80              		.loc 1 63 9 is_stmt 1 view .LVU18
  81              		.loc 1 63 42 is_stmt 0 view .LVU19
  82 0032 03F20123 		addw	r3, r3, #513
  83              	.LVL4:
  84              		.loc 1 63 23 view .LVU20
  85 0036 CB60     		str	r3, [r1, #12]
  64:moudels/motor/DJImotor/dji_motor.c ****         sender_enable_flag[motor_grouping] = 1; // ËÆæÁΩÆÂèëÈÄÅÊ†áÂøó‰Ωç,Èò≤Ê≠¢ÂèëÈÄÅÁ©∫Â∏ß
  86              		.loc 1 64 9 is_stmt 1 view .LVU21
  87              		.loc 1 64 44 is_stmt 0 view .LVU22
  88 0038 344B     		ldr	r3, .L26+4
  89              	.LVL5:
  90              		.loc 1 64 44 view .LVU23
  91 003a 4FF0010C 		mov	ip, #1
  92 003e 03F804C0 		strb	ip, [r3, r4]
  65:moudels/motor/DJImotor/dji_motor.c ****         motor->message_num = motor_send_num;
  93              		.loc 1 65 9 is_stmt 1 view .LVU24
  94              		.loc 1 65 28 is_stmt 0 view .LVU25
  95 0042 80F8AD21 		strb	r2, [r0, #429]
  96              	.LVL6:
  66:moudels/motor/DJImotor/dji_motor.c ****         motor->sender_group = motor_grouping;
  97              		.loc 1 66 9 is_stmt 1 view .LVU26
  98              		.loc 1 66 29 is_stmt 0 view .LVU27
  99 0046 80F8AC41 		strb	r4, [r0, #428]
  67:moudels/motor/DJImotor/dji_motor.c **** 
  68:moudels/motor/DJImotor/dji_motor.c ****         // Ê£ÄÊü•ÊòØÂê¶ÂèëÁîüidÂÜ≤Á™Å
  69:moudels/motor/DJImotor/dji_motor.c ****         for (size_t i = 0; i < idx; ++i)
 100              		.loc 1 69 9 is_stmt 1 view .LVU28
 101              	.LBB2:
 102              		.loc 1 69 14 view .LVU29
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 4


 103              	.LVL7:
 104              		.loc 1 69 21 is_stmt 0 view .LVU30
 105 004a 0023     		movs	r3, #0
 106              		.loc 1 69 9 view .LVU31
 107 004c 0EE0     		b	.L6
 108              	.LVL8:
 109              	.L22:
 110              		.loc 1 69 9 view .LVU32
 111              	.LBE2:
  53:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 1 : 4;
 112              		.loc 1 53 28 view .LVU33
 113 004e 1A46     		mov	r2, r3
  54:moudels/motor/DJImotor/dji_motor.c ****         }
 114              		.loc 1 54 28 discriminator 1 view .LVU34
 115 0050 0124     		movs	r4, #1
 116 0052 EEE7     		b	.L5
 117              	.LVL9:
 118              	.L4:
  58:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 119              		.loc 1 58 13 is_stmt 1 view .LVU35
  58:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 120              		.loc 1 58 28 is_stmt 0 view .LVU36
 121 0054 ACF10502 		sub	r2, ip, #5
 122 0058 D2B2     		uxtb	r2, r2
 123              	.LVL10:
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 124              		.loc 1 59 13 is_stmt 1 view .LVU37
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 125              		.loc 1 59 28 is_stmt 0 view .LVU38
 126 005a 2B4C     		ldr	r4, .L26
 127 005c 0D68     		ldr	r5, [r1]
 128 005e A542     		cmp	r5, r4
 129 0060 01D0     		beq	.L23
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 130              		.loc 1 59 28 discriminator 2 view .LVU39
 131 0062 0324     		movs	r4, #3
 132 0064 E5E7     		b	.L5
 133              	.L23:
  59:moudels/motor/DJImotor/dji_motor.c ****         }
 134              		.loc 1 59 28 discriminator 1 view .LVU40
 135 0066 0024     		movs	r4, #0
 136 0068 E3E7     		b	.L5
 137              	.LVL11:
 138              	.L7:
 139              	.LBB3:
 140              		.loc 1 69 37 is_stmt 1 discriminator 2 view .LVU41
 141 006a 0133     		adds	r3, r3, #1
 142              	.LVL12:
 143              	.L6:
 144              		.loc 1 69 30 discriminator 1 view .LVU42
 145 006c 284A     		ldr	r2, .L26+8
 146 006e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 147 0070 9A42     		cmp	r2, r3
 148 0072 47D9     		bls	.L1
  70:moudels/motor/DJImotor/dji_motor.c ****         {
  71:moudels/motor/DJImotor/dji_motor.c ****             if (dji_motor_instance[i]->motor_can_instance->can_handle == config->can_handle && dji_
 149              		.loc 1 71 13 view .LVU43
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 5


 150              		.loc 1 71 35 is_stmt 0 view .LVU44
 151 0074 274A     		ldr	r2, .L26+12
 152 0076 52F82320 		ldr	r2, [r2, r3, lsl #2]
 153              		.loc 1 71 38 view .LVU45
 154 007a D2F8A821 		ldr	r2, [r2, #424]
 155              		.loc 1 71 58 view .LVU46
 156 007e D2F800C0 		ldr	ip, [r2]	@ unaligned
 157              		.loc 1 71 80 view .LVU47
 158 0082 0868     		ldr	r0, [r1]
 159              		.loc 1 71 16 view .LVU48
 160 0084 8445     		cmp	ip, r0
 161 0086 F0D1     		bne	.L7
 162              		.loc 1 71 137 discriminator 1 view .LVU49
 163 0088 106D     		ldr	r0, [r2, #80]	@ unaligned
 164              		.loc 1 71 154 discriminator 1 view .LVU50
 165 008a CA68     		ldr	r2, [r1, #12]
 166              		.loc 1 71 93 discriminator 1 view .LVU51
 167 008c 9042     		cmp	r0, r2
 168 008e ECD1     		bne	.L7
 169              	.L8:
 170              	.LBE3:
  72:moudels/motor/DJImotor/dji_motor.c ****             {
  73:moudels/motor/DJImotor/dji_motor.c ****                 LOGERROR("[dji_motor] ID crash. Check in debug mode, add dji_motor_instance to watc
  74:moudels/motor/DJImotor/dji_motor.c ****                 uint16_t can_bus = config->can_handle == &hcan1 ? 1 : 2;
  75:moudels/motor/DJImotor/dji_motor.c ****                 while (1) // 6020ÁöÑid 1-4Âíå2006/3508ÁöÑid 5-8‰ºöÂèëÁîüÂÜ≤Á™Å(Ëã•ÊúâÊ≥®ÂÜå,Âç≥1!5,
 171              		.loc 1 75 17 is_stmt 1 view .LVU52
 172              		.loc 1 75 23 view .LVU53
 173 0090 FEE7     		b	.L8
 174              	.LVL13:
 175              	.L2:
  76:moudels/motor/DJImotor/dji_motor.c ****                     LOGERROR("[dji_motor] id [%d], can_bus [%d]", config->rx_id, can_bus);
  77:moudels/motor/DJImotor/dji_motor.c ****             }
  78:moudels/motor/DJImotor/dji_motor.c ****         }
  79:moudels/motor/DJImotor/dji_motor.c ****         break;
  80:moudels/motor/DJImotor/dji_motor.c **** 
  81:moudels/motor/DJImotor/dji_motor.c ****     case GM6020:
  82:moudels/motor/DJImotor/dji_motor.c ****         if (motor_id < 4)
 176              		.loc 1 82 9 view .LVU54
 177              		.loc 1 82 12 is_stmt 0 view .LVU55
 178 0092 032B     		cmp	r3, #3
 179 0094 16D8     		bhi	.L11
  83:moudels/motor/DJImotor/dji_motor.c ****         {
  84:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id;
 180              		.loc 1 84 13 is_stmt 1 view .LVU56
 181              	.LVL14:
  85:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 182              		.loc 1 85 13 view .LVU57
 183              		.loc 1 85 36 is_stmt 0 view .LVU58
 184 0096 0C68     		ldr	r4, [r1]
 185              		.loc 1 85 28 view .LVU59
 186 0098 1B4A     		ldr	r2, .L26
 187 009a 9442     		cmp	r4, r2
 188 009c 0FD0     		beq	.L24
  84:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 189              		.loc 1 84 28 view .LVU60
 190 009e 1A46     		mov	r2, r3
 191              		.loc 1 85 28 discriminator 2 view .LVU61
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 6


 192 00a0 0324     		movs	r4, #3
 193              	.LVL15:
 194              	.L12:
  86:moudels/motor/DJImotor/dji_motor.c ****         }
  87:moudels/motor/DJImotor/dji_motor.c ****         else
  88:moudels/motor/DJImotor/dji_motor.c ****         {
  89:moudels/motor/DJImotor/dji_motor.c ****             motor_send_num = motor_id - 4;
  90:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 2 : 5;
  91:moudels/motor/DJImotor/dji_motor.c ****         }
  92:moudels/motor/DJImotor/dji_motor.c **** 
  93:moudels/motor/DJImotor/dji_motor.c ****         config->rx_id = 0x204 + motor_id + 1;   // ÊääID+1,ËøõË°åÂàÜÁªÑËÆæÁΩÆ
 195              		.loc 1 93 9 is_stmt 1 view .LVU62
 196              		.loc 1 93 42 is_stmt 0 view .LVU63
 197 00a2 03F20523 		addw	r3, r3, #517
 198              	.LVL16:
 199              		.loc 1 93 23 view .LVU64
 200 00a6 CB60     		str	r3, [r1, #12]
  94:moudels/motor/DJImotor/dji_motor.c ****         sender_enable_flag[motor_grouping] = 1; // Âè™Ë¶ÅÊúâÁîµÊú∫Ê≥®ÂÜåÂà∞Ëøô‰∏™ÂàÜÁªÑ,ÁΩÆ‰∏∫1;Âú®
 201              		.loc 1 94 9 is_stmt 1 view .LVU65
 202              		.loc 1 94 44 is_stmt 0 view .LVU66
 203 00a8 184B     		ldr	r3, .L26+4
 204              	.LVL17:
 205              		.loc 1 94 44 view .LVU67
 206 00aa 4FF0010C 		mov	ip, #1
 207 00ae 03F804C0 		strb	ip, [r3, r4]
  95:moudels/motor/DJImotor/dji_motor.c ****         motor->message_num = motor_send_num;
 208              		.loc 1 95 9 is_stmt 1 view .LVU68
 209              		.loc 1 95 28 is_stmt 0 view .LVU69
 210 00b2 80F8AD21 		strb	r2, [r0, #429]
 211              	.LVL18:
  96:moudels/motor/DJImotor/dji_motor.c ****         motor->sender_group = motor_grouping;
 212              		.loc 1 96 9 is_stmt 1 view .LVU70
 213              		.loc 1 96 29 is_stmt 0 view .LVU71
 214 00b6 80F8AC41 		strb	r4, [r0, #428]
  97:moudels/motor/DJImotor/dji_motor.c **** 
  98:moudels/motor/DJImotor/dji_motor.c ****         for (size_t i = 0; i < idx; ++i)
 215              		.loc 1 98 9 is_stmt 1 view .LVU72
 216              	.LBB4:
 217              		.loc 1 98 14 view .LVU73
 218              	.LVL19:
 219              		.loc 1 98 21 is_stmt 0 view .LVU74
 220 00ba 0023     		movs	r3, #0
 221              		.loc 1 98 9 view .LVU75
 222 00bc 0EE0     		b	.L13
 223              	.LVL20:
 224              	.L24:
 225              		.loc 1 98 9 view .LVU76
 226              	.LBE4:
  84:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 0 : 3;
 227              		.loc 1 84 28 view .LVU77
 228 00be 1A46     		mov	r2, r3
  85:moudels/motor/DJImotor/dji_motor.c ****         }
 229              		.loc 1 85 28 discriminator 1 view .LVU78
 230 00c0 0024     		movs	r4, #0
 231 00c2 EEE7     		b	.L12
 232              	.LVL21:
 233              	.L11:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 7


  89:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 2 : 5;
 234              		.loc 1 89 13 is_stmt 1 view .LVU79
  89:moudels/motor/DJImotor/dji_motor.c ****             motor_grouping = config->can_handle == &hcan1 ? 2 : 5;
 235              		.loc 1 89 28 is_stmt 0 view .LVU80
 236 00c4 ACF10502 		sub	r2, ip, #5
 237 00c8 D2B2     		uxtb	r2, r2
 238              	.LVL22:
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 239              		.loc 1 90 13 is_stmt 1 view .LVU81
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 240              		.loc 1 90 28 is_stmt 0 view .LVU82
 241 00ca 0F4C     		ldr	r4, .L26
 242 00cc 0D68     		ldr	r5, [r1]
 243 00ce A542     		cmp	r5, r4
 244 00d0 01D0     		beq	.L25
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 245              		.loc 1 90 28 discriminator 2 view .LVU83
 246 00d2 0524     		movs	r4, #5
 247 00d4 E5E7     		b	.L12
 248              	.L25:
  90:moudels/motor/DJImotor/dji_motor.c ****         }
 249              		.loc 1 90 28 discriminator 1 view .LVU84
 250 00d6 0224     		movs	r4, #2
 251 00d8 E3E7     		b	.L12
 252              	.LVL23:
 253              	.L14:
 254              	.LBB5:
 255              		.loc 1 98 37 is_stmt 1 discriminator 2 view .LVU85
 256 00da 0133     		adds	r3, r3, #1
 257              	.LVL24:
 258              	.L13:
 259              		.loc 1 98 30 discriminator 1 view .LVU86
 260 00dc 0C4A     		ldr	r2, .L26+8
 261 00de 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 262 00e0 9A42     		cmp	r2, r3
 263 00e2 0FD9     		bls	.L1
  99:moudels/motor/DJImotor/dji_motor.c ****         {
 100:moudels/motor/DJImotor/dji_motor.c ****             if (dji_motor_instance[i]->motor_can_instance->can_handle == config->can_handle && dji_
 264              		.loc 1 100 13 view .LVU87
 265              		.loc 1 100 35 is_stmt 0 view .LVU88
 266 00e4 0B4A     		ldr	r2, .L26+12
 267 00e6 52F82320 		ldr	r2, [r2, r3, lsl #2]
 268              		.loc 1 100 38 view .LVU89
 269 00ea D2F8A821 		ldr	r2, [r2, #424]
 270              		.loc 1 100 58 view .LVU90
 271 00ee D2F800C0 		ldr	ip, [r2]	@ unaligned
 272              		.loc 1 100 80 view .LVU91
 273 00f2 0868     		ldr	r0, [r1]
 274              		.loc 1 100 16 view .LVU92
 275 00f4 8445     		cmp	ip, r0
 276 00f6 F0D1     		bne	.L14
 277              		.loc 1 100 137 discriminator 1 view .LVU93
 278 00f8 106D     		ldr	r0, [r2, #80]	@ unaligned
 279              		.loc 1 100 154 discriminator 1 view .LVU94
 280 00fa CA68     		ldr	r2, [r1, #12]
 281              		.loc 1 100 93 discriminator 1 view .LVU95
 282 00fc 9042     		cmp	r0, r2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 8


 283 00fe ECD1     		bne	.L14
 284              	.L15:
 285              	.LBE5:
 101:moudels/motor/DJImotor/dji_motor.c ****             {
 102:moudels/motor/DJImotor/dji_motor.c ****                 LOGERROR("[dji_motor] ID crash. Check in debug mode, add dji_motor_instance to watc
 103:moudels/motor/DJImotor/dji_motor.c ****                 uint16_t can_bus = config->can_handle == &hcan1 ? 1 : 2;
 104:moudels/motor/DJImotor/dji_motor.c ****                 while (1) // 6020ÁöÑid 1-4Âíå2006/3508ÁöÑid 5-8‰ºöÂèëÁîüÂÜ≤Á™Å(Ëã•ÊúâÊ≥®ÂÜå,Âç≥1!5,
 286              		.loc 1 104 17 is_stmt 1 view .LVU96
 287              		.loc 1 104 23 view .LVU97
 288 0100 FEE7     		b	.L15
 289              	.LVL25:
 290              	.L3:
 105:moudels/motor/DJImotor/dji_motor.c ****                     LOGERROR("[dji_motor] id [%d], can  _bus [%d]", config->rx_id, can_bus);
 106:moudels/motor/DJImotor/dji_motor.c ****             }
 107:moudels/motor/DJImotor/dji_motor.c ****         }
 108:moudels/motor/DJImotor/dji_motor.c ****         break;
 109:moudels/motor/DJImotor/dji_motor.c **** 
 110:moudels/motor/DJImotor/dji_motor.c ****     default: // other motors should not be registered here
 111:moudels/motor/DJImotor/dji_motor.c ****         while (1)
 291              		.loc 1 111 9 view .LVU98
 292              		.loc 1 111 15 view .LVU99
 293 0102 FEE7     		b	.L3
 294              	.LVL26:
 295              	.L1:
 112:moudels/motor/DJImotor/dji_motor.c ****             LOGERROR("[dji_motor]You must not register other motors using the API of DJI motor."); 
 113:moudels/motor/DJImotor/dji_motor.c ****     }
 114:moudels/motor/DJImotor/dji_motor.c **** }
 296              		.loc 1 114 1 is_stmt 0 view .LVU100
 297 0104 30BC     		pop	{r4, r5}
 298              		.cfi_restore 5
 299              		.cfi_restore 4
 300              		.cfi_def_cfa_offset 0
 301              	.LVL27:
 302              		.loc 1 114 1 view .LVU101
 303 0106 7047     		bx	lr
 304              	.L27:
 305              		.align	2
 306              	.L26:
 307 0108 00000000 		.word	hcan1
 308 010c 00000000 		.word	sender_enable_flag
 309 0110 00000000 		.word	idx
 310 0114 00000000 		.word	dji_motor_instance
 311              		.cfi_endproc
 312              	.LFE137:
 314              		.section	.text.DJIMotorLostCallback,"ax",%progbits
 315              		.align	1
 316              		.syntax unified
 317              		.thumb
 318              		.thumb_func
 320              	DJIMotorLostCallback:
 321              	.LVL28:
 322              	.LFB139:
 115:moudels/motor/DJImotor/dji_motor.c **** 
 116:moudels/motor/DJImotor/dji_motor.c **** /**
 117:moudels/motor/DJImotor/dji_motor.c ****  * @todo  ÊòØÂê¶ÂèØ‰ª•ÁÆÄÂåñÂ§öÂúàËßíÂ∫¶ÁöÑËÆ°ÁÆóÔºü
 118:moudels/motor/DJImotor/dji_motor.c ****  * @brief Ê†πÊçÆËøîÂõûÁöÑcan_instanceÂØπÂèçÈ¶àÊä•ÊñáËøõË°åËß£Êûê
 119:moudels/motor/DJImotor/dji_motor.c ****  *
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 9


 120:moudels/motor/DJImotor/dji_motor.c ****  * @param _instance Êî∂Âà∞Êï∞ÊçÆÁöÑinstance,ÈÄöËøáÈÅçÂéÜ‰∏éÊâÄÊúâÁîµÊú∫ËøõË°åÂØπÊØî‰ª•ÈÄâÊã©Ê≠£Á°ÆÁ
 121:moudels/motor/DJImotor/dji_motor.c ****  */
 122:moudels/motor/DJImotor/dji_motor.c **** static void DecodeDJIMotor(CANInstance *_instance)
 123:moudels/motor/DJImotor/dji_motor.c **** {
 124:moudels/motor/DJImotor/dji_motor.c ****     // ËøôÈáåÂØπcan instanceÁöÑidËøõË°å‰∫ÜÂº∫Âà∂ËΩ¨Êç¢,‰ªéËÄåËé∑ÂæóÁîµÊú∫ÁöÑinstanceÂÆû‰æãÂú∞ÂùÄ
 125:moudels/motor/DJImotor/dji_motor.c ****     // _instanceÊåáÈíàÊåáÂêëÁöÑidÊòØÂØπÂ∫îÁîµÊú∫instanceÁöÑÂú∞ÂùÄ,ÈÄöËøáÂº∫Âà∂ËΩ¨Êç¢‰∏∫ÁîµÊú∫instan
 126:moudels/motor/DJImotor/dji_motor.c ****     uint8_t *rxbuff = _instance->rx_buff;
 127:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)_instance->id;
 128:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆø
 129:moudels/motor/DJImotor/dji_motor.c **** 
 130:moudels/motor/DJImotor/dji_motor.c ****     // DaemonReload(motor->daemon);----ÂñÇÁãó
 131:moudels/motor/DJImotor/dji_motor.c ****     motor->dt = DWT_GetDeltaT(&motor->feed_cnt);
 132:moudels/motor/DJImotor/dji_motor.c **** 
 133:moudels/motor/DJImotor/dji_motor.c ****     // Ëß£ÊûêÊï∞ÊçÆÂπ∂ÂØπÁîµÊµÅÂíåÈÄüÂ∫¶ËøõË°åÊª§Ê≥¢,ÁîµÊú∫ÁöÑÂèçÈ¶àÊä•ÊñáÂÖ∑‰ΩìÊ†ºÂºèËßÅÁîµÊú∫ËØ¥Ê
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->last_ecd = measure->ecd;
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 137:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 138:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 139:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 140:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 141:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 142:moudels/motor/DJImotor/dji_motor.c **** 
 143:moudels/motor/DJImotor/dji_motor.c ****     // Â§öÂúàËßíÂ∫¶ËÆ°ÁÆó,ÂâçÊèêÊòØÂÅáËÆæ‰∏§Ê¨°ÈááÊ†∑Èó¥ÁîµÊú∫ËΩ¨ËøáÁöÑËßíÂ∫¶Â∞è‰∫é180¬∞,Ëá™Â∑±Áîª‰
 144:moudels/motor/DJImotor/dji_motor.c ****     if (measure->ecd - measure->last_ecd > 4096)
 145:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 146:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 147:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round++;
 148:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 149:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 150:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 151:moudels/motor/DJImotor/dji_motor.c ****         measure->flag=1;
 152:moudels/motor/DJImotor/dji_motor.c ****     }
 153:moudels/motor/DJImotor/dji_motor.c **** }
 154:moudels/motor/DJImotor/dji_motor.c **** 
 155:moudels/motor/DJImotor/dji_motor.c **** static void DJIMotorLostCallback(void *motor_ptr)
 156:moudels/motor/DJImotor/dji_motor.c **** {
 323              		.loc 1 156 1 is_stmt 1 view -0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327              		@ link register save eliminated.
 157:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)motor_ptr;
 328              		.loc 1 157 5 view .LVU103
 158:moudels/motor/DJImotor/dji_motor.c ****     uint16_t can_bus = motor->motor_can_instance->can_handle == &hcan1 ? 1 : 2;
 329              		.loc 1 158 5 view .LVU104
 159:moudels/motor/DJImotor/dji_motor.c ****     // LOGWARNING("[dji_motor] Motor lost, can bus [%d] , id [%d]", can_bus, motor->motor_can_insta
 160:moudels/motor/DJImotor/dji_motor.c **** }
 330              		.loc 1 160 1 is_stmt 0 view .LVU105
 331 0000 7047     		bx	lr
 332              		.cfi_endproc
 333              	.LFE139:
 335              		.section	.text.DecodeDJIMotor,"ax",%progbits
 336              		.align	1
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 10


 341              	DecodeDJIMotor:
 342              	.LVL29:
 343              	.LFB138:
 123:moudels/motor/DJImotor/dji_motor.c ****     // ËøôÈáåÂØπcan instanceÁöÑidËøõË°å‰∫ÜÂº∫Âà∂ËΩ¨Êç¢,‰ªéËÄåËé∑ÂæóÁîµÊú∫ÁöÑinstanceÂÆû‰æãÂú∞ÂùÄ
 344              		.loc 1 123 1 is_stmt 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 123:moudels/motor/DJImotor/dji_motor.c ****     // ËøôÈáåÂØπcan instanceÁöÑidËøõË°å‰∫ÜÂº∫Âà∂ËΩ¨Êç¢,‰ªéËÄåËé∑ÂæóÁîµÊú∫ÁöÑinstanceÂÆû‰æãÂú∞ÂùÄ
 348              		.loc 1 123 1 is_stmt 0 view .LVU107
 349 0000 38B5     		push	{r3, r4, r5, lr}
 350              		.cfi_def_cfa_offset 16
 351              		.cfi_offset 3, -16
 352              		.cfi_offset 4, -12
 353              		.cfi_offset 5, -8
 354              		.cfi_offset 14, -4
 355 0002 0546     		mov	r5, r0
 126:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor = (DJIMotorInstance *)_instance->id;
 356              		.loc 1 126 5 is_stmt 1 view .LVU108
 357              	.LVL30:
 127:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆø
 358              		.loc 1 127 5 view .LVU109
 127:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure = &motor->measure; // measureË¶ÅÂ§öÊ¨°‰ΩøÁî®,‰øùÂ≠òÊåáÈíàÂáèÂ∞èËÆø
 359              		.loc 1 127 23 is_stmt 0 view .LVU110
 360 0004 D0F85940 		ldr	r4, [r0, #89]	@ unaligned
 361              	.LVL31:
 128:moudels/motor/DJImotor/dji_motor.c **** 
 362              		.loc 1 128 5 is_stmt 1 view .LVU111
 131:moudels/motor/DJImotor/dji_motor.c **** 
 363              		.loc 1 131 5 view .LVU112
 131:moudels/motor/DJImotor/dji_motor.c **** 
 364              		.loc 1 131 17 is_stmt 0 view .LVU113
 365 0008 04F5DA70 		add	r0, r4, #436
 366              	.LVL32:
 131:moudels/motor/DJImotor/dji_motor.c **** 
 367              		.loc 1 131 17 view .LVU114
 368 000c FFF7FEFF 		bl	DWT_GetDeltaT
 369              	.LVL33:
 131:moudels/motor/DJImotor/dji_motor.c **** 
 370              		.loc 1 131 15 discriminator 1 view .LVU115
 371 0010 84ED6E0A 		vstr.32	s0, [r4, #440]
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 372              		.loc 1 134 5 is_stmt 1 view .LVU116
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 373              		.loc 1 134 32 is_stmt 0 view .LVU117
 374 0014 6188     		ldrh	r1, [r4, #2]
 134:moudels/motor/DJImotor/dji_motor.c ****     measure->ecd = ((uint16_t)rxbuff[0]) << 8 | rxbuff[1];
 375              		.loc 1 134 23 view .LVU118
 376 0016 2180     		strh	r1, [r4]	@ movhi
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 377              		.loc 1 135 5 is_stmt 1 view .LVU119
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 378              		.loc 1 135 37 is_stmt 0 view .LVU120
 379 0018 95F84830 		ldrb	r3, [r5, #72]	@ zero_extendqisi2
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 380              		.loc 1 135 55 view .LVU121
 381 001c 95F84920 		ldrb	r2, [r5, #73]	@ zero_extendqisi2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 11


 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 382              		.loc 1 135 47 view .LVU122
 383 0020 42EA0322 		orr	r2, r2, r3, lsl #8
 135:moudels/motor/DJImotor/dji_motor.c ****     measure->angle_single_round = ECD_ANGLE_COEF_DJI * (float)measure->ecd;
 384              		.loc 1 135 18 view .LVU123
 385 0024 6280     		strh	r2, [r4, #2]	@ movhi
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 386              		.loc 1 136 5 is_stmt 1 view .LVU124
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 387              		.loc 1 136 56 is_stmt 0 view .LVU125
 388 0026 07EE902A 		vmov	s15, r2	@ int
 389 002a F8EE676A 		vcvt.f32.u32	s13, s15
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 390              		.loc 1 136 54 view .LVU126
 391 002e DFED327A 		vldr.32	s15, .L34
 392 0032 66EEA76A 		vmul.f32	s13, s13, s15
 136:moudels/motor/DJImotor/dji_motor.c ****     measure->speed_aps = (1.0f - SPEED_SMOOTH_COEF) * measure->speed_aps +
 393              		.loc 1 136 33 view .LVU127
 394 0036 C4ED016A 		vstr.32	s13, [r4, #4]
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 395              		.loc 1 137 5 is_stmt 1 view .LVU128
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 396              		.loc 1 137 62 is_stmt 0 view .LVU129
 397 003a D4ED027A 		vldr.32	s15, [r4, #8]
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 398              		.loc 1 137 53 view .LVU130
 399 003e 9FED2F7A 		vldr.32	s14, .L34+4
 400 0042 27EE877A 		vmul.f32	s14, s15, s14
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 401              		.loc 1 138 92 view .LVU131
 402 0046 95F84A00 		ldrb	r0, [r5, #74]	@ zero_extendqisi2
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 403              		.loc 1 138 109 view .LVU132
 404 004a 95F84B30 		ldrb	r3, [r5, #75]	@ zero_extendqisi2
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 405              		.loc 1 138 76 view .LVU133
 406 004e 43EA0023 		orr	r3, r3, r0, lsl #8
 407 0052 1BB2     		sxth	r3, r3
 408 0054 07EE903A 		vmov	s15, r3	@ int
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 409              		.loc 1 138 68 view .LVU134
 410 0058 F8EEE77A 		vcvt.f32.s32	s15, s15
 138:moudels/motor/DJImotor/dji_motor.c ****     measure->real_current = (1.0f - CURRENT_SMOOTH_COEF) * measure->real_current +
 411              		.loc 1 138 66 view .LVU135
 412 005c 9FED286A 		vldr.32	s12, .L34+8
 413 0060 67EE867A 		vmul.f32	s15, s15, s12
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 414              		.loc 1 137 74 view .LVU136
 415 0064 77EE277A 		vadd.f32	s15, s14, s15
 137:moudels/motor/DJImotor/dji_motor.c ****                          RPM_2_ANGLE_PER_SEC * SPEED_SMOOTH_COEF * (float)((int16_t)(rxbuff[2] << 8
 416              		.loc 1 137 24 view .LVU137
 417 0068 C4ED027A 		vstr.32	s15, [r4, #8]
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 418              		.loc 1 139 5 is_stmt 1 view .LVU138
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 419              		.loc 1 139 67 is_stmt 0 view .LVU139
 420 006c B4F90C30 		ldrsh	r3, [r4, #12]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 12


 421 0070 07EE903A 		vmov	s15, r3	@ int
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 422              		.loc 1 139 58 view .LVU140
 423 0074 F8EEE77A 		vcvt.f32.s32	s15, s15
 424 0078 9FED227A 		vldr.32	s14, .L34+12
 425 007c 67EE877A 		vmul.f32	s15, s15, s14
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 426              		.loc 1 140 75 view .LVU141
 427 0080 95F84C00 		ldrb	r0, [r5, #76]	@ zero_extendqisi2
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 428              		.loc 1 140 92 view .LVU142
 429 0084 95F84D30 		ldrb	r3, [r5, #77]	@ zero_extendqisi2
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 430              		.loc 1 140 59 view .LVU143
 431 0088 43EA0023 		orr	r3, r3, r0, lsl #8
 432 008c 1BB2     		sxth	r3, r3
 433 008e 07EE103A 		vmov	s14, r3	@ int
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 434              		.loc 1 140 51 view .LVU144
 435 0092 B8EEC77A 		vcvt.f32.s32	s14, s14
 140:moudels/motor/DJImotor/dji_motor.c ****     measure->temperature = rxbuff[6];
 436              		.loc 1 140 49 view .LVU145
 437 0096 9FED1C6A 		vldr.32	s12, .L34+16
 438 009a 27EE067A 		vmul.f32	s14, s14, s12
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 439              		.loc 1 139 82 view .LVU146
 440 009e 77EE877A 		vadd.f32	s15, s15, s14
 139:moudels/motor/DJImotor/dji_motor.c ****                             CURRENT_SMOOTH_COEF * (float)((int16_t)(rxbuff[4] << 8 | rxbuff[5]));
 441              		.loc 1 139 27 view .LVU147
 442 00a2 FDEEE77A 		vcvt.s32.f32	s15, s15
 443 00a6 17EE903A 		vmov	r3, s15	@ int
 444 00aa A381     		strh	r3, [r4, #12]	@ movhi
 141:moudels/motor/DJImotor/dji_motor.c **** 
 445              		.loc 1 141 5 is_stmt 1 view .LVU148
 141:moudels/motor/DJImotor/dji_motor.c **** 
 446              		.loc 1 141 26 is_stmt 0 view .LVU149
 447 00ac 95F84E30 		ldrb	r3, [r5, #78]	@ zero_extendqisi2
 448 00b0 A373     		strb	r3, [r4, #14]
 144:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 449              		.loc 1 144 5 is_stmt 1 view .LVU150
 144:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 450              		.loc 1 144 22 is_stmt 0 view .LVU151
 451 00b2 521A     		subs	r2, r2, r1
 144:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round--;
 452              		.loc 1 144 8 view .LVU152
 453 00b4 B2F5805F 		cmp	r2, #4096
 454 00b8 17DD     		ble	.L30
 145:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 455              		.loc 1 145 9 is_stmt 1 view .LVU153
 145:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 456              		.loc 1 145 16 is_stmt 0 view .LVU154
 457 00ba E369     		ldr	r3, [r4, #28]
 145:moudels/motor/DJImotor/dji_motor.c ****     else if (measure->ecd - measure->last_ecd < -4096)
 458              		.loc 1 145 29 view .LVU155
 459 00bc 013B     		subs	r3, r3, #1
 460 00be E361     		str	r3, [r4, #28]
 461              	.L31:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 13


 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 462              		.loc 1 148 5 is_stmt 1 view .LVU156
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 463              		.loc 1 148 35 is_stmt 0 view .LVU157
 464 00c0 E369     		ldr	r3, [r4, #28]
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 465              		.loc 1 148 49 view .LVU158
 466 00c2 4FF4B472 		mov	r2, #360
 467 00c6 02FB03F3 		mul	r3, r2, r3
 468 00ca 07EE903A 		vmov	s15, r3	@ int
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 469              		.loc 1 148 55 view .LVU159
 470 00ce F8EEE77A 		vcvt.f32.s32	s15, s15
 471 00d2 77EEA67A 		vadd.f32	s15, s15, s13
 148:moudels/motor/DJImotor/dji_motor.c ****     if(measure->flag==0){
 472              		.loc 1 148 26 view .LVU160
 473 00d6 C4ED067A 		vstr.32	s15, [r4, #24]
 149:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 474              		.loc 1 149 5 is_stmt 1 view .LVU161
 149:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 475              		.loc 1 149 15 is_stmt 0 view .LVU162
 476 00da 94F91430 		ldrsb	r3, [r4, #20]
 149:moudels/motor/DJImotor/dji_motor.c ****         measure->first_angle=measure->angle_single_round;
 477              		.loc 1 149 7 view .LVU163
 478 00de 1BB9     		cbnz	r3, .L29
 150:moudels/motor/DJImotor/dji_motor.c ****         measure->flag=1;
 479              		.loc 1 150 9 is_stmt 1 view .LVU164
 150:moudels/motor/DJImotor/dji_motor.c ****         measure->flag=1;
 480              		.loc 1 150 29 is_stmt 0 view .LVU165
 481 00e0 C4ED046A 		vstr.32	s13, [r4, #16]
 151:moudels/motor/DJImotor/dji_motor.c ****     }
 482              		.loc 1 151 9 is_stmt 1 view .LVU166
 151:moudels/motor/DJImotor/dji_motor.c ****     }
 483              		.loc 1 151 22 is_stmt 0 view .LVU167
 484 00e4 0123     		movs	r3, #1
 485 00e6 2375     		strb	r3, [r4, #20]
 486              	.L29:
 153:moudels/motor/DJImotor/dji_motor.c **** 
 487              		.loc 1 153 1 view .LVU168
 488 00e8 38BD     		pop	{r3, r4, r5, pc}
 489              	.LVL34:
 490              	.L30:
 146:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round++;
 491              		.loc 1 146 10 is_stmt 1 view .LVU169
 146:moudels/motor/DJImotor/dji_motor.c ****         measure->total_round++;
 492              		.loc 1 146 13 is_stmt 0 view .LVU170
 493 00ea 12F5805F 		cmn	r2, #4096
 494 00ee E7DA     		bge	.L31
 147:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 495              		.loc 1 147 9 is_stmt 1 view .LVU171
 147:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 496              		.loc 1 147 16 is_stmt 0 view .LVU172
 497 00f0 E369     		ldr	r3, [r4, #28]
 147:moudels/motor/DJImotor/dji_motor.c ****     measure->total_angle = measure->total_round * 360 + measure->angle_single_round;
 498              		.loc 1 147 29 view .LVU173
 499 00f2 0133     		adds	r3, r3, #1
 500 00f4 E361     		str	r3, [r4, #28]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 14


 501 00f6 E3E7     		b	.L31
 502              	.L35:
 503              		.align	2
 504              	.L34:
 505 00f8 ACFF333D 		.word	1026817964
 506 00fc 9899193E 		.word	1041865112
 507 0100 3433A340 		.word	1084437300
 508 0104 D0CCCC3D 		.word	1036831952
 509 0108 6666663F 		.word	1063675494
 510              		.cfi_endproc
 511              	.LFE138:
 513              		.section	.text.DJIMotorChangeFeed,"ax",%progbits
 514              		.align	1
 515              		.global	DJIMotorChangeFeed
 516              		.syntax unified
 517              		.thumb
 518              		.thumb_func
 520              	DJIMotorChangeFeed:
 521              	.LVL35:
 522              	.LFB141:
 161:moudels/motor/DJImotor/dji_motor.c **** 
 162:moudels/motor/DJImotor/dji_motor.c **** // ÁîµÊú∫ÂàùÂßãÂåñ,ËøîÂõû‰∏Ä‰∏™ÁîµÊú∫ÂÆû‰æã
 163:moudels/motor/DJImotor/dji_motor.c **** DJIMotorInstance *DJIMotorInit(Motor_Init_Config_s *config)
 164:moudels/motor/DJImotor/dji_motor.c **** {
 165:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *instance = (DJIMotorInstance *)malloc(sizeof(DJIMotorInstance));
 166:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 167:moudels/motor/DJImotor/dji_motor.c **** 
 168:moudels/motor/DJImotor/dji_motor.c ****     // motor basic setting ÁîµÊú∫Âü∫Êú¨ËÆæÁΩÆ
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_type = config->motor_type;                         // 6020 or 2006 or 3508
 170:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 171:moudels/motor/DJImotor/dji_motor.c **** 
 172:moudels/motor/DJImotor/dji_motor.c ****     // motor controller init ÁîµÊú∫ÊéßÂà∂Âô®ÂàùÂßãÂåñ
 173:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.current_PID, &config->controller_param_init_config.current_
 174:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID)
 175:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID)
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_angle_feedback_ptr = config->controller_param_init_config.othe
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 180:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 181:moudels/motor/DJImotor/dji_motor.c ****     // ÂêéÁª≠Â¢ûÂä†ÁîµÊú∫ÂâçÈ¶àÊéßÂà∂Âô®(ÈÄüÂ∫¶ÂíåÁîµÊµÅ)
 182:moudels/motor/DJImotor/dji_motor.c **** 
 183:moudels/motor/DJImotor/dji_motor.c ****     // ÁîµÊú∫ÂàÜÁªÑ,Âõ†‰∏∫Ëá≥Â§ö4‰∏™ÁîµÊú∫ÂèØ‰ª•ÂÖ±Áî®‰∏ÄÂ∏ßCANÊéßÂà∂Êä•Êñá
 184:moudels/motor/DJImotor/dji_motor.c ****     MotorSenderGrouping(instance, &config->can_init_config);
 185:moudels/motor/DJImotor/dji_motor.c **** 
 186:moudels/motor/DJImotor/dji_motor.c ****     // Ê≥®ÂÜåÁîµÊú∫Âà∞CANÊÄªÁ∫ø
 187:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.can_module_callback = DecodeDJIMotor; // set callback
 188:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.id = instance;                        // set id,eq to address(it is ide
 189:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.tx_ide=CAN_ID_STD;
 190:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);
 191:moudels/motor/DJImotor/dji_motor.c **** 
 192:moudels/motor/DJImotor/dji_motor.c ****     // Ê≥®ÂÜåÂÆàÊä§Á∫øÁ®ã
 193:moudels/motor/DJImotor/dji_motor.c ****     Daemon_Init_Config_s daemon_config = {
 194:moudels/motor/DJImotor/dji_motor.c ****         .callback = DJIMotorLostCallback,
 195:moudels/motor/DJImotor/dji_motor.c ****         .owner_id = instance,
 196:moudels/motor/DJImotor/dji_motor.c ****         .reload_count = 2, // 20msÊú™Êî∂Âà∞Êï∞ÊçÆÂàô‰∏¢Â§±
 197:moudels/motor/DJImotor/dji_motor.c ****     };
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 15


 198:moudels/motor/DJImotor/dji_motor.c ****     instance->daemon = DaemonRegister(&daemon_config);
 199:moudels/motor/DJImotor/dji_motor.c **** 
 200:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorEnable(instance);
 201:moudels/motor/DJImotor/dji_motor.c ****     dji_motor_instance[idx++] = instance;
 202:moudels/motor/DJImotor/dji_motor.c ****     return instance;
 203:moudels/motor/DJImotor/dji_motor.c **** }
 204:moudels/motor/DJImotor/dji_motor.c **** 
 205:moudels/motor/DJImotor/dji_motor.c **** /* ÁîµÊµÅÂè™ËÉΩÈÄöËøáÁîµÊú∫Ëá™Â∏¶‰º†ÊÑüÂô®ÁõëÊµã,ÂêéÁª≠ËÄÉËôëÂä†ÂÖ•ÂäõÁü©‰º†ÊÑüÂô®Â∫îÂèòÁâáÁ≠â */
 206:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorChangeFeed(DJIMotorInstance *motor, Closeloop_Type_e loop, Feedback_Source_e type)
 207:moudels/motor/DJImotor/dji_motor.c **** {
 523              		.loc 1 207 1 is_stmt 1 view -0
 524              		.cfi_startproc
 525              		@ args = 0, pretend = 0, frame = 0
 526              		@ frame_needed = 0, uses_anonymous_args = 0
 527              		@ link register save eliminated.
 208:moudels/motor/DJImotor/dji_motor.c ****     if (loop == ANGLE_LOOP)
 528              		.loc 1 208 5 view .LVU175
 529              		.loc 1 208 8 is_stmt 0 view .LVU176
 530 0000 0429     		cmp	r1, #4
 531 0002 02D0     		beq	.L39
 209:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 210:moudels/motor/DJImotor/dji_motor.c ****     else if (loop == SPEED_LOOP)
 532              		.loc 1 210 10 is_stmt 1 view .LVU177
 533              		.loc 1 210 13 is_stmt 0 view .LVU178
 534 0004 0229     		cmp	r1, #2
 535 0006 03D0     		beq	.L40
 536              	.L36:
 211:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 212:moudels/motor/DJImotor/dji_motor.c ****     else
 213:moudels/motor/DJImotor/dji_motor.c ****         LOGERROR("[dji_motor] loop type error, check memory access and func param"); // Ê£ÄÊü•ÊòØÂê
 214:moudels/motor/DJImotor/dji_motor.c **** }
 537              		.loc 1 214 1 view .LVU179
 538 0008 7047     		bx	lr
 539              	.L39:
 209:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 540              		.loc 1 209 9 is_stmt 1 view .LVU180
 209:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.angle_feedback_source = type;
 541              		.loc 1 209 53 is_stmt 0 view .LVU181
 542 000a 80F82420 		strb	r2, [r0, #36]
 543 000e 7047     		bx	lr
 544              	.L40:
 211:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 545              		.loc 1 211 9 is_stmt 1 view .LVU182
 211:moudels/motor/DJImotor/dji_motor.c ****         motor->motor_settings.speed_feedback_source = type;
 546              		.loc 1 211 53 is_stmt 0 view .LVU183
 547 0010 80F82520 		strb	r2, [r0, #37]
 548              		.loc 1 214 1 view .LVU184
 549 0014 F8E7     		b	.L36
 550              		.cfi_endproc
 551              	.LFE141:
 553              		.section	.text.DJIMotorStop,"ax",%progbits
 554              		.align	1
 555              		.global	DJIMotorStop
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 560              	DJIMotorStop:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 16


 561              	.LVL36:
 562              	.LFB142:
 215:moudels/motor/DJImotor/dji_motor.c **** 
 216:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorStop(DJIMotorInstance *motor)
 217:moudels/motor/DJImotor/dji_motor.c **** {
 563              		.loc 1 217 1 is_stmt 1 view -0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567              		@ link register save eliminated.
 218:moudels/motor/DJImotor/dji_motor.c ****     motor->stop_flag = MOTOR_STOP;
 568              		.loc 1 218 5 view .LVU186
 569              		.loc 1 218 22 is_stmt 0 view .LVU187
 570 0000 0023     		movs	r3, #0
 571 0002 80F8AF31 		strb	r3, [r0, #431]
 219:moudels/motor/DJImotor/dji_motor.c **** }
 572              		.loc 1 219 1 view .LVU188
 573 0006 7047     		bx	lr
 574              		.cfi_endproc
 575              	.LFE142:
 577              		.section	.text.DJIMotorEnable,"ax",%progbits
 578              		.align	1
 579              		.global	DJIMotorEnable
 580              		.syntax unified
 581              		.thumb
 582              		.thumb_func
 584              	DJIMotorEnable:
 585              	.LVL37:
 586              	.LFB143:
 220:moudels/motor/DJImotor/dji_motor.c **** 
 221:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorEnable(DJIMotorInstance *motor)
 222:moudels/motor/DJImotor/dji_motor.c **** {
 587              		.loc 1 222 1 is_stmt 1 view -0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591              		@ link register save eliminated.
 223:moudels/motor/DJImotor/dji_motor.c ****     motor->stop_flag = MOTOR_ENALBED;
 592              		.loc 1 223 5 view .LVU190
 593              		.loc 1 223 22 is_stmt 0 view .LVU191
 594 0000 0123     		movs	r3, #1
 595 0002 80F8AF31 		strb	r3, [r0, #431]
 224:moudels/motor/DJImotor/dji_motor.c **** }
 596              		.loc 1 224 1 view .LVU192
 597 0006 7047     		bx	lr
 598              		.cfi_endproc
 599              	.LFE143:
 601              		.section	.text.DJIMotorInit,"ax",%progbits
 602              		.align	1
 603              		.global	DJIMotorInit
 604              		.syntax unified
 605              		.thumb
 606              		.thumb_func
 608              	DJIMotorInit:
 609              	.LVL38:
 610              	.LFB140:
 164:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *instance = (DJIMotorInstance *)malloc(sizeof(DJIMotorInstance));
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 17


 611              		.loc 1 164 1 is_stmt 1 view -0
 612              		.cfi_startproc
 613              		@ args = 0, pretend = 0, frame = 16
 614              		@ frame_needed = 0, uses_anonymous_args = 0
 164:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *instance = (DJIMotorInstance *)malloc(sizeof(DJIMotorInstance));
 615              		.loc 1 164 1 is_stmt 0 view .LVU194
 616 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 617              		.cfi_def_cfa_offset 20
 618              		.cfi_offset 4, -20
 619              		.cfi_offset 5, -16
 620              		.cfi_offset 6, -12
 621              		.cfi_offset 7, -8
 622              		.cfi_offset 14, -4
 623 0002 85B0     		sub	sp, sp, #20
 624              		.cfi_def_cfa_offset 40
 625 0004 0546     		mov	r5, r0
 165:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 626              		.loc 1 165 5 is_stmt 1 view .LVU195
 165:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 627              		.loc 1 165 54 is_stmt 0 view .LVU196
 628 0006 4FF4E070 		mov	r0, #448
 629              	.LVL39:
 165:moudels/motor/DJImotor/dji_motor.c ****     memset(instance, 0, sizeof(DJIMotorInstance));
 630              		.loc 1 165 54 view .LVU197
 631 000a FFF7FEFF 		bl	malloc
 632              	.LVL40:
 633 000e 0446     		mov	r4, r0
 634              	.LVL41:
 166:moudels/motor/DJImotor/dji_motor.c **** 
 635              		.loc 1 166 5 is_stmt 1 view .LVU198
 636 0010 4FF4E072 		mov	r2, #448
 637 0014 0021     		movs	r1, #0
 638 0016 FFF7FEFF 		bl	memset
 639              	.LVL42:
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 640              		.loc 1 169 5 view .LVU199
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 641              		.loc 1 169 34 is_stmt 0 view .LVU200
 642 001a 95F89B30 		ldrb	r3, [r5, #155]	@ zero_extendqisi2
 169:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_settings = config->controller_setting_init_config; // Ê≠£ÂèçËΩ¨,Èó≠ÁéØÁ±ªÂûãÁ≠â
 643              		.loc 1 169 26 view .LVU201
 644 001e 84F8AE31 		strb	r3, [r4, #430]
 170:moudels/motor/DJImotor/dji_motor.c **** 
 645              		.loc 1 170 5 is_stmt 1 view .LVU202
 170:moudels/motor/DJImotor/dji_motor.c **** 
 646              		.loc 1 170 30 is_stmt 0 view .LVU203
 647 0022 05F19403 		add	r3, r5, #148
 648 0026 93E80300 		ldm	r3, {r0, r1}
 649 002a 2062     		str	r0, [r4, #32]
 650 002c A184     		strh	r1, [r4, #36]	@ movhi
 651 002e 090C     		lsrs	r1, r1, #16
 652 0030 84F82610 		strb	r1, [r4, #38]
 173:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID)
 653              		.loc 1 173 5 is_stmt 1 view .LVU204
 654 0034 05F11001 		add	r1, r5, #16
 655 0038 04F13800 		add	r0, r4, #56
 656 003c FFF7FEFF 		bl	PIDInit
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 18


 657              	.LVL43:
 174:moudels/motor/DJImotor/dji_motor.c ****     PIDInit(&instance->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID)
 658              		.loc 1 174 5 view .LVU205
 659 0040 05F13C01 		add	r1, r5, #60
 660 0044 04F1B000 		add	r0, r4, #176
 661 0048 FFF7FEFF 		bl	PIDInit
 662              	.LVL44:
 175:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_angle_feedback_ptr = config->controller_param_init_config.othe
 663              		.loc 1 175 5 view .LVU206
 664 004c 05F16801 		add	r1, r5, #104
 665 0050 04F59470 		add	r0, r4, #296
 666 0054 FFF7FEFF 		bl	PIDInit
 667              	.LVL45:
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 668              		.loc 1 176 5 view .LVU207
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 669              		.loc 1 176 95 is_stmt 0 view .LVU208
 670 0058 2B68     		ldr	r3, [r5]
 176:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.othe
 671              		.loc 1 176 57 view .LVU209
 672 005a A362     		str	r3, [r4, #40]
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 673              		.loc 1 177 5 is_stmt 1 view .LVU210
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 674              		.loc 1 177 95 is_stmt 0 view .LVU211
 675 005c 6B68     		ldr	r3, [r5, #4]
 177:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.current_feedforward_ptr = config->controller_param_init_config.curre
 676              		.loc 1 177 57 view .LVU212
 677 005e E362     		str	r3, [r4, #44]
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 678              		.loc 1 178 5 is_stmt 1 view .LVU213
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 679              		.loc 1 178 94 is_stmt 0 view .LVU214
 680 0060 EB68     		ldr	r3, [r5, #12]
 178:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_controller.speed_feedforward_ptr = config->controller_param_init_config.speed_f
 681              		.loc 1 178 56 view .LVU215
 682 0062 6363     		str	r3, [r4, #52]
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 683              		.loc 1 179 5 is_stmt 1 view .LVU216
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 684              		.loc 1 179 92 is_stmt 0 view .LVU217
 685 0064 AB68     		ldr	r3, [r5, #8]
 179:moudels/motor/DJImotor/dji_motor.c ****     instance->measure.flag=0;
 686              		.loc 1 179 54 view .LVU218
 687 0066 2363     		str	r3, [r4, #48]
 180:moudels/motor/DJImotor/dji_motor.c ****     // ÂêéÁª≠Â¢ûÂä†ÁîµÊú∫ÂâçÈ¶àÊéßÂà∂Âô®(ÈÄüÂ∫¶ÂíåÁîµÊµÅ)
 688              		.loc 1 180 5 is_stmt 1 view .LVU219
 180:moudels/motor/DJImotor/dji_motor.c ****     // ÂêéÁª≠Â¢ûÂä†ÁîµÊú∫ÂâçÈ¶àÊéßÂà∂Âô®(ÈÄüÂ∫¶ÂíåÁîµÊµÅ)
 689              		.loc 1 180 27 is_stmt 0 view .LVU220
 690 0068 0026     		movs	r6, #0
 691 006a 2675     		strb	r6, [r4, #20]
 184:moudels/motor/DJImotor/dji_motor.c **** 
 692              		.loc 1 184 5 is_stmt 1 view .LVU221
 693 006c 05F19C07 		add	r7, r5, #156
 694 0070 3946     		mov	r1, r7
 695 0072 2046     		mov	r0, r4
 696 0074 FFF7FEFF 		bl	MotorSenderGrouping
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 19


 697              	.LVL46:
 187:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.id = instance;                        // set id,eq to address(it is ide
 698              		.loc 1 187 5 view .LVU222
 187:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.id = instance;                        // set id,eq to address(it is ide
 699              		.loc 1 187 49 is_stmt 0 view .LVU223
 700 0078 134B     		ldr	r3, .L45
 701 007a C5F8B030 		str	r3, [r5, #176]
 188:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.tx_ide=CAN_ID_STD;
 702              		.loc 1 188 5 is_stmt 1 view .LVU224
 188:moudels/motor/DJImotor/dji_motor.c ****     config->can_init_config.tx_ide=CAN_ID_STD;
 703              		.loc 1 188 32 is_stmt 0 view .LVU225
 704 007e C5F8B440 		str	r4, [r5, #180]
 189:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);
 705              		.loc 1 189 5 is_stmt 1 view .LVU226
 189:moudels/motor/DJImotor/dji_motor.c ****     instance->motor_can_instance = CANRegister(&config->can_init_config);
 706              		.loc 1 189 35 is_stmt 0 view .LVU227
 707 0082 C5F8A060 		str	r6, [r5, #160]
 190:moudels/motor/DJImotor/dji_motor.c **** 
 708              		.loc 1 190 5 is_stmt 1 view .LVU228
 190:moudels/motor/DJImotor/dji_motor.c **** 
 709              		.loc 1 190 36 is_stmt 0 view .LVU229
 710 0086 3846     		mov	r0, r7
 711 0088 FFF7FEFF 		bl	CANRegister
 712              	.LVL47:
 190:moudels/motor/DJImotor/dji_motor.c **** 
 713              		.loc 1 190 34 discriminator 1 view .LVU230
 714 008c C4F8A801 		str	r0, [r4, #424]
 193:moudels/motor/DJImotor/dji_motor.c ****         .callback = DJIMotorLostCallback,
 715              		.loc 1 193 5 is_stmt 1 view .LVU231
 193:moudels/motor/DJImotor/dji_motor.c ****         .callback = DJIMotorLostCallback,
 716              		.loc 1 193 26 is_stmt 0 view .LVU232
 717 0090 0196     		str	r6, [sp, #4]
 718 0092 0296     		str	r6, [sp, #8]
 719 0094 0396     		str	r6, [sp, #12]
 720 0096 0223     		movs	r3, #2
 721 0098 ADF80430 		strh	r3, [sp, #4]	@ movhi
 722 009c 0B4B     		ldr	r3, .L45+4
 723 009e 0293     		str	r3, [sp, #8]
 724 00a0 0394     		str	r4, [sp, #12]
 198:moudels/motor/DJImotor/dji_motor.c **** 
 725              		.loc 1 198 5 is_stmt 1 view .LVU233
 198:moudels/motor/DJImotor/dji_motor.c **** 
 726              		.loc 1 198 24 is_stmt 0 view .LVU234
 727 00a2 01A8     		add	r0, sp, #4
 728 00a4 FFF7FEFF 		bl	DaemonRegister
 729              	.LVL48:
 198:moudels/motor/DJImotor/dji_motor.c **** 
 730              		.loc 1 198 22 discriminator 1 view .LVU235
 731 00a8 C4F8B001 		str	r0, [r4, #432]
 200:moudels/motor/DJImotor/dji_motor.c ****     dji_motor_instance[idx++] = instance;
 732              		.loc 1 200 5 is_stmt 1 view .LVU236
 733 00ac 2046     		mov	r0, r4
 734 00ae FFF7FEFF 		bl	DJIMotorEnable
 735              	.LVL49:
 201:moudels/motor/DJImotor/dji_motor.c ****     return instance;
 736              		.loc 1 201 5 view .LVU237
 201:moudels/motor/DJImotor/dji_motor.c ****     return instance;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 20


 737              		.loc 1 201 27 is_stmt 0 view .LVU238
 738 00b2 074A     		ldr	r2, .L45+8
 739 00b4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 740 00b6 591C     		adds	r1, r3, #1
 741 00b8 1170     		strb	r1, [r2]
 201:moudels/motor/DJImotor/dji_motor.c ****     return instance;
 742              		.loc 1 201 31 view .LVU239
 743 00ba 064A     		ldr	r2, .L45+12
 744 00bc 42F82340 		str	r4, [r2, r3, lsl #2]
 202:moudels/motor/DJImotor/dji_motor.c **** }
 745              		.loc 1 202 5 is_stmt 1 view .LVU240
 203:moudels/motor/DJImotor/dji_motor.c **** 
 746              		.loc 1 203 1 is_stmt 0 view .LVU241
 747 00c0 2046     		mov	r0, r4
 748 00c2 05B0     		add	sp, sp, #20
 749              		.cfi_def_cfa_offset 20
 750              		@ sp needed
 751 00c4 F0BD     		pop	{r4, r5, r6, r7, pc}
 752              	.LVL50:
 753              	.L46:
 203:moudels/motor/DJImotor/dji_motor.c **** 
 754              		.loc 1 203 1 view .LVU242
 755 00c6 00BF     		.align	2
 756              	.L45:
 757 00c8 00000000 		.word	DecodeDJIMotor
 758 00cc 00000000 		.word	DJIMotorLostCallback
 759 00d0 00000000 		.word	idx
 760 00d4 00000000 		.word	dji_motor_instance
 761              		.cfi_endproc
 762              	.LFE140:
 764              		.section	.text.DJIMotorOuterLoop,"ax",%progbits
 765              		.align	1
 766              		.global	DJIMotorOuterLoop
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 771              	DJIMotorOuterLoop:
 772              	.LVL51:
 773              	.LFB144:
 225:moudels/motor/DJImotor/dji_motor.c **** 
 226:moudels/motor/DJImotor/dji_motor.c **** /* ‰øÆÊîπÁîµÊú∫ÁöÑÂÆûÈôÖÈó≠ÁéØÂØπË±° */
 227:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorOuterLoop(DJIMotorInstance *motor, Closeloop_Type_e outer_loop)
 228:moudels/motor/DJImotor/dji_motor.c **** {
 774              		.loc 1 228 1 is_stmt 1 view -0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
 778              		@ link register save eliminated.
 229:moudels/motor/DJImotor/dji_motor.c ****     motor->motor_settings.outer_loop_type = outer_loop;
 779              		.loc 1 229 5 view .LVU244
 780              		.loc 1 229 43 is_stmt 0 view .LVU245
 781 0000 80F82010 		strb	r1, [r0, #32]
 230:moudels/motor/DJImotor/dji_motor.c **** }
 782              		.loc 1 230 1 view .LVU246
 783 0004 7047     		bx	lr
 784              		.cfi_endproc
 785              	.LFE144:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 21


 787              		.section	.text.DJIMotorSetRef,"ax",%progbits
 788              		.align	1
 789              		.global	DJIMotorSetRef
 790              		.syntax unified
 791              		.thumb
 792              		.thumb_func
 794              	DJIMotorSetRef:
 795              	.LVL52:
 796              	.LFB145:
 231:moudels/motor/DJImotor/dji_motor.c **** 
 232:moudels/motor/DJImotor/dji_motor.c **** // ËÆæÁΩÆÂèÇËÄÉÂÄº
 233:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorSetRef(DJIMotorInstance *motor, float ref)
 234:moudels/motor/DJImotor/dji_motor.c **** {
 797              		.loc 1 234 1 is_stmt 1 view -0
 798              		.cfi_startproc
 799              		@ args = 0, pretend = 0, frame = 0
 800              		@ frame_needed = 0, uses_anonymous_args = 0
 801              		@ link register save eliminated.
 235:moudels/motor/DJImotor/dji_motor.c ****     motor->motor_controller.pid_ref = ref;
 802              		.loc 1 235 5 view .LVU248
 803              		.loc 1 235 37 is_stmt 0 view .LVU249
 804 0000 80ED680A 		vstr.32	s0, [r0, #416]
 236:moudels/motor/DJImotor/dji_motor.c **** }
 805              		.loc 1 236 1 view .LVU250
 806 0004 7047     		bx	lr
 807              		.cfi_endproc
 808              	.LFE145:
 810              		.section	.text.DJIMotorControl,"ax",%progbits
 811              		.align	1
 812              		.global	DJIMotorControl
 813              		.syntax unified
 814              		.thumb
 815              		.thumb_func
 817              	DJIMotorControl:
 818              	.LFB146:
 237:moudels/motor/DJImotor/dji_motor.c **** 
 238:moudels/motor/DJImotor/dji_motor.c **** // ‰∏∫ÊâÄÊúâÁîµÊú∫ÂÆû‰æãËÆ°ÁÆó‰∏âÁéØPID,ÂèëÈÄÅÊéßÂà∂Êä•Êñá
 239:moudels/motor/DJImotor/dji_motor.c **** void DJIMotorControl()
 240:moudels/motor/DJImotor/dji_motor.c **** {
 819              		.loc 1 240 1 is_stmt 1 view -0
 820              		.cfi_startproc
 821              		@ args = 0, pretend = 0, frame = 0
 822              		@ frame_needed = 0, uses_anonymous_args = 0
 823 0000 70B5     		push	{r4, r5, r6, lr}
 824              		.cfi_def_cfa_offset 16
 825              		.cfi_offset 4, -16
 826              		.cfi_offset 5, -12
 827              		.cfi_offset 6, -8
 828              		.cfi_offset 14, -4
 241:moudels/motor/DJImotor/dji_motor.c ****     // Áõ¥Êé•‰øùÂ≠ò‰∏ÄÊ¨°ÊåáÈíàÂºïÁî®‰ªéËÄåÂáèÂ∞èËÆøÂ≠òÁöÑÂºÄÈîÄ,ÂêåÊ†∑ÂèØ‰ª•ÊèêÈ´òÂèØËØªÊÄß
 242:moudels/motor/DJImotor/dji_motor.c ****     uint8_t group, num; // ÁîµÊú∫ÁªÑÂè∑ÂíåÁªÑÂÜÖÁºñÂè∑
 829              		.loc 1 242 5 view .LVU252
 243:moudels/motor/DJImotor/dji_motor.c ****     int16_t set;        // ÁîµÊú∫ÊéßÂà∂CANÂèëÈÄÅËÆæÂÆöÂÄº
 830              		.loc 1 243 5 view .LVU253
 244:moudels/motor/DJImotor/dji_motor.c ****     DJIMotorInstance *motor;
 831              		.loc 1 244 5 view .LVU254
 245:moudels/motor/DJImotor/dji_motor.c ****     Motor_Control_Setting_s *motor_setting; // ÁîµÊú∫ÊéßÂà∂ÂèÇÊï∞
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 22


 832              		.loc 1 245 5 view .LVU255
 246:moudels/motor/DJImotor/dji_motor.c ****     Motor_Controller_s *motor_controller;   // ÁîµÊú∫ÊéßÂà∂Âô®
 833              		.loc 1 246 5 view .LVU256
 247:moudels/motor/DJImotor/dji_motor.c ****     DJI_Motor_Measure_s *measure;           // ÁîµÊú∫ÊµãÈáèÂÄº
 834              		.loc 1 247 5 view .LVU257
 248:moudels/motor/DJImotor/dji_motor.c ****     float pid_measure, pid_ref;             // ÁîµÊú∫PIDÊµãÈáèÂÄºÂíåËÆæÂÆöÂÄº
 835              		.loc 1 248 5 view .LVU258
 249:moudels/motor/DJImotor/dji_motor.c **** 
 250:moudels/motor/DJImotor/dji_motor.c ****     // ÈÅçÂéÜÊâÄÊúâÁîµÊú∫ÂÆû‰æã,ËøõË°å‰∏≤Á∫ßPIDÁöÑËÆ°ÁÆóÂπ∂ËÆæÁΩÆÂèëÈÄÅÊä•ÊñáÁöÑÂÄº
 251:moudels/motor/DJImotor/dji_motor.c ****     for (size_t i = 0; i < idx; ++i)
 836              		.loc 1 251 5 view .LVU259
 837              	.LBB6:
 838              		.loc 1 251 10 view .LVU260
 839              	.LVL53:
 840              		.loc 1 251 17 is_stmt 0 view .LVU261
 841 0002 0025     		movs	r5, #0
 842              		.loc 1 251 5 view .LVU262
 843 0004 52E0     		b	.L50
 844              	.LVL54:
 845              	.L74:
 252:moudels/motor/DJImotor/dji_motor.c ****     { // ÂáèÂ∞èËÆøÂ≠òÂºÄÈîÄ,ÂÖà‰øùÂ≠òÊåáÈíàÂºïÁî®
 253:moudels/motor/DJImotor/dji_motor.c ****         motor = dji_motor_instance[i];
 254:moudels/motor/DJImotor/dji_motor.c ****         motor_setting = &motor->motor_settings;
 255:moudels/motor/DJImotor/dji_motor.c ****         motor_controller = &motor->motor_controller;
 256:moudels/motor/DJImotor/dji_motor.c ****         measure = &motor->measure;
 257:moudels/motor/DJImotor/dji_motor.c ****         pid_ref = motor_controller->pid_ref; // ‰øùÂ≠òËÆæÂÆöÂÄº,Èò≤Ê≠¢motor_controller->pid_refÂú®Ë
 258:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 259:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 846              		.loc 1 259 13 is_stmt 1 view .LVU263
 847              		.loc 1 259 21 is_stmt 0 view .LVU264
 848 0006 F1EE600A 		vneg.f32	s1, s1
 849              	.LVL55:
 850              		.loc 1 259 21 view .LVU265
 851 000a 5CE0     		b	.L51
 852              	.L75:
 260:moudels/motor/DJImotor/dji_motor.c **** 
 261:moudels/motor/DJImotor/dji_motor.c ****         // pid_ref‰ºöÈ°∫Ê¨°ÈÄöËøáË¢´ÂêØÁî®ÁöÑÈó≠ÁéØÂÖÖÂΩìÊï∞ÊçÆÁöÑËΩΩ‰Ωì
 262:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆó‰ΩçÁΩÆÁéØ,Âè™ÊúâÂêØÁî®‰ΩçÁΩÆÁéØ‰∏îÂ§ñÂ±ÇÈó≠ÁéØ‰∏∫‰ΩçÁΩÆÊó∂‰ºöËÆ°ÁÆóÈÄüÂ∫¶ÁéØËæìÂá∫
 263:moudels/motor/DJImotor/dji_motor.c ****         if ((motor_setting->close_loop_type & ANGLE_LOOP) && motor_setting->outer_loop_type == ANGL
 264:moudels/motor/DJImotor/dji_motor.c ****         {
 265:moudels/motor/DJImotor/dji_motor.c ****             if (motor_setting->angle_feedback_source == OTHER_FEED)
 853              		.loc 1 265 13 is_stmt 1 view .LVU266
 854              		.loc 1 265 30 is_stmt 0 view .LVU267
 855 000c 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 856              		.loc 1 265 16 view .LVU268
 857 0010 012B     		cmp	r3, #1
 858 0012 08D0     		beq	.L68
 266:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 267:moudels/motor/DJImotor/dji_motor.c ****             else
 268:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = measure->total_angle; // MOTOR_FEED,ÂØπtotal angleÈó≠ÁéØ,Èò≤Ê≠¢Âú®Ëæπ
 859              		.loc 1 268 17 is_stmt 1 view .LVU269
 860              		.loc 1 268 29 is_stmt 0 view .LVU270
 861 0014 94ED060A 		vldr.32	s0, [r4, #24]
 862              	.LVL56:
 863              	.L54:
 269:moudels/motor/DJImotor/dji_motor.c ****             // Êõ¥Êñ∞pid_refËøõÂÖ•‰∏ã‰∏Ä‰∏™ÁéØ
 270:moudels/motor/DJImotor/dji_motor.c ****             pid_ref = PIDCalculate(&motor_controller->angle_PID, pid_measure, pid_ref);
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 23


 864              		.loc 1 270 13 is_stmt 1 view .LVU271
 865              		.loc 1 270 23 is_stmt 0 view .LVU272
 866 0018 04F59470 		add	r0, r4, #296
 867 001c FFF7FEFF 		bl	PIDCalculate
 868              	.LVL57:
 869              		.loc 1 270 23 view .LVU273
 870 0020 F0EE400A 		vmov.f32	s1, s0
 871              	.LVL58:
 872              		.loc 1 270 23 view .LVU274
 873 0024 58E0     		b	.L52
 874              	.LVL59:
 875              	.L68:
 266:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 876              		.loc 1 266 17 is_stmt 1 view .LVU275
 266:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 877              		.loc 1 266 48 is_stmt 0 view .LVU276
 878 0026 A36A     		ldr	r3, [r4, #40]
 266:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 879              		.loc 1 266 29 view .LVU277
 880 0028 93ED000A 		vldr.32	s0, [r3]
 881              	.LVL60:
 266:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 882              		.loc 1 266 29 view .LVU278
 883 002c F4E7     		b	.L54
 884              	.LVL61:
 885              	.L56:
 271:moudels/motor/DJImotor/dji_motor.c ****         }
 272:moudels/motor/DJImotor/dji_motor.c **** 
 273:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆóÈÄüÂ∫¶ÁéØ,(Â§ñÂ±ÇÈó≠ÁéØ‰∏∫ÈÄüÂ∫¶Êàñ‰ΩçÁΩÆ)‰∏î(ÂêØÁî®ÈÄüÂ∫¶ÁéØ)Êó∂‰ºöËÆ°ÁÆóÈÄüÂ∫¶Áé
 274:moudels/motor/DJImotor/dji_motor.c ****         if ((motor_setting->close_loop_type & SPEED_LOOP) && (motor_setting->outer_loop_type & (ANG
 275:moudels/motor/DJImotor/dji_motor.c ****         {
 276:moudels/motor/DJImotor/dji_motor.c ****             if (motor_setting->feedforward_flag & SPEED_FEEDFORWARD)
 277:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 278:moudels/motor/DJImotor/dji_motor.c **** 
 279:moudels/motor/DJImotor/dji_motor.c ****             if (motor_setting->speed_feedback_source == OTHER_FEED)
 886              		.loc 1 279 13 is_stmt 1 view .LVU279
 887              		.loc 1 279 30 is_stmt 0 view .LVU280
 888 002e 94F82530 		ldrb	r3, [r4, #37]	@ zero_extendqisi2
 889              		.loc 1 279 16 view .LVU281
 890 0032 012B     		cmp	r3, #1
 891 0034 65D0     		beq	.L69
 280:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = *motor_controller->other_speed_feedback_ptr;
 281:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 282:moudels/motor/DJImotor/dji_motor.c ****                 pid_measure = measure->speed_aps;
 892              		.loc 1 282 17 is_stmt 1 view .LVU282
 893              		.loc 1 282 29 is_stmt 0 view .LVU283
 894 0036 94ED020A 		vldr.32	s0, [r4, #8]
 895              	.LVL62:
 896              	.L58:
 283:moudels/motor/DJImotor/dji_motor.c ****             // Êõ¥Êñ∞pid_refËøõÂÖ•‰∏ã‰∏Ä‰∏™ÁéØ
 284:moudels/motor/DJImotor/dji_motor.c ****             pid_ref = PIDCalculate(&motor_controller->speed_PID, pid_measure, pid_ref);
 897              		.loc 1 284 13 is_stmt 1 view .LVU284
 898              		.loc 1 284 23 is_stmt 0 view .LVU285
 899 003a 04F1B000 		add	r0, r4, #176
 900 003e FFF7FEFF 		bl	PIDCalculate
 901              	.LVL63:
 902              		.loc 1 284 23 view .LVU286
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 24


 903 0042 F0EE400A 		vmov.f32	s1, s0
 904              	.LVL64:
 905              	.L55:
 285:moudels/motor/DJImotor/dji_motor.c ****         }
 286:moudels/motor/DJImotor/dji_motor.c **** 
 287:moudels/motor/DJImotor/dji_motor.c ****         // ËÆ°ÁÆóÁîµÊµÅÁéØ,ÁõÆÂâçÂè™Ë¶ÅÂêØÁî®‰∫ÜÁîµÊµÅÁéØÂ∞±ËÆ°ÁÆó,‰∏çÁÆ°Â§ñÂ±ÇÈó≠ÁéØÊòØ‰ªÄ‰πà,Âπ∂‰
 288:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->feedforward_flag & CURRENT_FEEDFORWARD)
 906              		.loc 1 288 9 is_stmt 1 view .LVU287
 907              		.loc 1 288 26 is_stmt 0 view .LVU288
 908 0046 94F82630 		ldrb	r3, [r4, #38]	@ zero_extendqisi2
 909              		.loc 1 288 12 view .LVU289
 910 004a 13F0010F 		tst	r3, #1
 911 004e 04D0     		beq	.L59
 289:moudels/motor/DJImotor/dji_motor.c ****             pid_ref += *motor_controller->current_feedforward_ptr;
 912              		.loc 1 289 13 is_stmt 1 view .LVU290
 913              		.loc 1 289 41 is_stmt 0 view .LVU291
 914 0050 636B     		ldr	r3, [r4, #52]
 915              		.loc 1 289 24 view .LVU292
 916 0052 D3ED007A 		vldr.32	s15, [r3]
 917              		.loc 1 289 21 view .LVU293
 918 0056 70EEA70A 		vadd.f32	s1, s1, s15
 919              	.LVL65:
 920              	.L59:
 290:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->close_loop_type & CURRENT_LOOP)
 921              		.loc 1 290 9 is_stmt 1 view .LVU294
 922              		.loc 1 290 26 is_stmt 0 view .LVU295
 923 005a 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 924              		.loc 1 290 12 view .LVU296
 925 005e 13F0010F 		tst	r3, #1
 926 0062 52D1     		bne	.L70
 927              	.L60:
 291:moudels/motor/DJImotor/dji_motor.c ****         {
 292:moudels/motor/DJImotor/dji_motor.c ****             pid_ref = PIDCalculate(&motor_controller->current_PID, measure->real_current, pid_ref);
 293:moudels/motor/DJImotor/dji_motor.c ****         }
 294:moudels/motor/DJImotor/dji_motor.c **** 
 295:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->feedback_reverse_flag == FEEDBACK_DIRECTION_REVERSE)
 928              		.loc 1 295 9 is_stmt 1 view .LVU297
 929              		.loc 1 295 26 is_stmt 0 view .LVU298
 930 0064 94F82330 		ldrb	r3, [r4, #35]	@ zero_extendqisi2
 931              		.loc 1 295 12 view .LVU299
 932 0068 012B     		cmp	r3, #1
 933 006a 5BD0     		beq	.L71
 934              	.L61:
 296:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1;
 297:moudels/motor/DJImotor/dji_motor.c **** 
 298:moudels/motor/DJImotor/dji_motor.c ****         // Ëé∑ÂèñÊúÄÁªàËæìÂá∫
 299:moudels/motor/DJImotor/dji_motor.c ****         set = (int16_t)pid_ref;
 935              		.loc 1 299 9 is_stmt 1 view .LVU300
 936              		.loc 1 299 13 is_stmt 0 view .LVU301
 937 006c FDEEE07A 		vcvt.s32.f32	s15, s1
 938 0070 17EE903A 		vmov	r3, s15	@ int
 939              	.LVL66:
 300:moudels/motor/DJImotor/dji_motor.c **** 
 301:moudels/motor/DJImotor/dji_motor.c ****         // ÂàÜÁªÑÂ°´ÂÖ•ÂèëÈÄÅÊï∞ÊçÆ
 302:moudels/motor/DJImotor/dji_motor.c ****         group = motor->sender_group;
 940              		.loc 1 302 9 is_stmt 1 view .LVU302
 941              		.loc 1 302 15 is_stmt 0 view .LVU303
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 25


 942 0074 94F8AC11 		ldrb	r1, [r4, #428]	@ zero_extendqisi2
 943              	.LVL67:
 303:moudels/motor/DJImotor/dji_motor.c ****         num = motor->message_num;
 944              		.loc 1 303 9 is_stmt 1 view .LVU304
 945              		.loc 1 303 13 is_stmt 0 view .LVU305
 946 0078 94F8ADC1 		ldrb	ip, [r4, #429]	@ zero_extendqisi2
 947              	.LVL68:
 304:moudels/motor/DJImotor/dji_motor.c ****         sender_assignment[group].tx_buff[2 * num] = (uint8_t)(set >> 8);         // ‰ΩéÂÖ´‰Ωç
 948              		.loc 1 304 9 is_stmt 1 view .LVU306
 949              		.loc 1 304 44 is_stmt 0 view .LVU307
 950 007c 4FEA4C00 		lsl	r0, ip, #1
 951              		.loc 1 304 53 view .LVU308
 952 0080 C3F30726 		ubfx	r6, r3, #8, #8
 953              		.loc 1 304 51 view .LVU309
 954 0084 01EB4102 		add	r2, r1, r1, lsl #1
 955 0088 C2EB421E 		rsb	lr, r2, r2, lsl #5
 956 008c 394A     		ldr	r2, .L77
 957 008e 7244     		add	r2, r2, lr
 958 0090 02EB4C0E 		add	lr, r2, ip, lsl #1
 959 0094 8EF84060 		strb	r6, [lr, #64]
 960              	.LVL69:
 305:moudels/motor/DJImotor/dji_motor.c ****         sender_assignment[group].tx_buff[2 * num + 1] = (uint8_t)(set & 0x00ff); // È´òÂÖ´‰Ωç
 961              		.loc 1 305 9 is_stmt 1 view .LVU310
 962              		.loc 1 305 50 is_stmt 0 view .LVU311
 963 0098 00F1010E 		add	lr, r0, #1
 964              		.loc 1 305 55 view .LVU312
 965 009c 7244     		add	r2, r2, lr
 966 009e 82F84030 		strb	r3, [r2, #64]
 306:moudels/motor/DJImotor/dji_motor.c **** 
 307:moudels/motor/DJImotor/dji_motor.c ****         // Ëã•ËØ•ÁîµÊú∫Â§Ñ‰∫éÂÅúÊ≠¢Áä∂ÊÄÅ,Áõ¥Êé•Â∞ÜbuffÁΩÆÈõ∂
 308:moudels/motor/DJImotor/dji_motor.c ****         if (motor->stop_flag == MOTOR_STOP)
 967              		.loc 1 308 9 is_stmt 1 view .LVU313
 968              		.loc 1 308 18 is_stmt 0 view .LVU314
 969 00a2 94F8AF31 		ldrb	r3, [r4, #431]	@ zero_extendqisi2
 970              	.LVL70:
 971              		.loc 1 308 12 view .LVU315
 972 00a6 002B     		cmp	r3, #0
 973 00a8 3FD0     		beq	.L72
 974              	.LVL71:
 975              	.L62:
 251:moudels/motor/DJImotor/dji_motor.c ****     { // ÂáèÂ∞èËÆøÂ≠òÂºÄÈîÄ,ÂÖà‰øùÂ≠òÊåáÈíàÂºïÁî®
 976              		.loc 1 251 33 is_stmt 1 discriminator 2 view .LVU316
 977 00aa 0135     		adds	r5, r5, #1
 978              	.LVL72:
 979              	.L50:
 251:moudels/motor/DJImotor/dji_motor.c ****     { // ÂáèÂ∞èËÆøÂ≠òÂºÄÈîÄ,ÂÖà‰øùÂ≠òÊåáÈíàÂºïÁî®
 980              		.loc 1 251 26 discriminator 1 view .LVU317
 981 00ac 324B     		ldr	r3, .L77+4
 982 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 983 00b0 AB42     		cmp	r3, r5
 984 00b2 49D9     		bls	.L73
 253:moudels/motor/DJImotor/dji_motor.c ****         motor_setting = &motor->motor_settings;
 985              		.loc 1 253 9 view .LVU318
 253:moudels/motor/DJImotor/dji_motor.c ****         motor_setting = &motor->motor_settings;
 986              		.loc 1 253 15 is_stmt 0 view .LVU319
 987 00b4 314B     		ldr	r3, .L77+8
 988 00b6 53F82540 		ldr	r4, [r3, r5, lsl #2]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 26


 989              	.LVL73:
 254:moudels/motor/DJImotor/dji_motor.c ****         motor_controller = &motor->motor_controller;
 990              		.loc 1 254 9 is_stmt 1 view .LVU320
 255:moudels/motor/DJImotor/dji_motor.c ****         measure = &motor->measure;
 991              		.loc 1 255 9 view .LVU321
 256:moudels/motor/DJImotor/dji_motor.c ****         pid_ref = motor_controller->pid_ref; // ‰øùÂ≠òËÆæÂÆöÂÄº,Èò≤Ê≠¢motor_controller->pid_refÂú®Ë
 992              		.loc 1 256 9 view .LVU322
 257:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 993              		.loc 1 257 9 view .LVU323
 257:moudels/motor/DJImotor/dji_motor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE)
 994              		.loc 1 257 17 is_stmt 0 view .LVU324
 995 00ba D4ED680A 		vldr.32	s1, [r4, #416]
 996              	.LVL74:
 258:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 997              		.loc 1 258 9 is_stmt 1 view .LVU325
 258:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 998              		.loc 1 258 26 is_stmt 0 view .LVU326
 999 00be 94F82230 		ldrb	r3, [r4, #34]	@ zero_extendqisi2
 258:moudels/motor/DJImotor/dji_motor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 1000              		.loc 1 258 12 view .LVU327
 1001 00c2 012B     		cmp	r3, #1
 1002 00c4 9FD0     		beq	.L74
 1003              	.L51:
 263:moudels/motor/DJImotor/dji_motor.c ****         {
 1004              		.loc 1 263 9 is_stmt 1 view .LVU328
 263:moudels/motor/DJImotor/dji_motor.c ****         {
 1005              		.loc 1 263 27 is_stmt 0 view .LVU329
 1006 00c6 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 263:moudels/motor/DJImotor/dji_motor.c ****         {
 1007              		.loc 1 263 12 view .LVU330
 1008 00ca 13F0040F 		tst	r3, #4
 1009 00ce 03D0     		beq	.L52
 263:moudels/motor/DJImotor/dji_motor.c ****         {
 1010              		.loc 1 263 75 discriminator 1 view .LVU331
 1011 00d0 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
 263:moudels/motor/DJImotor/dji_motor.c ****         {
 1012              		.loc 1 263 59 discriminator 1 view .LVU332
 1013 00d4 042B     		cmp	r3, #4
 1014 00d6 99D0     		beq	.L75
 1015              	.L52:
 274:moudels/motor/DJImotor/dji_motor.c ****         {
 1016              		.loc 1 274 9 is_stmt 1 view .LVU333
 274:moudels/motor/DJImotor/dji_motor.c ****         {
 1017              		.loc 1 274 27 is_stmt 0 view .LVU334
 1018 00d8 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 274:moudels/motor/DJImotor/dji_motor.c ****         {
 1019              		.loc 1 274 12 view .LVU335
 1020 00dc 13F0020F 		tst	r3, #2
 1021 00e0 B1D0     		beq	.L55
 274:moudels/motor/DJImotor/dji_motor.c ****         {
 1022              		.loc 1 274 76 discriminator 1 view .LVU336
 1023 00e2 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
 274:moudels/motor/DJImotor/dji_motor.c ****         {
 1024              		.loc 1 274 59 discriminator 1 view .LVU337
 1025 00e6 13F0060F 		tst	r3, #6
 1026 00ea ACD0     		beq	.L55
 276:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 27


 1027              		.loc 1 276 13 is_stmt 1 view .LVU338
 276:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1028              		.loc 1 276 30 is_stmt 0 view .LVU339
 1029 00ec 94F82630 		ldrb	r3, [r4, #38]	@ zero_extendqisi2
 276:moudels/motor/DJImotor/dji_motor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 1030              		.loc 1 276 16 view .LVU340
 1031 00f0 13F0020F 		tst	r3, #2
 1032 00f4 9BD0     		beq	.L56
 277:moudels/motor/DJImotor/dji_motor.c **** 
 1033              		.loc 1 277 17 is_stmt 1 view .LVU341
 277:moudels/motor/DJImotor/dji_motor.c **** 
 1034              		.loc 1 277 45 is_stmt 0 view .LVU342
 1035 00f6 236B     		ldr	r3, [r4, #48]
 277:moudels/motor/DJImotor/dji_motor.c **** 
 1036              		.loc 1 277 28 view .LVU343
 1037 00f8 D3ED007A 		vldr.32	s15, [r3]
 277:moudels/motor/DJImotor/dji_motor.c **** 
 1038              		.loc 1 277 25 view .LVU344
 1039 00fc 70EEA70A 		vadd.f32	s1, s1, s15
 1040              	.LVL75:
 277:moudels/motor/DJImotor/dji_motor.c **** 
 1041              		.loc 1 277 25 view .LVU345
 1042 0100 95E7     		b	.L56
 1043              	.L69:
 280:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1044              		.loc 1 280 17 is_stmt 1 view .LVU346
 280:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1045              		.loc 1 280 48 is_stmt 0 view .LVU347
 1046 0102 E36A     		ldr	r3, [r4, #44]
 280:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1047              		.loc 1 280 29 view .LVU348
 1048 0104 93ED000A 		vldr.32	s0, [r3]
 1049              	.LVL76:
 280:moudels/motor/DJImotor/dji_motor.c ****             else // MOTOR_FEED
 1050              		.loc 1 280 29 view .LVU349
 1051 0108 97E7     		b	.L58
 1052              	.LVL77:
 1053              	.L70:
 292:moudels/motor/DJImotor/dji_motor.c ****         }
 1054              		.loc 1 292 13 is_stmt 1 view .LVU350
 292:moudels/motor/DJImotor/dji_motor.c ****         }
 1055              		.loc 1 292 75 is_stmt 0 view .LVU351
 1056 010a B4F90C30 		ldrsh	r3, [r4, #12]
 1057 010e 00EE103A 		vmov	s0, r3	@ int
 292:moudels/motor/DJImotor/dji_motor.c ****         }
 1058              		.loc 1 292 23 view .LVU352
 1059 0112 B8EEC00A 		vcvt.f32.s32	s0, s0
 1060 0116 04F13800 		add	r0, r4, #56
 1061 011a FFF7FEFF 		bl	PIDCalculate
 1062              	.LVL78:
 292:moudels/motor/DJImotor/dji_motor.c ****         }
 1063              		.loc 1 292 23 view .LVU353
 1064 011e F0EE400A 		vmov.f32	s1, s0
 1065              	.LVL79:
 292:moudels/motor/DJImotor/dji_motor.c ****         }
 1066              		.loc 1 292 23 view .LVU354
 1067 0122 9FE7     		b	.L60
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 28


 1068              	.LVL80:
 1069              	.L71:
 296:moudels/motor/DJImotor/dji_motor.c **** 
 1070              		.loc 1 296 13 is_stmt 1 view .LVU355
 296:moudels/motor/DJImotor/dji_motor.c **** 
 1071              		.loc 1 296 21 is_stmt 0 view .LVU356
 1072 0124 F1EE600A 		vneg.f32	s1, s1
 1073              	.LVL81:
 296:moudels/motor/DJImotor/dji_motor.c **** 
 1074              		.loc 1 296 21 view .LVU357
 1075 0128 A0E7     		b	.L61
 1076              	.LVL82:
 1077              	.L72:
 309:moudels/motor/DJImotor/dji_motor.c ****             memset(sender_assignment[group].tx_buff + 2 * num, 0, 16u);
 1078              		.loc 1 309 13 is_stmt 1 view .LVU358
 1079              		.loc 1 309 20 is_stmt 0 view .LVU359
 1080 012a 01EB4101 		add	r1, r1, r1, lsl #1
 1081              	.LVL83:
 1082              		.loc 1 309 20 view .LVU360
 1083 012e C1EB4111 		rsb	r1, r1, r1, lsl #5
 1084 0132 4031     		adds	r1, r1, #64
 1085 0134 0F4B     		ldr	r3, .L77
 1086 0136 1944     		add	r1, r1, r3
 1087              		.loc 1 309 13 view .LVU361
 1088 0138 0844     		add	r0, r0, r1
 1089 013a 0023     		movs	r3, #0
 1090 013c 41F81C30 		str	r3, [r1, ip, lsl #1]	@ unaligned
 1091 0140 4360     		str	r3, [r0, #4]	@ unaligned
 1092 0142 8360     		str	r3, [r0, #8]	@ unaligned
 1093 0144 C360     		str	r3, [r0, #12]	@ unaligned
 1094 0146 B0E7     		b	.L62
 1095              	.LVL84:
 1096              	.L73:
 1097              		.loc 1 309 13 view .LVU362
 1098              	.LBE6:
 1099              	.LBB7:
 310:moudels/motor/DJImotor/dji_motor.c ****     }
 311:moudels/motor/DJImotor/dji_motor.c **** 
 312:moudels/motor/DJImotor/dji_motor.c ****     // ÈÅçÂéÜflag,Ê£ÄÊü•ÊòØÂê¶Ë¶ÅÂèëÈÄÅËøô‰∏ÄÂ∏ßÊä•Êñá
 313:moudels/motor/DJImotor/dji_motor.c ****     for (size_t i = 0; i < 6; ++i)
 1100              		.loc 1 313 17 view .LVU363
 1101 0148 0024     		movs	r4, #0
 1102 014a 00E0     		b	.L64
 1103              	.LVL85:
 1104              	.L65:
 1105              		.loc 1 313 31 is_stmt 1 discriminator 2 view .LVU364
 1106 014c 0134     		adds	r4, r4, #1
 1107              	.LVL86:
 1108              	.L64:
 1109              		.loc 1 313 26 discriminator 1 view .LVU365
 1110 014e 052C     		cmp	r4, #5
 1111 0150 0ED8     		bhi	.L76
 314:moudels/motor/DJImotor/dji_motor.c ****     {
 315:moudels/motor/DJImotor/dji_motor.c ****         if (sender_enable_flag[i])
 1112              		.loc 1 315 9 view .LVU366
 1113              		.loc 1 315 31 is_stmt 0 view .LVU367
 1114 0152 0B4B     		ldr	r3, .L77+12
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 29


 1115 0154 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 1116              		.loc 1 315 12 view .LVU368
 1117 0156 002B     		cmp	r3, #0
 1118 0158 F8D0     		beq	.L65
 316:moudels/motor/DJImotor/dji_motor.c ****         {
 317:moudels/motor/DJImotor/dji_motor.c ****             CANTransmit(&sender_assignment[i], 1);
 1119              		.loc 1 317 13 is_stmt 1 view .LVU369
 1120 015a 04EB4400 		add	r0, r4, r4, lsl #1
 1121 015e C0EB4010 		rsb	r0, r0, r0, lsl #5
 1122 0162 B7EE000A 		vmov.f32	s0, #1.0e+0
 1123 0166 034B     		ldr	r3, .L77
 1124 0168 1844     		add	r0, r0, r3
 1125 016a FFF7FEFF 		bl	CANTransmit
 1126              	.LVL87:
 1127 016e EDE7     		b	.L65
 1128              	.L76:
 1129              	.LBE7:
 318:moudels/motor/DJImotor/dji_motor.c ****         }
 319:moudels/motor/DJImotor/dji_motor.c ****     }
 320:moudels/motor/DJImotor/dji_motor.c **** }
 1130              		.loc 1 320 1 is_stmt 0 view .LVU370
 1131 0170 70BD     		pop	{r4, r5, r6, pc}
 1132              	.LVL88:
 1133              	.L78:
 1134              		.loc 1 320 1 view .LVU371
 1135 0172 00BF     		.align	2
 1136              	.L77:
 1137 0174 00000000 		.word	sender_assignment
 1138 0178 00000000 		.word	idx
 1139 017c 00000000 		.word	dji_motor_instance
 1140 0180 00000000 		.word	sender_enable_flag
 1141              		.cfi_endproc
 1142              	.LFE146:
 1144              		.section	.bss.sender_enable_flag,"aw",%nobits
 1145              		.align	2
 1148              	sender_enable_flag:
 1149 0000 00000000 		.space	6
 1149      0000
 1150              		.section	.data.sender_assignment,"aw"
 1151              		.align	2
 1154              	sender_assignment:
 1155 0000 00000000 		.word	hcan1
 1156 0004 FF010000 		.word	511
 1157 0008 00000000 		.space	4
 1158 000c 00000000 		.word	0
 1159 0010 00000000 		.word	0
 1160 0014 08000000 		.word	8
 1161 0018 00000000 		.space	4
 1162 001c 00000000 		.space	36
 1162      00000000 
 1162      00000000 
 1162      00000000 
 1162      00000000 
 1163 0040 0000     		.ascii	"\000\000"
 1164 0042 00000000 		.space	6
 1164      0000
 1165 0048 00000000 		.space	21
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 30


 1165      00000000 
 1165      00000000 
 1165      00000000 
 1165      00000000 
 1166 005d 00000000 		.4byte	hcan1
 1167 0061 00020000 		.4byte	512
 1168 0065 00000000 		.space	4
 1169 0069 00000000 		.4byte	0
 1170 006d 00000000 		.4byte	0
 1171 0071 08000000 		.4byte	8
 1172 0075 00000000 		.space	4
 1173 0079 00000000 		.space	36
 1173      00000000 
 1173      00000000 
 1173      00000000 
 1173      00000000 
 1174 009d 0000     		.ascii	"\000\000"
 1175 009f 00000000 		.space	6
 1175      0000
 1176 00a5 00000000 		.space	21
 1176      00000000 
 1176      00000000 
 1176      00000000 
 1176      00000000 
 1177 00ba 00000000 		.4byte	hcan1
 1178 00be FF020000 		.4byte	767
 1179 00c2 00000000 		.space	4
 1180 00c6 00000000 		.4byte	0
 1181 00ca 00000000 		.4byte	0
 1182 00ce 08000000 		.4byte	8
 1183 00d2 00000000 		.space	4
 1184 00d6 00000000 		.space	36
 1184      00000000 
 1184      00000000 
 1184      00000000 
 1184      00000000 
 1185 00fa 0000     		.ascii	"\000\000"
 1186 00fc 00000000 		.space	6
 1186      0000
 1187 0102 00000000 		.space	21
 1187      00000000 
 1187      00000000 
 1187      00000000 
 1187      00000000 
 1188 0117 00000000 		.4byte	hcan2
 1189 011b FF010000 		.4byte	511
 1190 011f 00000000 		.space	4
 1191 0123 00000000 		.4byte	0
 1192 0127 00000000 		.4byte	0
 1193 012b 08000000 		.4byte	8
 1194 012f 00000000 		.space	4
 1195 0133 00000000 		.space	36
 1195      00000000 
 1195      00000000 
 1195      00000000 
 1195      00000000 
 1196 0157 0000     		.ascii	"\000\000"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 31


 1197 0159 00000000 		.space	6
 1197      0000
 1198 015f 00000000 		.space	21
 1198      00000000 
 1198      00000000 
 1198      00000000 
 1198      00000000 
 1199 0174 00000000 		.word	hcan2
 1200 0178 00020000 		.word	512
 1201 017c 00000000 		.space	4
 1202 0180 00000000 		.word	0
 1203 0184 00000000 		.word	0
 1204 0188 08000000 		.word	8
 1205 018c 00000000 		.space	4
 1206 0190 00000000 		.space	36
 1206      00000000 
 1206      00000000 
 1206      00000000 
 1206      00000000 
 1207 01b4 0000     		.ascii	"\000\000"
 1208 01b6 00000000 		.space	6
 1208      0000
 1209 01bc 00000000 		.space	21
 1209      00000000 
 1209      00000000 
 1209      00000000 
 1209      00000000 
 1210 01d1 00000000 		.4byte	hcan2
 1211 01d5 FF020000 		.4byte	767
 1212 01d9 00000000 		.space	4
 1213 01dd 00000000 		.4byte	0
 1214 01e1 00000000 		.4byte	0
 1215 01e5 08000000 		.4byte	8
 1216 01e9 00000000 		.space	4
 1217 01ed 00000000 		.space	36
 1217      00000000 
 1217      00000000 
 1217      00000000 
 1217      00000000 
 1218 0211 0000     		.ascii	"\000\000"
 1219 0213 00000000 		.space	6
 1219      0000
 1220 0219 00000000 		.space	21
 1220      00000000 
 1220      00000000 
 1220      00000000 
 1220      00000000 
 1221              		.section	.bss.dji_motor_instance,"aw",%nobits
 1222              		.align	2
 1225              	dji_motor_instance:
 1226 0000 00000000 		.space	48
 1226      00000000 
 1226      00000000 
 1226      00000000 
 1226      00000000 
 1227              		.section	.bss.idx,"aw",%nobits
 1230              	idx:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 32


 1231 0000 00       		.space	1
 1232              		.text
 1233              	.Letext0:
 1234              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1235              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1236              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1237              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1238              		.file 6 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 1239              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 1240              		.file 8 "Core/Inc/can.h"
 1241              		.file 9 "bsp/can/bsp_can.h"
 1242              		.file 10 "moudels/algorithm/controller.h"
 1243              		.file 11 "moudels/motor/motor_def.h"
 1244              		.file 12 "moudels/daemon/daemon.h"
 1245              		.file 13 "moudels/motor/DJImotor/dji_motor.h"
 1246              		.file 14 "bsp/dwt/bsp_dwt.h"
 1247              		.file 15 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 1248              		.file 16 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 1249              		.file 17 "<built-in>"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 dji_motor.c
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:21     .text.MotorSenderGrouping:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:26     .text.MotorSenderGrouping:00000000 MotorSenderGrouping
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:307    .text.MotorSenderGrouping:00000108 $d
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1148   .bss.sender_enable_flag:00000000 sender_enable_flag
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1230   .bss.idx:00000000 idx
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1225   .bss.dji_motor_instance:00000000 dji_motor_instance
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:315    .text.DJIMotorLostCallback:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:320    .text.DJIMotorLostCallback:00000000 DJIMotorLostCallback
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:336    .text.DecodeDJIMotor:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:341    .text.DecodeDJIMotor:00000000 DecodeDJIMotor
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:505    .text.DecodeDJIMotor:000000f8 $d
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:514    .text.DJIMotorChangeFeed:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:520    .text.DJIMotorChangeFeed:00000000 DJIMotorChangeFeed
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:554    .text.DJIMotorStop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:560    .text.DJIMotorStop:00000000 DJIMotorStop
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:578    .text.DJIMotorEnable:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:584    .text.DJIMotorEnable:00000000 DJIMotorEnable
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:602    .text.DJIMotorInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:608    .text.DJIMotorInit:00000000 DJIMotorInit
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:757    .text.DJIMotorInit:000000c8 $d
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:765    .text.DJIMotorOuterLoop:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:771    .text.DJIMotorOuterLoop:00000000 DJIMotorOuterLoop
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:788    .text.DJIMotorSetRef:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:794    .text.DJIMotorSetRef:00000000 DJIMotorSetRef
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:811    .text.DJIMotorControl:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:817    .text.DJIMotorControl:00000000 DJIMotorControl
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1137   .text.DJIMotorControl:00000174 $d
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1154   .data.sender_assignment:00000000 sender_assignment
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1145   .bss.sender_enable_flag:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1151   .data.sender_assignment:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1222   .bss.dji_motor_instance:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccpBNcQb.s:1231   .bss.idx:00000000 $d

UNDEFINED SYMBOLS
hcan1
DWT_GetDeltaT
malloc
memset
PIDInit
CANRegister
DaemonRegister
PIDCalculate
CANTransmit
hcan2
