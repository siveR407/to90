ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"QuaternionEKF.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "moudels/algorithm/QuaternionEKF.c"
  20              		.section	.text.invSqrt,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	invSqrt:
  27              	.LVL0:
  28              	.LFB173:
   1:moudels/algorithm/QuaternionEKF.c **** /**
   2:moudels/algorithm/QuaternionEKF.c ****  ******************************************************************************
   3:moudels/algorithm/QuaternionEKF.c ****  * @file    QuaternionEKF.c
   4:moudels/algorithm/QuaternionEKF.c ****  * @author  Wang Hongxi
   5:moudels/algorithm/QuaternionEKF.c ****  * @version V1.2.0
   6:moudels/algorithm/QuaternionEKF.c ****  * @date    2022/3/8
   7:moudels/algorithm/QuaternionEKF.c ****  * @brief   attitude update with gyro bias estimate and chi-square test
   8:moudels/algorithm/QuaternionEKF.c ****  ******************************************************************************
   9:moudels/algorithm/QuaternionEKF.c ****  * @attention
  10:moudels/algorithm/QuaternionEKF.c ****  * 1st order LPF transfer function:
  11:moudels/algorithm/QuaternionEKF.c ****  *     1
  12:moudels/algorithm/QuaternionEKF.c ****  *  â€”â€”â€”â€”â€”â€”â€”
  13:moudels/algorithm/QuaternionEKF.c ****  *  as + 1
  14:moudels/algorithm/QuaternionEKF.c ****  * 
  15:moudels/algorithm/QuaternionEKF.c ****  ******************************************************************************
  16:moudels/algorithm/QuaternionEKF.c ****  */
  17:moudels/algorithm/QuaternionEKF.c **** #include "QuaternionEKF.h"
  18:moudels/algorithm/QuaternionEKF.c **** 
  19:moudels/algorithm/QuaternionEKF.c **** QEKF_INS_t QEKF_INS;
  20:moudels/algorithm/QuaternionEKF.c **** 
  21:moudels/algorithm/QuaternionEKF.c **** const float IMU_QuaternionEKF_F[36] = {1, 0, 0, 0, 0, 0,
  22:moudels/algorithm/QuaternionEKF.c ****                                        0, 1, 0, 0, 0, 0,
  23:moudels/algorithm/QuaternionEKF.c ****                                        0, 0, 1, 0, 0, 0,
  24:moudels/algorithm/QuaternionEKF.c ****                                        0, 0, 0, 1, 0, 0,
  25:moudels/algorithm/QuaternionEKF.c ****                                        0, 0, 0, 0, 1, 0,
  26:moudels/algorithm/QuaternionEKF.c ****                                        0, 0, 0, 0, 0, 1};
  27:moudels/algorithm/QuaternionEKF.c **** float IMU_QuaternionEKF_P[36] = {100000, 0.1, 0.1, 0.1, 0.1, 0.1,
  28:moudels/algorithm/QuaternionEKF.c ****                                  0.1, 100000, 0.1, 0.1, 0.1, 0.1,
  29:moudels/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 100000, 0.1, 0.1, 0.1,
  30:moudels/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 0.1, 100000, 0.1, 0.1,
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 2


  31:moudels/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 0.1, 0.1, 100, 0.1,
  32:moudels/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 0.1, 0.1, 0.1, 100};
  33:moudels/algorithm/QuaternionEKF.c **** float IMU_QuaternionEKF_K[18];
  34:moudels/algorithm/QuaternionEKF.c **** float IMU_QuaternionEKF_H[18];
  35:moudels/algorithm/QuaternionEKF.c **** 
  36:moudels/algorithm/QuaternionEKF.c **** static float invSqrt(float x);
  37:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_Observe(KalmanFilter_t *kf);
  38:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_F_Linearization_P_Fading(KalmanFilter_t *kf);
  39:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_SetH(KalmanFilter_t *kf);
  40:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_xhatUpdate(KalmanFilter_t *kf);
  41:moudels/algorithm/QuaternionEKF.c **** 
  42:moudels/algorithm/QuaternionEKF.c **** /**
  43:moudels/algorithm/QuaternionEKF.c ****  * @brief Quaternion EKF initialization and some reference value
  44:moudels/algorithm/QuaternionEKF.c ****  * @param[in] process_noise1 quaternion process noise    10
  45:moudels/algorithm/QuaternionEKF.c ****  * @param[in] process_noise2 gyro bias process noise     0.001
  46:moudels/algorithm/QuaternionEKF.c ****  * @param[in] measure_noise  accel measure noise         1000000
  47:moudels/algorithm/QuaternionEKF.c ****  * @param[in] lambda         fading coefficient          0.9996
  48:moudels/algorithm/QuaternionEKF.c ****  * @param[in] lpf            lowpass filter coefficient  0
  49:moudels/algorithm/QuaternionEKF.c ****  */
  50:moudels/algorithm/QuaternionEKF.c **** void IMU_QuaternionEKF_Init(float* init_quaternion,float process_noise1, float process_noise2, floa
  51:moudels/algorithm/QuaternionEKF.c **** {
  52:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Initialized = 1;
  53:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Q1 = process_noise1;
  54:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Q2 = process_noise2;
  55:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.R = measure_noise;
  56:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ChiSquareTestThreshold = 1e-8;
  57:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ConvergeFlag = 0;
  58:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ErrorCount = 0;
  59:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
  60:moudels/algorithm/QuaternionEKF.c ****     if (lambda > 1)
  61:moudels/algorithm/QuaternionEKF.c ****     {
  62:moudels/algorithm/QuaternionEKF.c ****         lambda = 1;
  63:moudels/algorithm/QuaternionEKF.c ****     }
  64:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.lambda = lambda;
  65:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.accLPFcoef = lpf;
  66:moudels/algorithm/QuaternionEKF.c **** 
  67:moudels/algorithm/QuaternionEKF.c ****     // åˆå§‹åŒ–çŸ©é˜µç»´åº¦ä¿¡æ¯
  68:moudels/algorithm/QuaternionEKF.c ****     Kalman_Filter_Init(&QEKF_INS.IMU_QuaternionEKF, 6, 0, 3);
  69:moudels/algorithm/QuaternionEKF.c ****     Matrix_Init(&QEKF_INS.ChiSquare, 1, 1, (float *)QEKF_INS.ChiSquare_Data);
  70:moudels/algorithm/QuaternionEKF.c **** 
  71:moudels/algorithm/QuaternionEKF.c ****     // å§¿æ€åˆå§‹åŒ–
  72:moudels/algorithm/QuaternionEKF.c ****     for(int i = 0; i < 4; i++)
  73:moudels/algorithm/QuaternionEKF.c ****     {
  74:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.IMU_QuaternionEKF.xhat_data[i] = init_quaternion[i];
  75:moudels/algorithm/QuaternionEKF.c ****     }
  76:moudels/algorithm/QuaternionEKF.c **** 
  77:moudels/algorithm/QuaternionEKF.c ****     // è‡ªå®šä¹‰å‡½æ•°åˆå§‹åŒ–,ç”¨äºæ‰©å±•æˆ–å¢åŠ kfçš„åŸºç¡€åŠŸèƒ½
  78:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func0_f = IMU_QuaternionEKF_Observe;
  79:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
  80:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func2_f = IMU_QuaternionEKF_SetH;
  81:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func3_f = IMU_QuaternionEKF_xhatUpdate;
  82:moudels/algorithm/QuaternionEKF.c **** 
  83:moudels/algorithm/QuaternionEKF.c ****     // è®¾å®šæ ‡å¿—ä½,ç”¨è‡ªå®šå‡½æ•°æ›¿æ¢kfæ ‡å‡†æ­¥éª¤ä¸­çš„SetK(è®¡ç®—å¢ç›Š)ä»¥åŠxhatupdate(
  84:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq3 = TRUE;
  85:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq4 = TRUE;
  86:moudels/algorithm/QuaternionEKF.c **** 
  87:moudels/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.F_data, IMU_QuaternionEKF_F, sizeof(IMU_QuaternionEKF_F));
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 3


  88:moudels/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.P_data, IMU_QuaternionEKF_P, sizeof(IMU_QuaternionEKF_P));
  89:moudels/algorithm/QuaternionEKF.c **** }
  90:moudels/algorithm/QuaternionEKF.c **** 
  91:moudels/algorithm/QuaternionEKF.c **** /**
  92:moudels/algorithm/QuaternionEKF.c ****  * @brief Quaternion EKF update
  93:moudels/algorithm/QuaternionEKF.c ****  * @param[in]       gyro x y z in rad/s
  94:moudels/algorithm/QuaternionEKF.c ****  * @param[in]       accel x y z in m/sÂ²
  95:moudels/algorithm/QuaternionEKF.c ****  * @param[in]       update period in s
  96:moudels/algorithm/QuaternionEKF.c ****  */
  97:moudels/algorithm/QuaternionEKF.c **** void IMU_QuaternionEKF_Update(float gx, float gy, float gz, float ax, float ay, float az, float dt)
  98:moudels/algorithm/QuaternionEKF.c **** {
  99:moudels/algorithm/QuaternionEKF.c ****     // 0.5(Ohm-Ohm^bias)*deltaT,ç”¨äºæ›´æ–°å·¥ä½œç‚¹å¤„çš„çŠ¶æ€è½¬ç§»FçŸ©é˜µ
 100:moudels/algorithm/QuaternionEKF.c ****     static float halfgxdt, halfgydt, halfgzdt;
 101:moudels/algorithm/QuaternionEKF.c ****     static float accelInvNorm;
 102:moudels/algorithm/QuaternionEKF.c **** 
 103:moudels/algorithm/QuaternionEKF.c ****     /*   F, number with * represent vals to be set
 104:moudels/algorithm/QuaternionEKF.c ****      0      1*     2*     3*     4     5
 105:moudels/algorithm/QuaternionEKF.c ****      6*     7      8*     9*    10    11
 106:moudels/algorithm/QuaternionEKF.c ****     12*    13*    14     15*    16    17
 107:moudels/algorithm/QuaternionEKF.c ****     18*    19*    20*    21     22    23
 108:moudels/algorithm/QuaternionEKF.c ****     24     25     26     27     28    29
 109:moudels/algorithm/QuaternionEKF.c ****     30     31     32     33     34    35
 110:moudels/algorithm/QuaternionEKF.c ****     */
 111:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.dt = dt;
 112:moudels/algorithm/QuaternionEKF.c **** 
 113:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[0] = gx - QEKF_INS.GyroBias[0];
 114:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 115:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 116:moudels/algorithm/QuaternionEKF.c **** 
 117:moudels/algorithm/QuaternionEKF.c ****     // set F
 118:moudels/algorithm/QuaternionEKF.c ****     halfgxdt = 0.5f * QEKF_INS.Gyro[0] * dt;
 119:moudels/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 120:moudels/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 121:moudels/algorithm/QuaternionEKF.c **** 
 122:moudels/algorithm/QuaternionEKF.c ****     // æ­¤éƒ¨åˆ†è®¾å®šçŠ¶æ€è½¬ç§»çŸ©é˜µFçš„å·¦ä¸Šè§’éƒ¨åˆ† 4x4å­çŸ©é˜µ,å³0.5(Ohm-Ohm^bias)*delta
 123:moudels/algorithm/QuaternionEKF.c ****     // æ³¨æ„åœ¨predictæ­¥Fçš„å³ä¸Šè§’æ˜¯4x2çš„é›¶çŸ©é˜µ,å› æ­¤æ¯æ¬¡predictçš„æ—¶å€™éƒ½ä¼šè°ƒç”¨m
 124:moudels/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.F_data, IMU_QuaternionEKF_F, sizeof(IMU_QuaternionEKF_F));
 125:moudels/algorithm/QuaternionEKF.c **** 
 126:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[1] = -halfgxdt;
 127:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 128:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 129:moudels/algorithm/QuaternionEKF.c **** 
 130:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[6] = halfgxdt;
 131:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 132:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 133:moudels/algorithm/QuaternionEKF.c **** 
 134:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[12] = halfgydt;
 135:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 136:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 137:moudels/algorithm/QuaternionEKF.c **** 
 138:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[18] = halfgzdt;
 139:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 140:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 141:moudels/algorithm/QuaternionEKF.c **** 
 142:moudels/algorithm/QuaternionEKF.c ****     // accel low pass filter,åŠ é€Ÿåº¦è¿‡ä¸€ä¸‹ä½é€šæ»¤æ³¢å¹³æ»‘æ•°æ®,é™ä½æ’å‡»å’Œå¼‚å¸¸çš„å½±
 143:moudels/algorithm/QuaternionEKF.c ****     if (QEKF_INS.UpdateCount == 0) // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥,éœ€è¦åˆå§‹åŒ–ä½é€šæ»¤æ³¢
 144:moudels/algorithm/QuaternionEKF.c ****     {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 4


 145:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[0] = ax;
 146:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[1] = ay;
 147:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[2] = az;
 148:moudels/algorithm/QuaternionEKF.c ****     }
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[0] = QEKF_INS.Accel[0] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 151:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 152:moudels/algorithm/QuaternionEKF.c **** 
 153:moudels/algorithm/QuaternionEKF.c ****     // set z,å•ä½åŒ–é‡åŠ›åŠ é€Ÿåº¦å‘é‡
 154:moudels/algorithm/QuaternionEKF.c ****     accelInvNorm = invSqrt(QEKF_INS.Accel[0] * QEKF_INS.Accel[0] + QEKF_INS.Accel[1] * QEKF_INS.Acc
 155:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 156:moudels/algorithm/QuaternionEKF.c ****     {
 157:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.IMU_QuaternionEKF.MeasuredVector[i] = QEKF_INS.Accel[i] * accelInvNorm; // ç”¨åŠ é
 158:moudels/algorithm/QuaternionEKF.c ****     }
 159:moudels/algorithm/QuaternionEKF.c **** 
 160:moudels/algorithm/QuaternionEKF.c ****     // get body state
 161:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.gyro_norm = 1.0f / invSqrt(QEKF_INS.Gyro[0] * QEKF_INS.Gyro[0] +
 162:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 163:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[2] * QEKF_INS.Gyro[2]);
 164:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.accl_norm = 1.0f / accelInvNorm;
 165:moudels/algorithm/QuaternionEKF.c **** 
 166:moudels/algorithm/QuaternionEKF.c ****     // å¦‚æœè§’é€Ÿåº¦å°äºé˜ˆå€¼ä¸”åŠ é€Ÿåº¦å¤„äºè®¾å®šèŒƒå›´å†…,è®¤ä¸ºè¿åŠ¨ç¨³å®š,åŠ é€Ÿåº¦å¯
 167:moudels/algorithm/QuaternionEKF.c ****     // ç¨ååœ¨æœ€åçš„å§¿æ€æ›´æ–°éƒ¨åˆ†ä¼šåˆ©ç”¨StableFlagæ¥ç¡®å®š
 168:moudels/algorithm/QuaternionEKF.c ****     if (QEKF_INS.gyro_norm < 0.3f && QEKF_INS.accl_norm > 9.8f - 0.5f && QEKF_INS.accl_norm < 9.8f 
 169:moudels/algorithm/QuaternionEKF.c ****     {
 170:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.StableFlag = 1;
 171:moudels/algorithm/QuaternionEKF.c ****     }
 172:moudels/algorithm/QuaternionEKF.c ****     else
 173:moudels/algorithm/QuaternionEKF.c ****     {
 174:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.StableFlag = 0;
 175:moudels/algorithm/QuaternionEKF.c ****     }
 176:moudels/algorithm/QuaternionEKF.c **** 
 177:moudels/algorithm/QuaternionEKF.c ****     // set Q R,è¿‡ç¨‹å™ªå£°å’Œè§‚æµ‹å™ªå£°çŸ©é˜µ
 178:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[0] = QEKF_INS.Q1 * QEKF_INS.dt;
 179:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 180:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 181:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 182:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 183:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 184:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 185:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 186:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
 187:moudels/algorithm/QuaternionEKF.c **** 
 188:moudels/algorithm/QuaternionEKF.c ****     // è°ƒç”¨kalman_filter.cå°è£…å¥½çš„å‡½æ•°,æ³¨æ„å‡ ä¸ªUser_Funcx_fçš„è°ƒç”¨
 189:moudels/algorithm/QuaternionEKF.c ****     Kalman_Filter_Update(&QEKF_INS.IMU_QuaternionEKF);
 190:moudels/algorithm/QuaternionEKF.c **** 
 191:moudels/algorithm/QuaternionEKF.c ****     // è·å–èåˆåçš„æ•°æ®,åŒ…æ‹¬å››å…ƒæ•°å’Œxyé›¶é£˜å€¼
 192:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[0];
 193:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 194:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[2] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[2];
 195:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[3] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[3];
 196:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[4];
 197:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[5];
 198:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[2] = 0; // å¤§éƒ¨åˆ†æ—¶å€™zè½´é€šå¤©,æ— æ³•è§‚æµ‹yawçš„æ¼‚ç§»
 199:moudels/algorithm/QuaternionEKF.c **** 
 200:moudels/algorithm/QuaternionEKF.c ****     // åˆ©ç”¨å››å…ƒæ•°åè§£æ¬§æ‹‰è§’
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Yaw = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[3] + QEKF_INS.q[1] * QEKF_INS.q[2]), 2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 5


 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 203:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 204:moudels/algorithm/QuaternionEKF.c **** 
 205:moudels/algorithm/QuaternionEKF.c ****     // get Yaw total, yawæ•°æ®å¯èƒ½ä¼šè¶…è¿‡360,å¤„ç†ä¸€ä¸‹æ–¹ä¾¿å…¶ä»–åŠŸèƒ½ä½¿ç”¨(å¦‚å°é™€èº
 206:moudels/algorithm/QuaternionEKF.c ****     if (QEKF_INS.Yaw - QEKF_INS.YawAngleLast > 180.0f)
 207:moudels/algorithm/QuaternionEKF.c ****     {
 208:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.YawRoundCount--;
 209:moudels/algorithm/QuaternionEKF.c ****     }
 210:moudels/algorithm/QuaternionEKF.c ****     else if (QEKF_INS.Yaw - QEKF_INS.YawAngleLast < -180.0f)
 211:moudels/algorithm/QuaternionEKF.c ****     {
 212:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.YawRoundCount++;
 213:moudels/algorithm/QuaternionEKF.c ****     }
 214:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.YawTotalAngle = 360.0f * QEKF_INS.YawRoundCount + QEKF_INS.Yaw;
 215:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 216:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount++; // åˆå§‹åŒ–ä½é€šæ»¤æ³¢ç”¨,è®¡æ•°æµ‹è¯•ç”¨
 217:moudels/algorithm/QuaternionEKF.c **** }
 218:moudels/algorithm/QuaternionEKF.c **** 
 219:moudels/algorithm/QuaternionEKF.c **** /**
 220:moudels/algorithm/QuaternionEKF.c ****  * @brief ç”¨äºæ›´æ–°çº¿æ€§åŒ–åçš„çŠ¶æ€è½¬ç§»çŸ©é˜µFå³ä¸Šè§’çš„ä¸€ä¸ª4x2åˆ†å—çŸ©é˜µ,ç¨åç”¨
 221:moudels/algorithm/QuaternionEKF.c ****  *        å¹¶å¯¹é›¶æ¼‚çš„æ–¹å·®è¿›è¡Œé™åˆ¶,é˜²æ­¢è¿‡åº¦æ”¶æ•›å¹¶é™å¹…é˜²æ­¢å‘æ•£
 222:moudels/algorithm/QuaternionEKF.c ****  *
 223:moudels/algorithm/QuaternionEKF.c ****  * @param kf
 224:moudels/algorithm/QuaternionEKF.c ****  */
 225:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_F_Linearization_P_Fading(KalmanFilter_t *kf)
 226:moudels/algorithm/QuaternionEKF.c **** {
 227:moudels/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 228:moudels/algorithm/QuaternionEKF.c ****     static float qInvNorm;
 229:moudels/algorithm/QuaternionEKF.c **** 
 230:moudels/algorithm/QuaternionEKF.c ****     q0 = kf->xhatminus_data[0];
 231:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 232:moudels/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 233:moudels/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 234:moudels/algorithm/QuaternionEKF.c **** 
 235:moudels/algorithm/QuaternionEKF.c ****     // quaternion normalize
 236:moudels/algorithm/QuaternionEKF.c ****     qInvNorm = invSqrt(q0 * q0 + q1 * q1 + q2 * q2 + q3 * q3);
 237:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 238:moudels/algorithm/QuaternionEKF.c ****     {
 239:moudels/algorithm/QuaternionEKF.c ****         kf->xhatminus_data[i] *= qInvNorm;
 240:moudels/algorithm/QuaternionEKF.c ****     }
 241:moudels/algorithm/QuaternionEKF.c ****     /*  F, number with * represent vals to be set
 242:moudels/algorithm/QuaternionEKF.c ****      0     1     2     3     4*     5*
 243:moudels/algorithm/QuaternionEKF.c ****      6     7     8     9    10*    11*
 244:moudels/algorithm/QuaternionEKF.c ****     12    13    14    15    16*    17*
 245:moudels/algorithm/QuaternionEKF.c ****     18    19    20    21    22*    23*
 246:moudels/algorithm/QuaternionEKF.c ****     24    25    26    27    28     29
 247:moudels/algorithm/QuaternionEKF.c ****     30    31    32    33    34     35
 248:moudels/algorithm/QuaternionEKF.c ****     */
 249:moudels/algorithm/QuaternionEKF.c ****     // set F
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[4] = q1 * QEKF_INS.dt / 2;
 251:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 252:moudels/algorithm/QuaternionEKF.c **** 
 253:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[10] = -q0 * QEKF_INS.dt / 2;
 254:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 255:moudels/algorithm/QuaternionEKF.c **** 
 256:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[16] = -q3 * QEKF_INS.dt / 2;
 257:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 258:moudels/algorithm/QuaternionEKF.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 6


 259:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[22] = q2 * QEKF_INS.dt / 2;
 260:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 261:moudels/algorithm/QuaternionEKF.c **** 
 262:moudels/algorithm/QuaternionEKF.c ****     // fading filter,é˜²æ­¢é›¶é£˜å‚æ•°è¿‡åº¦æ”¶æ•›
 263:moudels/algorithm/QuaternionEKF.c ****     kf->P_data[28] /= QEKF_INS.lambda;
 264:moudels/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 265:moudels/algorithm/QuaternionEKF.c **** 
 266:moudels/algorithm/QuaternionEKF.c ****     // é™å¹…,é˜²æ­¢å‘æ•£
 267:moudels/algorithm/QuaternionEKF.c ****     if (kf->P_data[28] > 10000)
 268:moudels/algorithm/QuaternionEKF.c ****     {
 269:moudels/algorithm/QuaternionEKF.c ****         kf->P_data[28] = 10000;
 270:moudels/algorithm/QuaternionEKF.c ****     }
 271:moudels/algorithm/QuaternionEKF.c ****     if (kf->P_data[35] > 10000)
 272:moudels/algorithm/QuaternionEKF.c ****     {
 273:moudels/algorithm/QuaternionEKF.c ****         kf->P_data[35] = 10000;
 274:moudels/algorithm/QuaternionEKF.c ****     }
 275:moudels/algorithm/QuaternionEKF.c **** }
 276:moudels/algorithm/QuaternionEKF.c **** 
 277:moudels/algorithm/QuaternionEKF.c **** /**
 278:moudels/algorithm/QuaternionEKF.c ****  * @brief åœ¨å·¥ä½œç‚¹å¤„è®¡ç®—è§‚æµ‹å‡½æ•°h(x)çš„JacobiçŸ©é˜µH
 279:moudels/algorithm/QuaternionEKF.c ****  *
 280:moudels/algorithm/QuaternionEKF.c ****  * @param kf
 281:moudels/algorithm/QuaternionEKF.c ****  */
 282:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_SetH(KalmanFilter_t *kf)
 283:moudels/algorithm/QuaternionEKF.c **** {
 284:moudels/algorithm/QuaternionEKF.c ****     static float doubleq0, doubleq1, doubleq2, doubleq3;
 285:moudels/algorithm/QuaternionEKF.c ****     /* H
 286:moudels/algorithm/QuaternionEKF.c ****      0     1     2     3     4     5
 287:moudels/algorithm/QuaternionEKF.c ****      6     7     8     9    10    11
 288:moudels/algorithm/QuaternionEKF.c ****     12    13    14    15    16    17
 289:moudels/algorithm/QuaternionEKF.c ****     last two cols are zero
 290:moudels/algorithm/QuaternionEKF.c ****     */
 291:moudels/algorithm/QuaternionEKF.c ****     // set H
 292:moudels/algorithm/QuaternionEKF.c ****     doubleq0 = 2 * kf->xhatminus_data[0];
 293:moudels/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 294:moudels/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 295:moudels/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 296:moudels/algorithm/QuaternionEKF.c **** 
 297:moudels/algorithm/QuaternionEKF.c ****     memset(kf->H_data, 0, sizeof_float * kf->zSize * kf->xhatSize);
 298:moudels/algorithm/QuaternionEKF.c **** 
 299:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[0] = -doubleq2;
 300:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 301:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 302:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 303:moudels/algorithm/QuaternionEKF.c **** 
 304:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[6] = doubleq1;
 305:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 306:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 307:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 308:moudels/algorithm/QuaternionEKF.c **** 
 309:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[12] = doubleq0;
 310:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 311:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 312:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 313:moudels/algorithm/QuaternionEKF.c **** }
 314:moudels/algorithm/QuaternionEKF.c **** 
 315:moudels/algorithm/QuaternionEKF.c **** /**
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 7


 316:moudels/algorithm/QuaternionEKF.c ****  * @brief åˆ©ç”¨è§‚æµ‹å€¼å’Œå…ˆéªŒä¼°è®¡å¾—åˆ°æœ€ä¼˜çš„åéªŒä¼°è®¡
 317:moudels/algorithm/QuaternionEKF.c ****  *        åŠ å…¥äº†å¡æ–¹æ£€éªŒä»¥åˆ¤æ–­èåˆåŠ é€Ÿåº¦çš„æ¡ä»¶æ˜¯å¦æ»¡è¶³
 318:moudels/algorithm/QuaternionEKF.c ****  *        åŒæ—¶å¼•å…¥å‘æ•£ä¿æŠ¤ä¿è¯æ¶åŠ£å·¥å†µä¸‹çš„å¿…è¦é‡æµ‹æ›´æ–°
 319:moudels/algorithm/QuaternionEKF.c ****  *
 320:moudels/algorithm/QuaternionEKF.c ****  * @param kf
 321:moudels/algorithm/QuaternionEKF.c ****  */
 322:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_xhatUpdate(KalmanFilter_t *kf)
 323:moudels/algorithm/QuaternionEKF.c **** {
 324:moudels/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 325:moudels/algorithm/QuaternionEKF.c **** 
 326:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->H, &kf->HT); // z|x => x|z
 327:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 328:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 329:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = HÂ·P'(
 330:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 331:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 332:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
 333:moudels/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 334:moudels/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 335:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 336:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(HÂ·P'(k)Â·
 337:moudels/algorithm/QuaternionEKF.c **** 
 338:moudels/algorithm/QuaternionEKF.c ****     q0 = kf->xhatminus_data[0];
 339:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 340:moudels/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 341:moudels/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 342:moudels/algorithm/QuaternionEKF.c **** 
 343:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = kf->H.numRows;
 344:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 345:moudels/algorithm/QuaternionEKF.c ****     // è®¡ç®—é¢„æµ‹å¾—åˆ°çš„é‡åŠ›åŠ é€Ÿåº¦æ–¹å‘(é€šè¿‡å§¿æ€è·å–çš„)
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[0] = 2 * (q1 * q3 - q0 * q2);
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 348:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 349:moudels/algorithm/QuaternionEKF.c **** 
 350:moudels/algorithm/QuaternionEKF.c ****     // è®¡ç®—é¢„æµ‹å€¼å’Œå„ä¸ªè½´çš„æ–¹å‘ä½™å¼¦
 351:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 352:moudels/algorithm/QuaternionEKF.c ****     {
 353:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.OrientationCosine[i] = acosf(fabsf(kf->temp_vector_data[i]));
 354:moudels/algorithm/QuaternionEKF.c ****     }
 355:moudels/algorithm/QuaternionEKF.c **** 
 356:moudels/algorithm/QuaternionEKF.c ****     // åˆ©ç”¨åŠ é€Ÿåº¦è®¡æ•°æ®ä¿®æ­£
 357:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numRows = kf->z.numRows;
 358:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 359:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Subtract(&kf->z, &kf->temp_vector, &kf->temp_vector1); // temp_vector1 =
 360:moudels/algorithm/QuaternionEKF.c **** 
 361:moudels/algorithm/QuaternionEKF.c ****     // chi-square test,å¡æ–¹æ£€éªŒ
 362:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->temp_vector1.numRows;
 363:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 364:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix1, &kf->temp_vector1, &kf->temp_matrix); // tem
 365:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 366:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = kf->temp_vector1.numRows;
 367:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
 368:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 369:moudels/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 370:moudels/algorithm/QuaternionEKF.c ****     if (QEKF_INS.ChiSquare_Data[0] < 0.5f * QEKF_INS.ChiSquareTestThreshold)
 371:moudels/algorithm/QuaternionEKF.c ****     {
 372:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.ConvergeFlag = 1;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 8


 373:moudels/algorithm/QuaternionEKF.c ****     }
 374:moudels/algorithm/QuaternionEKF.c ****     // rk is bigger than thre but once converged
 375:moudels/algorithm/QuaternionEKF.c ****     if (QEKF_INS.ChiSquare_Data[0] > QEKF_INS.ChiSquareTestThreshold && QEKF_INS.ConvergeFlag)
 376:moudels/algorithm/QuaternionEKF.c ****     {
 377:moudels/algorithm/QuaternionEKF.c ****         if (QEKF_INS.StableFlag)
 378:moudels/algorithm/QuaternionEKF.c ****         {
 379:moudels/algorithm/QuaternionEKF.c ****             QEKF_INS.ErrorCount++; // è½½ä½“é™æ­¢æ—¶ä»æ— æ³•é€šè¿‡å¡æ–¹æ£€éªŒ
 380:moudels/algorithm/QuaternionEKF.c ****         }
 381:moudels/algorithm/QuaternionEKF.c ****         else
 382:moudels/algorithm/QuaternionEKF.c ****         {
 383:moudels/algorithm/QuaternionEKF.c ****             QEKF_INS.ErrorCount = 0;
 384:moudels/algorithm/QuaternionEKF.c ****         }
 385:moudels/algorithm/QuaternionEKF.c **** 
 386:moudels/algorithm/QuaternionEKF.c ****         if (QEKF_INS.ErrorCount > 50)
 387:moudels/algorithm/QuaternionEKF.c ****         {
 388:moudels/algorithm/QuaternionEKF.c ****             // æ»¤æ³¢å™¨å‘æ•£
 389:moudels/algorithm/QuaternionEKF.c ****             QEKF_INS.ConvergeFlag = 0;
 390:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = FALSE; // step-5 is cov mat P updating
 391:moudels/algorithm/QuaternionEKF.c ****         }
 392:moudels/algorithm/QuaternionEKF.c ****         else
 393:moudels/algorithm/QuaternionEKF.c ****         {
 394:moudels/algorithm/QuaternionEKF.c ****             //  æ®‹å·®æœªé€šè¿‡å¡æ–¹æ£€éªŒ ä»…é¢„æµ‹
 395:moudels/algorithm/QuaternionEKF.c ****             //  xhat(k) = xhat'(k)
 396:moudels/algorithm/QuaternionEKF.c ****             //  P(k) = P'(k)
 397:moudels/algorithm/QuaternionEKF.c ****             memcpy(kf->xhat_data, kf->xhatminus_data, sizeof_float * kf->xhatSize);
 398:moudels/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 399:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 400:moudels/algorithm/QuaternionEKF.c ****             return;
 401:moudels/algorithm/QuaternionEKF.c ****         }
 402:moudels/algorithm/QuaternionEKF.c ****     }
 403:moudels/algorithm/QuaternionEKF.c ****     else // if divergent or rk is not that big/acceptable,use adaptive gain
 404:moudels/algorithm/QuaternionEKF.c ****     {
 405:moudels/algorithm/QuaternionEKF.c ****         // scale adaptive,rkè¶Šå°åˆ™å¢ç›Šè¶Šå¤§,å¦åˆ™æ›´ç›¸ä¿¡é¢„æµ‹å€¼
 406:moudels/algorithm/QuaternionEKF.c ****         if (QEKF_INS.ChiSquare_Data[0] > 0.1f * QEKF_INS.ChiSquareTestThreshold && QEKF_INS.Converg
 407:moudels/algorithm/QuaternionEKF.c ****         {
 408:moudels/algorithm/QuaternionEKF.c ****             QEKF_INS.AdaptiveGainScale = (QEKF_INS.ChiSquareTestThreshold - QEKF_INS.ChiSquare_Data
 409:moudels/algorithm/QuaternionEKF.c ****         }
 410:moudels/algorithm/QuaternionEKF.c ****         else
 411:moudels/algorithm/QuaternionEKF.c ****         {
 412:moudels/algorithm/QuaternionEKF.c ****             QEKF_INS.AdaptiveGainScale = 1;
 413:moudels/algorithm/QuaternionEKF.c ****         }
 414:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.ErrorCount = 0;
 415:moudels/algorithm/QuaternionEKF.c ****         kf->SkipEq5 = FALSE;
 416:moudels/algorithm/QuaternionEKF.c ****     }
 417:moudels/algorithm/QuaternionEKF.c **** 
 418:moudels/algorithm/QuaternionEKF.c ****     // cal kf-gain K
 419:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->Pminus.numRows;
 420:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 421:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 422:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 423:moudels/algorithm/QuaternionEKF.c **** 
 424:moudels/algorithm/QuaternionEKF.c ****     // implement adaptive
 425:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < kf->K.numRows * kf->K.numCols; ++i)
 426:moudels/algorithm/QuaternionEKF.c ****     {
 427:moudels/algorithm/QuaternionEKF.c ****         kf->K_data[i] *= QEKF_INS.AdaptiveGainScale;
 428:moudels/algorithm/QuaternionEKF.c ****     }
 429:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 4; i < 6; ++i)
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 9


 430:moudels/algorithm/QuaternionEKF.c ****     {
 431:moudels/algorithm/QuaternionEKF.c ****         for (uint8_t j = 0; j < 3; ++j)
 432:moudels/algorithm/QuaternionEKF.c ****         {
 433:moudels/algorithm/QuaternionEKF.c ****             kf->K_data[i * 3 + j] *= QEKF_INS.OrientationCosine[i - 4] / 1.5707963f; // 1 rad
 434:moudels/algorithm/QuaternionEKF.c ****         }
 435:moudels/algorithm/QuaternionEKF.c ****     }
 436:moudels/algorithm/QuaternionEKF.c **** 
 437:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = kf->K.numRows;
 438:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 439:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->K, &kf->temp_vector1, &kf->temp_vector); // temp_vector = 
 440:moudels/algorithm/QuaternionEKF.c **** 
 441:moudels/algorithm/QuaternionEKF.c ****     // é›¶æ¼‚ä¿®æ­£é™å¹…,ä¸€èˆ¬ä¸ä¼šæœ‰è¿‡å¤§çš„æ¼‚ç§»
 442:moudels/algorithm/QuaternionEKF.c ****     if (QEKF_INS.ConvergeFlag)
 443:moudels/algorithm/QuaternionEKF.c ****     {
 444:moudels/algorithm/QuaternionEKF.c ****         for (uint8_t i = 4; i < 6; ++i)
 445:moudels/algorithm/QuaternionEKF.c ****         {
 446:moudels/algorithm/QuaternionEKF.c ****             if (kf->temp_vector.pData[i] > 1e-2f * QEKF_INS.dt)
 447:moudels/algorithm/QuaternionEKF.c ****             {
 448:moudels/algorithm/QuaternionEKF.c ****                 kf->temp_vector.pData[i] = 1e-2f * QEKF_INS.dt;
 449:moudels/algorithm/QuaternionEKF.c ****             }
 450:moudels/algorithm/QuaternionEKF.c ****             if (kf->temp_vector.pData[i] < -1e-2f * QEKF_INS.dt)
 451:moudels/algorithm/QuaternionEKF.c ****             {
 452:moudels/algorithm/QuaternionEKF.c ****                 kf->temp_vector.pData[i] = -1e-2f * QEKF_INS.dt;
 453:moudels/algorithm/QuaternionEKF.c ****             }
 454:moudels/algorithm/QuaternionEKF.c ****         }
 455:moudels/algorithm/QuaternionEKF.c ****     }
 456:moudels/algorithm/QuaternionEKF.c **** 
 457:moudels/algorithm/QuaternionEKF.c ****     // ä¸ä¿®æ­£yawè½´æ•°æ®
 458:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.pData[3] = 0;
 459:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 460:moudels/algorithm/QuaternionEKF.c **** }
 461:moudels/algorithm/QuaternionEKF.c **** 
 462:moudels/algorithm/QuaternionEKF.c **** /**
 463:moudels/algorithm/QuaternionEKF.c ****  * @brief EKFè§‚æµ‹ç¯èŠ‚,å…¶å®å°±æ˜¯æŠŠæ•°æ®å¤åˆ¶ä¸€ä¸‹
 464:moudels/algorithm/QuaternionEKF.c ****  *
 465:moudels/algorithm/QuaternionEKF.c ****  * @param kf kfç±»å‹å®šä¹‰
 466:moudels/algorithm/QuaternionEKF.c ****  */
 467:moudels/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_Observe(KalmanFilter_t *kf)
 468:moudels/algorithm/QuaternionEKF.c **** {
 469:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_P, kf->P_data, sizeof(IMU_QuaternionEKF_P));
 470:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_K, kf->K_data, sizeof(IMU_QuaternionEKF_K));
 471:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_H, kf->H_data, sizeof(IMU_QuaternionEKF_H));
 472:moudels/algorithm/QuaternionEKF.c **** }
 473:moudels/algorithm/QuaternionEKF.c **** 
 474:moudels/algorithm/QuaternionEKF.c **** /**
 475:moudels/algorithm/QuaternionEKF.c ****  * @brief è‡ªå®šä¹‰1/sqrt(x),é€Ÿåº¦æ›´å¿«
 476:moudels/algorithm/QuaternionEKF.c ****  *
 477:moudels/algorithm/QuaternionEKF.c ****  * @param x x
 478:moudels/algorithm/QuaternionEKF.c ****  * @return float
 479:moudels/algorithm/QuaternionEKF.c ****  */
 480:moudels/algorithm/QuaternionEKF.c **** static float invSqrt(float x)
 481:moudels/algorithm/QuaternionEKF.c **** {
  29              		.loc 1 481 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 10


 482:moudels/algorithm/QuaternionEKF.c ****     float halfx = 0.5f * x;
  34              		.loc 1 482 5 view .LVU1
  35              		.loc 1 482 11 is_stmt 0 view .LVU2
  36 0000 F6EE007A 		vmov.f32	s15, #5.0e-1
  37 0004 60EE277A 		vmul.f32	s15, s0, s15
  38              	.LVL1:
 483:moudels/algorithm/QuaternionEKF.c ****     float y = x;
  39              		.loc 1 483 5 is_stmt 1 view .LVU3
 484:moudels/algorithm/QuaternionEKF.c ****     long i = *(long *)&y;
  40              		.loc 1 484 5 view .LVU4
  41              		.loc 1 484 14 is_stmt 0 view .LVU5
  42 0008 10EE103A 		vmov	r3, s0	@ int
  43              	.LVL2:
 485:moudels/algorithm/QuaternionEKF.c ****     i = 0x5f375a86 - (i >> 1);
  44              		.loc 1 485 5 is_stmt 1 view .LVU6
 486:moudels/algorithm/QuaternionEKF.c ****     y = *(float *)&i;
  45              		.loc 1 486 5 view .LVU7
  46              		.loc 1 486 9 is_stmt 0 view .LVU8
  47 000c 074A     		ldr	r2, .L2
  48 000e A2EB6303 		sub	r3, r2, r3, asr #1
  49              	.LVL3:
  50              		.loc 1 486 9 view .LVU9
  51 0012 07EE103A 		vmov	s14, r3	@ int
  52              	.LVL4:
 487:moudels/algorithm/QuaternionEKF.c ****     y = y * (1.5f - (halfx * y * y));
  53              		.loc 1 487 5 is_stmt 1 view .LVU10
  54              		.loc 1 487 28 is_stmt 0 view .LVU11
  55 0016 67EE277A 		vmul.f32	s15, s14, s15
  56              	.LVL5:
  57              		.loc 1 487 32 view .LVU12
  58 001a 67EE277A 		vmul.f32	s15, s14, s15
  59              		.loc 1 487 19 view .LVU13
  60 001e B7EE080A 		vmov.f32	s0, #1.5e+0
  61              	.LVL6:
  62              		.loc 1 487 19 view .LVU14
  63 0022 30EE670A 		vsub.f32	s0, s0, s15
  64              	.LVL7:
 488:moudels/algorithm/QuaternionEKF.c ****     return y;
  65              		.loc 1 488 5 is_stmt 1 view .LVU15
 489:moudels/algorithm/QuaternionEKF.c **** }
  66              		.loc 1 489 1 is_stmt 0 view .LVU16
  67 0026 27EE000A 		vmul.f32	s0, s14, s0
  68 002a 7047     		bx	lr
  69              	.L3:
  70              		.align	2
  71              	.L2:
  72 002c 865A375F 		.word	1597463174
  73              		.cfi_endproc
  74              	.LFE173:
  76              		.section	.text.IMU_QuaternionEKF_F_Linearization_P_Fading,"ax",%progbits
  77              		.align	1
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	IMU_QuaternionEKF_F_Linearization_P_Fading:
  83              	.LVL8:
  84              	.LFB169:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 11


 226:moudels/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
  85              		.loc 1 226 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
 226:moudels/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
  89              		.loc 1 226 1 is_stmt 0 view .LVU18
  90 0000 10B5     		push	{r4, lr}
  91              		.cfi_def_cfa_offset 8
  92              		.cfi_offset 4, -8
  93              		.cfi_offset 14, -4
  94 0002 2DED048B 		vpush.64	{d8, d9}
  95              		.cfi_def_cfa_offset 24
  96              		.cfi_offset 80, -24
  97              		.cfi_offset 81, -20
  98              		.cfi_offset 82, -16
  99              		.cfi_offset 83, -12
 100 0006 0446     		mov	r4, r0
 227:moudels/algorithm/QuaternionEKF.c ****     static float qInvNorm;
 101              		.loc 1 227 5 is_stmt 1 view .LVU19
 228:moudels/algorithm/QuaternionEKF.c **** 
 102              		.loc 1 228 5 view .LVU20
 230:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 103              		.loc 1 230 5 view .LVU21
 230:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 104              		.loc 1 230 12 is_stmt 0 view .LVU22
 105 0008 D0F8EC30 		ldr	r3, [r0, #236]
 230:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 106              		.loc 1 230 28 view .LVU23
 107 000c 93ED009A 		vldr.32	s18, [r3]
 230:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 108              		.loc 1 230 8 view .LVU24
 109 0010 5C4A     		ldr	r2, .L14
 110 0012 82ED009A 		vstr.32	s18, [r2]
 231:moudels/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 111              		.loc 1 231 5 is_stmt 1 view .LVU25
 231:moudels/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 112              		.loc 1 231 8 is_stmt 0 view .LVU26
 113 0016 93ED018A 		vldr.32	s16, [r3, #4]
 114 001a 5B4A     		ldr	r2, .L14+4
 115 001c 82ED008A 		vstr.32	s16, [r2]
 232:moudels/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 116              		.loc 1 232 5 is_stmt 1 view .LVU27
 232:moudels/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 117              		.loc 1 232 8 is_stmt 0 view .LVU28
 118 0020 D3ED028A 		vldr.32	s17, [r3, #8]
 119 0024 594A     		ldr	r2, .L14+8
 120 0026 C2ED008A 		vstr.32	s17, [r2]
 233:moudels/algorithm/QuaternionEKF.c **** 
 121              		.loc 1 233 5 is_stmt 1 view .LVU29
 233:moudels/algorithm/QuaternionEKF.c **** 
 122              		.loc 1 233 8 is_stmt 0 view .LVU30
 123 002a D3ED039A 		vldr.32	s19, [r3, #12]
 124 002e 584B     		ldr	r3, .L14+12
 125 0030 C3ED009A 		vstr.32	s19, [r3]
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 126              		.loc 1 236 5 is_stmt 1 view .LVU31
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 12


 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 127              		.loc 1 236 27 is_stmt 0 view .LVU32
 128 0034 69EE097A 		vmul.f32	s15, s18, s18
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 129              		.loc 1 236 37 view .LVU33
 130 0038 28EE087A 		vmul.f32	s14, s16, s16
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 131              		.loc 1 236 32 view .LVU34
 132 003c 77EE877A 		vadd.f32	s15, s15, s14
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 133              		.loc 1 236 47 view .LVU35
 134 0040 28EEA87A 		vmul.f32	s14, s17, s17
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 135              		.loc 1 236 42 view .LVU36
 136 0044 77EE877A 		vadd.f32	s15, s15, s14
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 137              		.loc 1 236 57 view .LVU37
 138 0048 29EEA90A 		vmul.f32	s0, s19, s19
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 139              		.loc 1 236 16 view .LVU38
 140 004c 37EE800A 		vadd.f32	s0, s15, s0
 141 0050 FFF7FEFF 		bl	invSqrt
 142              	.LVL9:
 236:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 143              		.loc 1 236 14 discriminator 1 view .LVU39
 144 0054 4F4B     		ldr	r3, .L14+16
 145 0056 83ED000A 		vstr.32	s0, [r3]
 237:moudels/algorithm/QuaternionEKF.c ****     {
 146              		.loc 1 237 5 is_stmt 1 view .LVU40
 147              	.LBB2:
 237:moudels/algorithm/QuaternionEKF.c ****     {
 148              		.loc 1 237 10 view .LVU41
 149              	.LVL10:
 237:moudels/algorithm/QuaternionEKF.c ****     {
 150              		.loc 1 237 18 is_stmt 0 view .LVU42
 151 005a 0023     		movs	r3, #0
 237:moudels/algorithm/QuaternionEKF.c ****     {
 152              		.loc 1 237 5 view .LVU43
 153 005c 0BE0     		b	.L5
 154              	.LVL11:
 155              	.L6:
 239:moudels/algorithm/QuaternionEKF.c ****     }
 156              		.loc 1 239 9 is_stmt 1 view .LVU44
 239:moudels/algorithm/QuaternionEKF.c ****     }
 157              		.loc 1 239 11 is_stmt 0 view .LVU45
 158 005e D4F8EC20 		ldr	r2, [r4, #236]
 239:moudels/algorithm/QuaternionEKF.c ****     }
 159              		.loc 1 239 27 view .LVU46
 160 0062 02EB8302 		add	r2, r2, r3, lsl #2
 161 0066 D2ED007A 		vldr.32	s15, [r2]
 239:moudels/algorithm/QuaternionEKF.c ****     }
 162              		.loc 1 239 31 view .LVU47
 163 006a 60EE277A 		vmul.f32	s15, s0, s15
 164 006e C2ED007A 		vstr.32	s15, [r2]
 237:moudels/algorithm/QuaternionEKF.c ****     {
 165              		.loc 1 237 32 is_stmt 1 discriminator 3 view .LVU48
 166 0072 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 13


 167              	.LVL12:
 237:moudels/algorithm/QuaternionEKF.c ****     {
 168              		.loc 1 237 32 is_stmt 0 discriminator 3 view .LVU49
 169 0074 DBB2     		uxtb	r3, r3
 170              	.LVL13:
 171              	.L5:
 237:moudels/algorithm/QuaternionEKF.c ****     {
 172              		.loc 1 237 27 is_stmt 1 discriminator 1 view .LVU50
 173 0076 032B     		cmp	r3, #3
 174 0078 F1D9     		bls	.L6
 175              	.LBE2:
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 176              		.loc 1 250 5 view .LVU51
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 177              		.loc 1 250 34 is_stmt 0 view .LVU52
 178 007a 474B     		ldr	r3, .L14+20
 179              	.LVL14:
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 180              		.loc 1 250 34 view .LVU53
 181 007c 93ED6F7A 		vldr.32	s14, [r3, #444]
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 182              		.loc 1 250 24 view .LVU54
 183 0080 28EE077A 		vmul.f32	s14, s16, s14
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 184              		.loc 1 250 7 view .LVU55
 185 0084 D4F80021 		ldr	r2, [r4, #256]
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 186              		.loc 1 250 38 view .LVU56
 187 0088 F6EE007A 		vmov.f32	s15, #5.0e-1
 188 008c 27EE277A 		vmul.f32	s14, s14, s15
 250:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 189              		.loc 1 250 19 view .LVU57
 190 0090 82ED047A 		vstr.32	s14, [r2, #16]
 251:moudels/algorithm/QuaternionEKF.c **** 
 191              		.loc 1 251 5 is_stmt 1 view .LVU58
 251:moudels/algorithm/QuaternionEKF.c **** 
 192              		.loc 1 251 34 is_stmt 0 view .LVU59
 193 0094 93ED6F7A 		vldr.32	s14, [r3, #444]
 251:moudels/algorithm/QuaternionEKF.c **** 
 194              		.loc 1 251 24 view .LVU60
 195 0098 28EE877A 		vmul.f32	s14, s17, s14
 251:moudels/algorithm/QuaternionEKF.c **** 
 196              		.loc 1 251 7 view .LVU61
 197 009c D4F80021 		ldr	r2, [r4, #256]
 251:moudels/algorithm/QuaternionEKF.c **** 
 198              		.loc 1 251 38 view .LVU62
 199 00a0 27EE277A 		vmul.f32	s14, s14, s15
 251:moudels/algorithm/QuaternionEKF.c **** 
 200              		.loc 1 251 19 view .LVU63
 201 00a4 82ED057A 		vstr.32	s14, [r2, #20]
 253:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 202              		.loc 1 253 5 is_stmt 1 view .LVU64
 253:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 203              		.loc 1 253 36 is_stmt 0 view .LVU65
 204 00a8 93ED6F7A 		vldr.32	s14, [r3, #444]
 253:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 205              		.loc 1 253 26 view .LVU66
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 14


 206 00ac 29EE477A 		vnmul.f32	s14, s18, s14
 253:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 207              		.loc 1 253 7 view .LVU67
 208 00b0 D4F80021 		ldr	r2, [r4, #256]
 253:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 209              		.loc 1 253 40 view .LVU68
 210 00b4 27EE277A 		vmul.f32	s14, s14, s15
 253:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 211              		.loc 1 253 20 view .LVU69
 212 00b8 82ED0A7A 		vstr.32	s14, [r2, #40]
 254:moudels/algorithm/QuaternionEKF.c **** 
 213              		.loc 1 254 5 is_stmt 1 view .LVU70
 254:moudels/algorithm/QuaternionEKF.c **** 
 214              		.loc 1 254 35 is_stmt 0 view .LVU71
 215 00bc 93ED6F7A 		vldr.32	s14, [r3, #444]
 254:moudels/algorithm/QuaternionEKF.c **** 
 216              		.loc 1 254 25 view .LVU72
 217 00c0 29EE877A 		vmul.f32	s14, s19, s14
 254:moudels/algorithm/QuaternionEKF.c **** 
 218              		.loc 1 254 7 view .LVU73
 219 00c4 D4F80021 		ldr	r2, [r4, #256]
 254:moudels/algorithm/QuaternionEKF.c **** 
 220              		.loc 1 254 39 view .LVU74
 221 00c8 27EE277A 		vmul.f32	s14, s14, s15
 254:moudels/algorithm/QuaternionEKF.c **** 
 222              		.loc 1 254 20 view .LVU75
 223 00cc 82ED0B7A 		vstr.32	s14, [r2, #44]
 256:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 224              		.loc 1 256 5 is_stmt 1 view .LVU76
 256:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 225              		.loc 1 256 36 is_stmt 0 view .LVU77
 226 00d0 93ED6F7A 		vldr.32	s14, [r3, #444]
 256:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 227              		.loc 1 256 26 view .LVU78
 228 00d4 69EEC79A 		vnmul.f32	s19, s19, s14
 256:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 229              		.loc 1 256 7 view .LVU79
 230 00d8 D4F80021 		ldr	r2, [r4, #256]
 256:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 231              		.loc 1 256 40 view .LVU80
 232 00dc 69EEA79A 		vmul.f32	s19, s19, s15
 256:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 233              		.loc 1 256 20 view .LVU81
 234 00e0 C2ED109A 		vstr.32	s19, [r2, #64]
 257:moudels/algorithm/QuaternionEKF.c **** 
 235              		.loc 1 257 5 is_stmt 1 view .LVU82
 257:moudels/algorithm/QuaternionEKF.c **** 
 236              		.loc 1 257 36 is_stmt 0 view .LVU83
 237 00e4 93ED6F7A 		vldr.32	s14, [r3, #444]
 257:moudels/algorithm/QuaternionEKF.c **** 
 238              		.loc 1 257 26 view .LVU84
 239 00e8 29EE479A 		vnmul.f32	s18, s18, s14
 257:moudels/algorithm/QuaternionEKF.c **** 
 240              		.loc 1 257 7 view .LVU85
 241 00ec D4F80021 		ldr	r2, [r4, #256]
 257:moudels/algorithm/QuaternionEKF.c **** 
 242              		.loc 1 257 40 view .LVU86
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 15


 243 00f0 29EE279A 		vmul.f32	s18, s18, s15
 257:moudels/algorithm/QuaternionEKF.c **** 
 244              		.loc 1 257 20 view .LVU87
 245 00f4 82ED119A 		vstr.32	s18, [r2, #68]
 259:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 246              		.loc 1 259 5 is_stmt 1 view .LVU88
 259:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 247              		.loc 1 259 35 is_stmt 0 view .LVU89
 248 00f8 93ED6F7A 		vldr.32	s14, [r3, #444]
 259:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 249              		.loc 1 259 25 view .LVU90
 250 00fc 68EE878A 		vmul.f32	s17, s17, s14
 259:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 251              		.loc 1 259 7 view .LVU91
 252 0100 D4F80021 		ldr	r2, [r4, #256]
 259:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 253              		.loc 1 259 39 view .LVU92
 254 0104 68EEA78A 		vmul.f32	s17, s17, s15
 259:moudels/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 255              		.loc 1 259 20 view .LVU93
 256 0108 C2ED168A 		vstr.32	s17, [r2, #88]
 260:moudels/algorithm/QuaternionEKF.c **** 
 257              		.loc 1 260 5 is_stmt 1 view .LVU94
 260:moudels/algorithm/QuaternionEKF.c **** 
 258              		.loc 1 260 36 is_stmt 0 view .LVU95
 259 010c 93ED6F7A 		vldr.32	s14, [r3, #444]
 260:moudels/algorithm/QuaternionEKF.c **** 
 260              		.loc 1 260 26 view .LVU96
 261 0110 28EE478A 		vnmul.f32	s16, s16, s14
 260:moudels/algorithm/QuaternionEKF.c **** 
 262              		.loc 1 260 7 view .LVU97
 263 0114 D4F80021 		ldr	r2, [r4, #256]
 260:moudels/algorithm/QuaternionEKF.c **** 
 264              		.loc 1 260 40 view .LVU98
 265 0118 28EE278A 		vmul.f32	s16, s16, s15
 260:moudels/algorithm/QuaternionEKF.c **** 
 266              		.loc 1 260 20 view .LVU99
 267 011c 82ED178A 		vstr.32	s16, [r2, #92]
 263:moudels/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 268              		.loc 1 263 5 is_stmt 1 view .LVU100
 263:moudels/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 269              		.loc 1 263 7 is_stmt 0 view .LVU101
 270 0120 D4F8F820 		ldr	r2, [r4, #248]
 263:moudels/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 271              		.loc 1 263 15 view .LVU102
 272 0124 D2ED1C6A 		vldr.32	s13, [r2, #112]
 263:moudels/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 273              		.loc 1 263 31 view .LVU103
 274 0128 93ED747A 		vldr.32	s14, [r3, #464]
 263:moudels/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 275              		.loc 1 263 20 view .LVU104
 276 012c C6EE877A 		vdiv.f32	s15, s13, s14
 277 0130 C2ED1C7A 		vstr.32	s15, [r2, #112]
 264:moudels/algorithm/QuaternionEKF.c **** 
 278              		.loc 1 264 5 is_stmt 1 view .LVU105
 264:moudels/algorithm/QuaternionEKF.c **** 
 279              		.loc 1 264 7 is_stmt 0 view .LVU106
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 16


 280 0134 D4F8F820 		ldr	r2, [r4, #248]
 264:moudels/algorithm/QuaternionEKF.c **** 
 281              		.loc 1 264 15 view .LVU107
 282 0138 D2ED236A 		vldr.32	s13, [r2, #140]
 264:moudels/algorithm/QuaternionEKF.c **** 
 283              		.loc 1 264 31 view .LVU108
 284 013c 93ED747A 		vldr.32	s14, [r3, #464]
 264:moudels/algorithm/QuaternionEKF.c **** 
 285              		.loc 1 264 20 view .LVU109
 286 0140 C6EE877A 		vdiv.f32	s15, s13, s14
 287 0144 C2ED237A 		vstr.32	s15, [r2, #140]
 267:moudels/algorithm/QuaternionEKF.c ****     {
 288              		.loc 1 267 5 is_stmt 1 view .LVU110
 267:moudels/algorithm/QuaternionEKF.c ****     {
 289              		.loc 1 267 11 is_stmt 0 view .LVU111
 290 0148 D4F8F830 		ldr	r3, [r4, #248]
 267:moudels/algorithm/QuaternionEKF.c ****     {
 291              		.loc 1 267 19 view .LVU112
 292 014c 93ED1C7A 		vldr.32	s14, [r3, #112]
 267:moudels/algorithm/QuaternionEKF.c ****     {
 293              		.loc 1 267 8 view .LVU113
 294 0150 DFED127A 		vldr.32	s15, .L14+24
 295 0154 B4EEE77A 		vcmpe.f32	s14, s15
 296 0158 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 297 015c 01DD     		ble	.L7
 269:moudels/algorithm/QuaternionEKF.c ****     }
 298              		.loc 1 269 9 is_stmt 1 view .LVU114
 269:moudels/algorithm/QuaternionEKF.c ****     }
 299              		.loc 1 269 24 is_stmt 0 view .LVU115
 300 015e C3ED1C7A 		vstr.32	s15, [r3, #112]
 301              	.L7:
 271:moudels/algorithm/QuaternionEKF.c ****     {
 302              		.loc 1 271 5 is_stmt 1 view .LVU116
 271:moudels/algorithm/QuaternionEKF.c ****     {
 303              		.loc 1 271 11 is_stmt 0 view .LVU117
 304 0162 D4F8F830 		ldr	r3, [r4, #248]
 271:moudels/algorithm/QuaternionEKF.c ****     {
 305              		.loc 1 271 19 view .LVU118
 306 0166 93ED237A 		vldr.32	s14, [r3, #140]
 271:moudels/algorithm/QuaternionEKF.c ****     {
 307              		.loc 1 271 8 view .LVU119
 308 016a DFED0C7A 		vldr.32	s15, .L14+24
 309 016e B4EEE77A 		vcmpe.f32	s14, s15
 310 0172 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 311 0176 01DD     		ble	.L4
 273:moudels/algorithm/QuaternionEKF.c ****     }
 312              		.loc 1 273 9 is_stmt 1 view .LVU120
 273:moudels/algorithm/QuaternionEKF.c ****     }
 313              		.loc 1 273 24 is_stmt 0 view .LVU121
 314 0178 C3ED237A 		vstr.32	s15, [r3, #140]
 315              	.L4:
 275:moudels/algorithm/QuaternionEKF.c **** 
 316              		.loc 1 275 1 view .LVU122
 317 017c BDEC048B 		vldm	sp!, {d8-d9}
 318              		.cfi_restore 82
 319              		.cfi_restore 83
 320              		.cfi_restore 80
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 17


 321              		.cfi_restore 81
 322              		.cfi_def_cfa_offset 8
 323 0180 10BD     		pop	{r4, pc}
 324              	.LVL15:
 325              	.L15:
 275:moudels/algorithm/QuaternionEKF.c **** 
 326              		.loc 1 275 1 view .LVU123
 327 0182 00BF     		.align	2
 328              	.L14:
 329 0184 00000000 		.word	q0.8
 330 0188 00000000 		.word	q1.7
 331 018c 00000000 		.word	q2.6
 332 0190 00000000 		.word	q3.5
 333 0194 00000000 		.word	qInvNorm.4
 334 0198 00000000 		.word	QEKF_INS
 335 019c 00401C46 		.word	1176256512
 336              		.cfi_endproc
 337              	.LFE169:
 339              		.section	.text.IMU_QuaternionEKF_Observe,"ax",%progbits
 340              		.align	1
 341              		.syntax unified
 342              		.thumb
 343              		.thumb_func
 345              	IMU_QuaternionEKF_Observe:
 346              	.LVL16:
 347              	.LFB172:
 468:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_P, kf->P_data, sizeof(IMU_QuaternionEKF_P));
 348              		.loc 1 468 1 is_stmt 1 view -0
 349              		.cfi_startproc
 350              		@ args = 0, pretend = 0, frame = 0
 351              		@ frame_needed = 0, uses_anonymous_args = 0
 468:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_P, kf->P_data, sizeof(IMU_QuaternionEKF_P));
 352              		.loc 1 468 1 is_stmt 0 view .LVU125
 353 0000 38B5     		push	{r3, r4, r5, lr}
 354              		.cfi_def_cfa_offset 16
 355              		.cfi_offset 3, -16
 356              		.cfi_offset 4, -12
 357              		.cfi_offset 5, -8
 358              		.cfi_offset 14, -4
 359 0002 0446     		mov	r4, r0
 469:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_K, kf->K_data, sizeof(IMU_QuaternionEKF_K));
 360              		.loc 1 469 5 is_stmt 1 view .LVU126
 361 0004 9022     		movs	r2, #144
 362 0006 D0F8F810 		ldr	r1, [r0, #248]
 363 000a 0848     		ldr	r0, .L18
 364              	.LVL17:
 469:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_K, kf->K_data, sizeof(IMU_QuaternionEKF_K));
 365              		.loc 1 469 5 is_stmt 0 view .LVU127
 366 000c FFF7FEFF 		bl	memcpy
 367              	.LVL18:
 470:moudels/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_H, kf->H_data, sizeof(IMU_QuaternionEKF_H));
 368              		.loc 1 470 5 is_stmt 1 view .LVU128
 369 0010 4825     		movs	r5, #72
 370 0012 2A46     		mov	r2, r5
 371 0014 D4F81C11 		ldr	r1, [r4, #284]
 372 0018 0548     		ldr	r0, .L18+4
 373 001a FFF7FEFF 		bl	memcpy
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 18


 374              	.LVL19:
 471:moudels/algorithm/QuaternionEKF.c **** }
 375              		.loc 1 471 5 view .LVU129
 376 001e 2A46     		mov	r2, r5
 377 0020 D4F80C11 		ldr	r1, [r4, #268]
 378 0024 0348     		ldr	r0, .L18+8
 379 0026 FFF7FEFF 		bl	memcpy
 380              	.LVL20:
 472:moudels/algorithm/QuaternionEKF.c **** 
 381              		.loc 1 472 1 is_stmt 0 view .LVU130
 382 002a 38BD     		pop	{r3, r4, r5, pc}
 383              	.LVL21:
 384              	.L19:
 472:moudels/algorithm/QuaternionEKF.c **** 
 385              		.loc 1 472 1 view .LVU131
 386              		.align	2
 387              	.L18:
 388 002c 00000000 		.word	IMU_QuaternionEKF_P
 389 0030 00000000 		.word	IMU_QuaternionEKF_K
 390 0034 00000000 		.word	IMU_QuaternionEKF_H
 391              		.cfi_endproc
 392              	.LFE172:
 394              		.section	.text.IMU_QuaternionEKF_xhatUpdate,"ax",%progbits
 395              		.align	1
 396              		.syntax unified
 397              		.thumb
 398              		.thumb_func
 400              	IMU_QuaternionEKF_xhatUpdate:
 401              	.LVL22:
 402              	.LFB171:
 323:moudels/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 403              		.loc 1 323 1 is_stmt 1 view -0
 404              		.cfi_startproc
 405              		@ args = 0, pretend = 0, frame = 0
 406              		@ frame_needed = 0, uses_anonymous_args = 0
 323:moudels/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 407              		.loc 1 323 1 is_stmt 0 view .LVU133
 408 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 409              		.cfi_def_cfa_offset 40
 410              		.cfi_offset 3, -40
 411              		.cfi_offset 4, -36
 412              		.cfi_offset 5, -32
 413              		.cfi_offset 6, -28
 414              		.cfi_offset 7, -24
 415              		.cfi_offset 8, -20
 416              		.cfi_offset 9, -16
 417              		.cfi_offset 10, -12
 418              		.cfi_offset 11, -8
 419              		.cfi_offset 14, -4
 420 0004 0446     		mov	r4, r0
 324:moudels/algorithm/QuaternionEKF.c **** 
 421              		.loc 1 324 5 is_stmt 1 view .LVU134
 326:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 422              		.loc 1 326 5 view .LVU135
 326:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 423              		.loc 1 326 38 is_stmt 0 view .LVU136
 424 0006 00F17805 		add	r5, r0, #120
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 19


 326:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 425              		.loc 1 326 21 view .LVU137
 426 000a 00F18007 		add	r7, r0, #128
 427 000e 3946     		mov	r1, r7
 428 0010 2846     		mov	r0, r5
 429              	.LVL23:
 326:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 430              		.loc 1 326 21 view .LVU138
 431 0012 FFF7FEFF 		bl	arm_mat_trans_f32
 432              	.LVL24:
 326:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 433              		.loc 1 326 19 discriminator 1 view .LVU139
 434 0016 84F8C800 		strb	r0, [r4, #200]
 327:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 435              		.loc 1 327 5 is_stmt 1 view .LVU140
 327:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 436              		.loc 1 327 36 is_stmt 0 view .LVU141
 437 001a B4F87830 		ldrh	r3, [r4, #120]
 327:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 438              		.loc 1 327 29 view .LVU142
 439 001e A4F8A830 		strh	r3, [r4, #168]	@ movhi
 328:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = HÂ·P'(
 440              		.loc 1 328 5 is_stmt 1 view .LVU143
 328:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = HÂ·P'(
 441              		.loc 1 328 41 is_stmt 0 view .LVU144
 442 0022 B4F85A30 		ldrh	r3, [r4, #90]
 328:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = HÂ·P'(
 443              		.loc 1 328 29 view .LVU145
 444 0026 A4F8AA30 		strh	r3, [r4, #170]	@ movhi
 329:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 445              		.loc 1 329 5 is_stmt 1 view .LVU146
 329:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 446              		.loc 1 329 45 is_stmt 0 view .LVU147
 447 002a 04F1580A 		add	r10, r4, #88
 329:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 448              		.loc 1 329 21 view .LVU148
 449 002e 04F1A808 		add	r8, r4, #168
 450 0032 4246     		mov	r2, r8
 451 0034 5146     		mov	r1, r10
 452 0036 2846     		mov	r0, r5
 453 0038 FFF7FEFF 		bl	arm_mat_mult_f32
 454              	.LVL25:
 329:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 455              		.loc 1 329 19 discriminator 1 view .LVU149
 456 003c 84F8C800 		strb	r0, [r4, #200]
 330:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 457              		.loc 1 330 5 is_stmt 1 view .LVU150
 330:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 458              		.loc 1 330 47 is_stmt 0 view .LVU151
 459 0040 B4F8A830 		ldrh	r3, [r4, #168]
 330:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 460              		.loc 1 330 30 view .LVU152
 461 0044 A4F8B030 		strh	r3, [r4, #176]	@ movhi
 331:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
 462              		.loc 1 331 5 is_stmt 1 view .LVU153
 331:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
 463              		.loc 1 331 38 is_stmt 0 view .LVU154
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 20


 464 0048 B4F88230 		ldrh	r3, [r4, #130]
 331:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
 465              		.loc 1 331 30 view .LVU155
 466 004c A4F8B230 		strh	r3, [r4, #178]	@ movhi
 332:moudels/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 467              		.loc 1 332 5 is_stmt 1 view .LVU156
 332:moudels/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 468              		.loc 1 332 21 is_stmt 0 view .LVU157
 469 0050 04F1B009 		add	r9, r4, #176
 470 0054 4A46     		mov	r2, r9
 471 0056 3946     		mov	r1, r7
 472 0058 4046     		mov	r0, r8
 473 005a FFF7FEFF 		bl	arm_mat_mult_f32
 474              	.LVL26:
 332:moudels/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 475              		.loc 1 332 19 discriminator 1 view .LVU158
 476 005e 84F8C800 		strb	r0, [r4, #200]
 333:moudels/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 477              		.loc 1 333 5 is_stmt 1 view .LVU159
 333:moudels/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 478              		.loc 1 333 26 is_stmt 0 view .LVU160
 479 0062 B4F89030 		ldrh	r3, [r4, #144]
 333:moudels/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 480              		.loc 1 333 19 view .LVU161
 481 0066 A4F8A030 		strh	r3, [r4, #160]	@ movhi
 334:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 482              		.loc 1 334 5 is_stmt 1 view .LVU162
 334:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 483              		.loc 1 334 26 is_stmt 0 view .LVU163
 484 006a B4F89230 		ldrh	r3, [r4, #146]
 334:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 485              		.loc 1 334 19 view .LVU164
 486 006e A4F8A230 		strh	r3, [r4, #162]	@ movhi
 335:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(HÂ·P'(k)Â·
 487              		.loc 1 335 5 is_stmt 1 view .LVU165
 335:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(HÂ·P'(k)Â·
 488              		.loc 1 335 21 is_stmt 0 view .LVU166
 489 0072 04F1A005 		add	r5, r4, #160
 490 0076 2A46     		mov	r2, r5
 491 0078 04F19001 		add	r1, r4, #144
 492 007c 4846     		mov	r0, r9
 493 007e FFF7FEFF 		bl	arm_mat_add_f32
 494              	.LVL27:
 335:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(HÂ·P'(k)Â·
 495              		.loc 1 335 19 discriminator 1 view .LVU167
 496 0082 84F8C800 		strb	r0, [r4, #200]
 336:moudels/algorithm/QuaternionEKF.c **** 
 497              		.loc 1 336 5 is_stmt 1 view .LVU168
 336:moudels/algorithm/QuaternionEKF.c **** 
 498              		.loc 1 336 21 is_stmt 0 view .LVU169
 499 0086 4946     		mov	r1, r9
 500 0088 2846     		mov	r0, r5
 501 008a FFF7FEFF 		bl	arm_mat_inverse_f32
 502              	.LVL28:
 336:moudels/algorithm/QuaternionEKF.c **** 
 503              		.loc 1 336 19 discriminator 1 view .LVU170
 504 008e 84F8C800 		strb	r0, [r4, #200]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 21


 338:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 505              		.loc 1 338 5 is_stmt 1 view .LVU171
 338:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 506              		.loc 1 338 12 is_stmt 0 view .LVU172
 507 0092 D4F8EC30 		ldr	r3, [r4, #236]
 338:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 508              		.loc 1 338 28 view .LVU173
 509 0096 D3ED007A 		vldr.32	s15, [r3]
 338:moudels/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 510              		.loc 1 338 8 view .LVU174
 511 009a C54A     		ldr	r2, .L57
 512 009c C2ED007A 		vstr.32	s15, [r2]
 339:moudels/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 513              		.loc 1 339 5 is_stmt 1 view .LVU175
 339:moudels/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 514              		.loc 1 339 8 is_stmt 0 view .LVU176
 515 00a0 93ED016A 		vldr.32	s12, [r3, #4]
 516 00a4 C34A     		ldr	r2, .L57+4
 517 00a6 82ED006A 		vstr.32	s12, [r2]
 340:moudels/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 518              		.loc 1 340 5 is_stmt 1 view .LVU177
 340:moudels/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 519              		.loc 1 340 8 is_stmt 0 view .LVU178
 520 00aa D3ED026A 		vldr.32	s13, [r3, #8]
 521 00ae C24A     		ldr	r2, .L57+8
 522 00b0 C2ED006A 		vstr.32	s13, [r2]
 341:moudels/algorithm/QuaternionEKF.c **** 
 523              		.loc 1 341 5 is_stmt 1 view .LVU179
 341:moudels/algorithm/QuaternionEKF.c **** 
 524              		.loc 1 341 8 is_stmt 0 view .LVU180
 525 00b4 93ED037A 		vldr.32	s14, [r3, #12]
 526 00b8 C04B     		ldr	r3, .L57+12
 527 00ba 83ED007A 		vstr.32	s14, [r3]
 343:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 528              		.loc 1 343 5 is_stmt 1 view .LVU181
 343:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 529              		.loc 1 343 36 is_stmt 0 view .LVU182
 530 00be B4F87830 		ldrh	r3, [r4, #120]
 343:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 531              		.loc 1 343 29 view .LVU183
 532 00c2 A4F8B830 		strh	r3, [r4, #184]	@ movhi
 344:moudels/algorithm/QuaternionEKF.c ****     // è®¡ç®—é¢„æµ‹å¾—åˆ°çš„é‡åŠ›åŠ é€Ÿåº¦æ–¹å‘(é€šè¿‡å§¿æ€è·å–çš„)
 533              		.loc 1 344 5 is_stmt 1 view .LVU184
 344:moudels/algorithm/QuaternionEKF.c ****     // è®¡ç®—é¢„æµ‹å¾—åˆ°çš„é‡åŠ›åŠ é€Ÿåº¦æ–¹å‘(é€šè¿‡å§¿æ€è·å–çš„)
 534              		.loc 1 344 29 is_stmt 0 view .LVU185
 535 00c6 0123     		movs	r3, #1
 536 00c8 A4F8BA30 		strh	r3, [r4, #186]	@ movhi
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 537              		.loc 1 346 5 is_stmt 1 view .LVU186
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 538              		.loc 1 346 39 is_stmt 0 view .LVU187
 539 00cc 66EE075A 		vmul.f32	s11, s12, s14
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 540              		.loc 1 346 49 view .LVU188
 541 00d0 27EEA65A 		vmul.f32	s10, s15, s13
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 542              		.loc 1 346 44 view .LVU189
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 22


 543 00d4 75EEC55A 		vsub.f32	s11, s11, s10
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 544              		.loc 1 346 7 view .LVU190
 545 00d8 D4F82C31 		ldr	r3, [r4, #300]
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 546              		.loc 1 346 33 view .LVU191
 547 00dc 75EEA55A 		vadd.f32	s11, s11, s11
 346:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 548              		.loc 1 346 29 view .LVU192
 549 00e0 C3ED005A 		vstr.32	s11, [r3]
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 550              		.loc 1 347 5 is_stmt 1 view .LVU193
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 551              		.loc 1 347 39 is_stmt 0 view .LVU194
 552 00e4 67EE865A 		vmul.f32	s11, s15, s12
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 553              		.loc 1 347 49 view .LVU195
 554 00e8 26EE875A 		vmul.f32	s10, s13, s14
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 555              		.loc 1 347 44 view .LVU196
 556 00ec 75EE855A 		vadd.f32	s11, s11, s10
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 557              		.loc 1 347 7 view .LVU197
 558 00f0 D4F82C31 		ldr	r3, [r4, #300]
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 559              		.loc 1 347 33 view .LVU198
 560 00f4 75EEA55A 		vadd.f32	s11, s11, s11
 347:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 561              		.loc 1 347 29 view .LVU199
 562 00f8 C3ED015A 		vstr.32	s11, [r3, #4]
 348:moudels/algorithm/QuaternionEKF.c **** 
 563              		.loc 1 348 5 is_stmt 1 view .LVU200
 348:moudels/algorithm/QuaternionEKF.c **** 
 564              		.loc 1 348 34 is_stmt 0 view .LVU201
 565 00fc 67EEA77A 		vmul.f32	s15, s15, s15
 348:moudels/algorithm/QuaternionEKF.c **** 
 566              		.loc 1 348 44 view .LVU202
 567 0100 26EE066A 		vmul.f32	s12, s12, s12
 348:moudels/algorithm/QuaternionEKF.c **** 
 568              		.loc 1 348 39 view .LVU203
 569 0104 77EEC67A 		vsub.f32	s15, s15, s12
 348:moudels/algorithm/QuaternionEKF.c **** 
 570              		.loc 1 348 54 view .LVU204
 571 0108 66EEA66A 		vmul.f32	s13, s13, s13
 348:moudels/algorithm/QuaternionEKF.c **** 
 572              		.loc 1 348 49 view .LVU205
 573 010c 77EEE67A 		vsub.f32	s15, s15, s13
 348:moudels/algorithm/QuaternionEKF.c **** 
 574              		.loc 1 348 64 view .LVU206
 575 0110 27EE077A 		vmul.f32	s14, s14, s14
 348:moudels/algorithm/QuaternionEKF.c **** 
 576              		.loc 1 348 7 view .LVU207
 577 0114 D4F82C31 		ldr	r3, [r4, #300]
 348:moudels/algorithm/QuaternionEKF.c **** 
 578              		.loc 1 348 59 view .LVU208
 579 0118 77EE877A 		vadd.f32	s15, s15, s14
 348:moudels/algorithm/QuaternionEKF.c **** 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 23


 580              		.loc 1 348 29 view .LVU209
 581 011c C3ED027A 		vstr.32	s15, [r3, #8]
 351:moudels/algorithm/QuaternionEKF.c ****     {
 582              		.loc 1 351 5 is_stmt 1 view .LVU210
 583              	.LBB3:
 351:moudels/algorithm/QuaternionEKF.c ****     {
 584              		.loc 1 351 10 view .LVU211
 585              	.LVL29:
 351:moudels/algorithm/QuaternionEKF.c ****     {
 586              		.loc 1 351 18 is_stmt 0 view .LVU212
 587 0120 0025     		movs	r5, #0
 351:moudels/algorithm/QuaternionEKF.c ****     {
 588              		.loc 1 351 5 view .LVU213
 589 0122 12E0     		b	.L21
 590              	.LVL30:
 591              	.L22:
 353:moudels/algorithm/QuaternionEKF.c ****     }
 592              		.loc 1 353 9 is_stmt 1 view .LVU214
 353:moudels/algorithm/QuaternionEKF.c ****     }
 593              		.loc 1 353 55 is_stmt 0 view .LVU215
 594 0124 D4F82C31 		ldr	r3, [r4, #300]
 353:moudels/algorithm/QuaternionEKF.c ****     }
 595              		.loc 1 353 73 view .LVU216
 596 0128 03EB8503 		add	r3, r3, r5, lsl #2
 597 012c 93ED000A 		vldr.32	s0, [r3]
 353:moudels/algorithm/QuaternionEKF.c ****     }
 598              		.loc 1 353 41 view .LVU217
 599 0130 B0EEC00A 		vabs.f32	s0, s0
 600 0134 FFF7FEFF 		bl	acosf
 601              	.LVL31:
 353:moudels/algorithm/QuaternionEKF.c ****     }
 602              		.loc 1 353 39 discriminator 1 view .LVU218
 603 0138 05F16002 		add	r2, r5, #96
 604 013c A04B     		ldr	r3, .L57+16
 605 013e 03EB8203 		add	r3, r3, r2, lsl #2
 606 0142 83ED010A 		vstr.32	s0, [r3, #4]
 351:moudels/algorithm/QuaternionEKF.c ****     {
 607              		.loc 1 351 32 is_stmt 1 discriminator 3 view .LVU219
 608 0146 0135     		adds	r5, r5, #1
 609              	.LVL32:
 351:moudels/algorithm/QuaternionEKF.c ****     {
 610              		.loc 1 351 32 is_stmt 0 discriminator 3 view .LVU220
 611 0148 EDB2     		uxtb	r5, r5
 612              	.LVL33:
 613              	.L21:
 351:moudels/algorithm/QuaternionEKF.c ****     {
 614              		.loc 1 351 27 is_stmt 1 discriminator 1 view .LVU221
 615 014a 022D     		cmp	r5, #2
 616 014c EAD9     		bls	.L22
 617              	.LBE3:
 357:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 618              		.loc 1 357 5 view .LVU222
 357:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 619              		.loc 1 357 37 is_stmt 0 view .LVU223
 620 014e B4F84830 		ldrh	r3, [r4, #72]
 357:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 621              		.loc 1 357 30 view .LVU224
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 24


 622 0152 A4F8C030 		strh	r3, [r4, #192]	@ movhi
 358:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Subtract(&kf->z, &kf->temp_vector, &kf->temp_vector1); // temp_vector1 =
 623              		.loc 1 358 5 is_stmt 1 view .LVU225
 358:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Subtract(&kf->z, &kf->temp_vector, &kf->temp_vector1); // temp_vector1 =
 624              		.loc 1 358 30 is_stmt 0 view .LVU226
 625 0156 4FF0010B 		mov	fp, #1
 626 015a A4F8C2B0 		strh	fp, [r4, #194]	@ movhi
 359:moudels/algorithm/QuaternionEKF.c **** 
 627              		.loc 1 359 5 is_stmt 1 view .LVU227
 359:moudels/algorithm/QuaternionEKF.c **** 
 628              		.loc 1 359 45 is_stmt 0 view .LVU228
 629 015e 04F1B805 		add	r5, r4, #184
 630              	.LVL34:
 359:moudels/algorithm/QuaternionEKF.c **** 
 631              		.loc 1 359 21 view .LVU229
 632 0162 04F1C006 		add	r6, r4, #192
 633 0166 3246     		mov	r2, r6
 634 0168 2946     		mov	r1, r5
 635 016a 04F14800 		add	r0, r4, #72
 636 016e FFF7FEFF 		bl	arm_mat_sub_f32
 637              	.LVL35:
 359:moudels/algorithm/QuaternionEKF.c **** 
 638              		.loc 1 359 19 discriminator 1 view .LVU230
 639 0172 84F8C800 		strb	r0, [r4, #200]
 362:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 640              		.loc 1 362 5 is_stmt 1 view .LVU231
 362:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 641              		.loc 1 362 47 is_stmt 0 view .LVU232
 642 0176 B4F8C030 		ldrh	r3, [r4, #192]
 362:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 643              		.loc 1 362 29 view .LVU233
 644 017a A4F8A830 		strh	r3, [r4, #168]	@ movhi
 363:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix1, &kf->temp_vector1, &kf->temp_matrix); // tem
 645              		.loc 1 363 5 is_stmt 1 view .LVU234
 363:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix1, &kf->temp_vector1, &kf->temp_matrix); // tem
 646              		.loc 1 363 29 is_stmt 0 view .LVU235
 647 017e A4F8AAB0 		strh	fp, [r4, #170]	@ movhi
 364:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 648              		.loc 1 364 5 is_stmt 1 view .LVU236
 364:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 649              		.loc 1 364 21 is_stmt 0 view .LVU237
 650 0182 4246     		mov	r2, r8
 651 0184 3146     		mov	r1, r6
 652 0186 4846     		mov	r0, r9
 653 0188 FFF7FEFF 		bl	arm_mat_mult_f32
 654              	.LVL36:
 364:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 655              		.loc 1 364 19 discriminator 1 view .LVU238
 656 018c 84F8C800 		strb	r0, [r4, #200]
 365:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = kf->temp_vector1.numRows;
 657              		.loc 1 365 5 is_stmt 1 view .LVU239
 365:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = kf->temp_vector1.numRows;
 658              		.loc 1 365 29 is_stmt 0 view .LVU240
 659 0190 A4F8B8B0 		strh	fp, [r4, #184]	@ movhi
 366:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
 660              		.loc 1 366 5 is_stmt 1 view .LVU241
 366:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 25


 661              		.loc 1 366 47 is_stmt 0 view .LVU242
 662 0194 B4F8C030 		ldrh	r3, [r4, #192]
 366:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
 663              		.loc 1 366 29 view .LVU243
 664 0198 A4F8BA30 		strh	r3, [r4, #186]	@ movhi
 367:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 665              		.loc 1 367 5 is_stmt 1 view .LVU244
 367:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 666              		.loc 1 367 21 is_stmt 0 view .LVU245
 667 019c 2946     		mov	r1, r5
 668 019e 3046     		mov	r0, r6
 669 01a0 FFF7FEFF 		bl	arm_mat_trans_f32
 670              	.LVL37:
 367:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 671              		.loc 1 367 19 discriminator 1 view .LVU246
 672 01a4 84F8C800 		strb	r0, [r4, #200]
 368:moudels/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 673              		.loc 1 368 5 is_stmt 1 view .LVU247
 368:moudels/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 674              		.loc 1 368 21 is_stmt 0 view .LVU248
 675 01a8 DFF828B2 		ldr	fp, .L57+36
 676 01ac 5A46     		mov	r2, fp
 677 01ae 4146     		mov	r1, r8
 678 01b0 2846     		mov	r0, r5
 679 01b2 FFF7FEFF 		bl	arm_mat_mult_f32
 680              	.LVL38:
 368:moudels/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 681              		.loc 1 368 19 discriminator 1 view .LVU249
 682 01b6 84F8C800 		strb	r0, [r4, #200]
 370:moudels/algorithm/QuaternionEKF.c ****     {
 683              		.loc 1 370 5 is_stmt 1 view .LVU250
 370:moudels/algorithm/QuaternionEKF.c ****     {
 684              		.loc 1 370 32 is_stmt 0 view .LVU251
 685 01ba 9BED027A 		vldr.32	s14, [fp, #8]
 370:moudels/algorithm/QuaternionEKF.c ****     {
 686              		.loc 1 370 53 view .LVU252
 687 01be DBED037A 		vldr.32	s15, [fp, #12]
 370:moudels/algorithm/QuaternionEKF.c ****     {
 688              		.loc 1 370 32 view .LVU253
 689 01c2 ABF5E07B 		sub	fp, fp, #448
 370:moudels/algorithm/QuaternionEKF.c ****     {
 690              		.loc 1 370 43 view .LVU254
 691 01c6 F6EE006A 		vmov.f32	s13, #5.0e-1
 692 01ca 67EEA66A 		vmul.f32	s13, s15, s13
 370:moudels/algorithm/QuaternionEKF.c ****     {
 693              		.loc 1 370 8 view .LVU255
 694 01ce B4EEE67A 		vcmpe.f32	s14, s13
 695 01d2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 696 01d6 02D5     		bpl	.L23
 372:moudels/algorithm/QuaternionEKF.c ****     }
 697              		.loc 1 372 9 is_stmt 1 view .LVU256
 372:moudels/algorithm/QuaternionEKF.c ****     }
 698              		.loc 1 372 31 is_stmt 0 view .LVU257
 699 01d8 0122     		movs	r2, #1
 700 01da 8BF83821 		strb	r2, [fp, #312]
 701              	.L23:
 375:moudels/algorithm/QuaternionEKF.c ****     {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 26


 702              		.loc 1 375 5 is_stmt 1 view .LVU258
 375:moudels/algorithm/QuaternionEKF.c ****     {
 703              		.loc 1 375 8 is_stmt 0 view .LVU259
 704 01de B4EEE77A 		vcmpe.f32	s14, s15
 705 01e2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 706 01e6 45DD     		ble	.L25
 375:moudels/algorithm/QuaternionEKF.c ****     {
 707              		.loc 1 375 81 discriminator 1 view .LVU260
 708 01e8 754B     		ldr	r3, .L57+16
 709 01ea 93F83831 		ldrb	r3, [r3, #312]	@ zero_extendqisi2
 375:moudels/algorithm/QuaternionEKF.c ****     {
 710              		.loc 1 375 70 discriminator 1 view .LVU261
 711 01ee 002B     		cmp	r3, #0
 712 01f0 40D0     		beq	.L25
 377:moudels/algorithm/QuaternionEKF.c ****         {
 713              		.loc 1 377 9 is_stmt 1 view .LVU262
 377:moudels/algorithm/QuaternionEKF.c ****         {
 714              		.loc 1 377 21 is_stmt 0 view .LVU263
 715 01f2 734B     		ldr	r3, .L57+16
 716 01f4 93F83931 		ldrb	r3, [r3, #313]	@ zero_extendqisi2
 377:moudels/algorithm/QuaternionEKF.c ****         {
 717              		.loc 1 377 12 view .LVU264
 718 01f8 DBB1     		cbz	r3, .L27
 379:moudels/algorithm/QuaternionEKF.c ****         }
 719              		.loc 1 379 13 is_stmt 1 view .LVU265
 379:moudels/algorithm/QuaternionEKF.c ****         }
 720              		.loc 1 379 21 is_stmt 0 view .LVU266
 721 01fa 714A     		ldr	r2, .L57+16
 722 01fc D2F84031 		ldr	r3, [r2, #320]
 723 0200 D2F84411 		ldr	r1, [r2, #324]
 379:moudels/algorithm/QuaternionEKF.c ****         }
 724              		.loc 1 379 32 view .LVU267
 725 0204 0133     		adds	r3, r3, #1
 726 0206 41F10001 		adc	r1, r1, #0
 727 020a C2F84031 		str	r3, [r2, #320]
 728 020e C2F84411 		str	r1, [r2, #324]
 729              	.L28:
 386:moudels/algorithm/QuaternionEKF.c ****         {
 730              		.loc 1 386 9 is_stmt 1 view .LVU268
 386:moudels/algorithm/QuaternionEKF.c ****         {
 731              		.loc 1 386 21 is_stmt 0 view .LVU269
 732 0212 6B4B     		ldr	r3, .L57+16
 733 0214 D3F84021 		ldr	r2, [r3, #320]
 734 0218 D3F84431 		ldr	r3, [r3, #324]
 386:moudels/algorithm/QuaternionEKF.c ****         {
 735              		.loc 1 386 12 view .LVU270
 736 021c 332A     		cmp	r2, #51
 737 021e 73F10003 		sbcs	r3, r3, #0
 738 0222 0CD3     		bcc	.L29
 389:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = FALSE; // step-5 is cov mat P updating
 739              		.loc 1 389 13 is_stmt 1 view .LVU271
 389:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = FALSE; // step-5 is cov mat P updating
 740              		.loc 1 389 35 is_stmt 0 view .LVU272
 741 0224 0023     		movs	r3, #0
 742 0226 664A     		ldr	r2, .L57+16
 743 0228 82F83831 		strb	r3, [r2, #312]
 390:moudels/algorithm/QuaternionEKF.c ****         }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 27


 744              		.loc 1 390 13 is_stmt 1 view .LVU273
 390:moudels/algorithm/QuaternionEKF.c ****         }
 745              		.loc 1 390 25 is_stmt 0 view .LVU274
 746 022c 84F82C30 		strb	r3, [r4, #44]
 386:moudels/algorithm/QuaternionEKF.c ****         {
 747              		.loc 1 386 12 view .LVU275
 748 0230 46E0     		b	.L30
 749              	.L27:
 383:moudels/algorithm/QuaternionEKF.c ****         }
 750              		.loc 1 383 13 is_stmt 1 view .LVU276
 383:moudels/algorithm/QuaternionEKF.c ****         }
 751              		.loc 1 383 33 is_stmt 0 view .LVU277
 752 0232 634B     		ldr	r3, .L57+16
 753 0234 0020     		movs	r0, #0
 754 0236 0021     		movs	r1, #0
 755 0238 C3E95001 		strd	r0, [r3, #320]
 756 023c E9E7     		b	.L28
 757              	.L29:
 397:moudels/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 758              		.loc 1 397 13 is_stmt 1 view .LVU278
 397:moudels/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 759              		.loc 1 397 72 is_stmt 0 view .LVU279
 760 023e 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 397:moudels/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 761              		.loc 1 397 68 view .LVU280
 762 0240 604D     		ldr	r5, .L57+20
 763 0242 2B88     		ldrh	r3, [r5]
 397:moudels/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 764              		.loc 1 397 13 view .LVU281
 765 0244 03FB02F2 		mul	r2, r3, r2
 766 0248 D4F8EC10 		ldr	r1, [r4, #236]
 767 024c D4F8E800 		ldr	r0, [r4, #232]
 768 0250 FFF7FEFF 		bl	memcpy
 769              	.LVL39:
 398:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 770              		.loc 1 398 13 is_stmt 1 view .LVU282
 398:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 771              		.loc 1 398 66 is_stmt 0 view .LVU283
 772 0254 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 398:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 773              		.loc 1 398 62 view .LVU284
 774 0256 2B88     		ldrh	r3, [r5]
 775 0258 02FB03F3 		mul	r3, r2, r3
 398:moudels/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 776              		.loc 1 398 13 view .LVU285
 777 025c 03FB02F2 		mul	r2, r3, r2
 778 0260 D4F8FC10 		ldr	r1, [r4, #252]
 779 0264 D4F8F800 		ldr	r0, [r4, #248]
 780 0268 FFF7FEFF 		bl	memcpy
 781              	.LVL40:
 399:moudels/algorithm/QuaternionEKF.c ****             return;
 782              		.loc 1 399 13 is_stmt 1 view .LVU286
 399:moudels/algorithm/QuaternionEKF.c ****             return;
 783              		.loc 1 399 25 is_stmt 0 view .LVU287
 784 026c 0123     		movs	r3, #1
 785 026e 84F82C30 		strb	r3, [r4, #44]
 400:moudels/algorithm/QuaternionEKF.c ****         }
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 28


 786              		.loc 1 400 13 is_stmt 1 view .LVU288
 787 0272 9AE0     		b	.L20
 788              	.L25:
 406:moudels/algorithm/QuaternionEKF.c ****         {
 789              		.loc 1 406 9 view .LVU289
 406:moudels/algorithm/QuaternionEKF.c ****         {
 790              		.loc 1 406 47 is_stmt 0 view .LVU290
 791 0274 DFED546A 		vldr.32	s13, .L57+24
 792 0278 67EEA66A 		vmul.f32	s13, s15, s13
 406:moudels/algorithm/QuaternionEKF.c ****         {
 793              		.loc 1 406 12 view .LVU291
 794 027c B4EEE67A 		vcmpe.f32	s14, s13
 795 0280 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 796 0284 0FDD     		ble	.L32
 406:moudels/algorithm/QuaternionEKF.c ****         {
 797              		.loc 1 406 92 discriminator 1 view .LVU292
 798 0286 4E4B     		ldr	r3, .L57+16
 799 0288 93F83831 		ldrb	r3, [r3, #312]	@ zero_extendqisi2
 406:moudels/algorithm/QuaternionEKF.c ****         {
 800              		.loc 1 406 81 discriminator 1 view .LVU293
 801 028c 5BB1     		cbz	r3, .L32
 408:moudels/algorithm/QuaternionEKF.c ****         }
 802              		.loc 1 408 13 is_stmt 1 view .LVU294
 408:moudels/algorithm/QuaternionEKF.c ****         }
 803              		.loc 1 408 75 is_stmt 0 view .LVU295
 804 028e 37EEC77A 		vsub.f32	s14, s15, s14
 408:moudels/algorithm/QuaternionEKF.c ****         }
 805              		.loc 1 408 113 view .LVU296
 806 0292 DFED4E6A 		vldr.32	s13, .L57+28
 807 0296 67EEA67A 		vmul.f32	s15, s15, s13
 408:moudels/algorithm/QuaternionEKF.c ****         }
 808              		.loc 1 408 105 view .LVU297
 809 029a C7EE276A 		vdiv.f32	s13, s14, s15
 408:moudels/algorithm/QuaternionEKF.c ****         }
 810              		.loc 1 408 40 view .LVU298
 811 029e 484B     		ldr	r3, .L57+16
 812 02a0 C3ED676A 		vstr.32	s13, [r3, #412]
 813 02a4 04E0     		b	.L34
 814              	.L32:
 412:moudels/algorithm/QuaternionEKF.c ****         }
 815              		.loc 1 412 13 is_stmt 1 view .LVU299
 412:moudels/algorithm/QuaternionEKF.c ****         }
 816              		.loc 1 412 40 is_stmt 0 view .LVU300
 817 02a6 464B     		ldr	r3, .L57+16
 818 02a8 4FF07E52 		mov	r2, #1065353216
 819 02ac C3F89C21 		str	r2, [r3, #412]	@ float
 820              	.L34:
 414:moudels/algorithm/QuaternionEKF.c ****         kf->SkipEq5 = FALSE;
 821              		.loc 1 414 9 is_stmt 1 view .LVU301
 414:moudels/algorithm/QuaternionEKF.c ****         kf->SkipEq5 = FALSE;
 822              		.loc 1 414 29 is_stmt 0 view .LVU302
 823 02b0 434B     		ldr	r3, .L57+16
 824 02b2 0020     		movs	r0, #0
 825 02b4 0021     		movs	r1, #0
 826 02b6 C3E95001 		strd	r0, [r3, #320]
 415:moudels/algorithm/QuaternionEKF.c ****     }
 827              		.loc 1 415 9 is_stmt 1 view .LVU303
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 29


 415:moudels/algorithm/QuaternionEKF.c ****     }
 828              		.loc 1 415 21 is_stmt 0 view .LVU304
 829 02ba 0023     		movs	r3, #0
 830 02bc 84F82C30 		strb	r3, [r4, #44]
 831              	.L30:
 419:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 832              		.loc 1 419 5 is_stmt 1 view .LVU305
 419:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 833              		.loc 1 419 41 is_stmt 0 view .LVU306
 834 02c0 B4F85830 		ldrh	r3, [r4, #88]
 419:moudels/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 835              		.loc 1 419 29 view .LVU307
 836 02c4 A4F8A830 		strh	r3, [r4, #168]	@ movhi
 420:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 837              		.loc 1 420 5 is_stmt 1 view .LVU308
 420:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 838              		.loc 1 420 37 is_stmt 0 view .LVU309
 839 02c8 B4F88230 		ldrh	r3, [r4, #130]
 420:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 840              		.loc 1 420 29 view .LVU310
 841 02cc A4F8AA30 		strh	r3, [r4, #170]	@ movhi
 421:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 842              		.loc 1 421 5 is_stmt 1 view .LVU311
 421:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 843              		.loc 1 421 21 is_stmt 0 view .LVU312
 844 02d0 4246     		mov	r2, r8
 845 02d2 3946     		mov	r1, r7
 846 02d4 5046     		mov	r0, r10
 847 02d6 FFF7FEFF 		bl	arm_mat_mult_f32
 848              	.LVL41:
 421:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 849              		.loc 1 421 19 discriminator 1 view .LVU313
 850 02da 84F8C800 		strb	r0, [r4, #200]
 422:moudels/algorithm/QuaternionEKF.c **** 
 851              		.loc 1 422 5 is_stmt 1 view .LVU314
 422:moudels/algorithm/QuaternionEKF.c **** 
 852              		.loc 1 422 21 is_stmt 0 view .LVU315
 853 02de 04F19807 		add	r7, r4, #152
 854 02e2 3A46     		mov	r2, r7
 855 02e4 4946     		mov	r1, r9
 856 02e6 4046     		mov	r0, r8
 857 02e8 FFF7FEFF 		bl	arm_mat_mult_f32
 858              	.LVL42:
 422:moudels/algorithm/QuaternionEKF.c **** 
 859              		.loc 1 422 19 discriminator 1 view .LVU316
 860 02ec 84F8C800 		strb	r0, [r4, #200]
 425:moudels/algorithm/QuaternionEKF.c ****     {
 861              		.loc 1 425 5 is_stmt 1 view .LVU317
 862              	.LBB4:
 425:moudels/algorithm/QuaternionEKF.c ****     {
 863              		.loc 1 425 10 view .LVU318
 864              	.LVL43:
 425:moudels/algorithm/QuaternionEKF.c ****     {
 865              		.loc 1 425 18 is_stmt 0 view .LVU319
 866 02f0 0023     		movs	r3, #0
 425:moudels/algorithm/QuaternionEKF.c ****     {
 867              		.loc 1 425 5 view .LVU320
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 30


 868 02f2 0EE0     		b	.L35
 869              	.LVL44:
 870              	.L36:
 427:moudels/algorithm/QuaternionEKF.c ****     }
 871              		.loc 1 427 9 is_stmt 1 view .LVU321
 427:moudels/algorithm/QuaternionEKF.c ****     }
 872              		.loc 1 427 11 is_stmt 0 view .LVU322
 873 02f4 D4F81C21 		ldr	r2, [r4, #284]
 427:moudels/algorithm/QuaternionEKF.c ****     }
 874              		.loc 1 427 19 view .LVU323
 875 02f8 02EB8302 		add	r2, r2, r3, lsl #2
 876 02fc D2ED007A 		vldr.32	s15, [r2]
 427:moudels/algorithm/QuaternionEKF.c ****     }
 877              		.loc 1 427 34 view .LVU324
 878 0300 2F49     		ldr	r1, .L57+16
 879 0302 91ED677A 		vldr.32	s14, [r1, #412]
 427:moudels/algorithm/QuaternionEKF.c ****     }
 880              		.loc 1 427 23 view .LVU325
 881 0306 67EE877A 		vmul.f32	s15, s15, s14
 882 030a C2ED007A 		vstr.32	s15, [r2]
 425:moudels/algorithm/QuaternionEKF.c ****     {
 883              		.loc 1 425 60 is_stmt 1 discriminator 3 view .LVU326
 884 030e 0133     		adds	r3, r3, #1
 885              	.LVL45:
 425:moudels/algorithm/QuaternionEKF.c ****     {
 886              		.loc 1 425 60 is_stmt 0 discriminator 3 view .LVU327
 887 0310 DBB2     		uxtb	r3, r3
 888              	.LVL46:
 889              	.L35:
 425:moudels/algorithm/QuaternionEKF.c ****     {
 890              		.loc 1 425 27 is_stmt 1 discriminator 1 view .LVU328
 425:moudels/algorithm/QuaternionEKF.c ****     {
 891              		.loc 1 425 34 is_stmt 0 discriminator 1 view .LVU329
 892 0312 B4F89820 		ldrh	r2, [r4, #152]
 425:moudels/algorithm/QuaternionEKF.c ****     {
 893              		.loc 1 425 50 discriminator 1 view .LVU330
 894 0316 B4F89A10 		ldrh	r1, [r4, #154]
 425:moudels/algorithm/QuaternionEKF.c ****     {
 895              		.loc 1 425 43 discriminator 1 view .LVU331
 896 031a 01FB02F2 		mul	r2, r1, r2
 425:moudels/algorithm/QuaternionEKF.c ****     {
 897              		.loc 1 425 27 discriminator 1 view .LVU332
 898 031e 9342     		cmp	r3, r2
 899 0320 E8DB     		blt	.L36
 900              	.LBE4:
 901              	.LBB5:
 429:moudels/algorithm/QuaternionEKF.c ****     {
 902              		.loc 1 429 18 view .LVU333
 903 0322 0422     		movs	r2, #4
 904 0324 01E0     		b	.L37
 905              	.LVL47:
 906              	.L56:
 429:moudels/algorithm/QuaternionEKF.c ****     {
 907              		.loc 1 429 32 is_stmt 1 discriminator 2 view .LVU334
 908 0326 0132     		adds	r2, r2, #1
 909              	.LVL48:
 429:moudels/algorithm/QuaternionEKF.c ****     {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 31


 910              		.loc 1 429 32 is_stmt 0 discriminator 2 view .LVU335
 911 0328 D2B2     		uxtb	r2, r2
 912              	.LVL49:
 913              	.L37:
 429:moudels/algorithm/QuaternionEKF.c ****     {
 914              		.loc 1 429 27 is_stmt 1 discriminator 1 view .LVU336
 915 032a 052A     		cmp	r2, #5
 916 032c 1DD8     		bhi	.L55
 917              	.LBB6:
 431:moudels/algorithm/QuaternionEKF.c ****         {
 918              		.loc 1 431 22 is_stmt 0 view .LVU337
 919 032e 0023     		movs	r3, #0
 920              	.L39:
 921              	.LVL50:
 431:moudels/algorithm/QuaternionEKF.c ****         {
 922              		.loc 1 431 31 is_stmt 1 discriminator 1 view .LVU338
 923 0330 022B     		cmp	r3, #2
 924 0332 F8D8     		bhi	.L56
 433:moudels/algorithm/QuaternionEKF.c ****         }
 925              		.loc 1 433 13 view .LVU339
 433:moudels/algorithm/QuaternionEKF.c ****         }
 926              		.loc 1 433 15 is_stmt 0 view .LVU340
 927 0334 D4F81C11 		ldr	r1, [r4, #284]
 433:moudels/algorithm/QuaternionEKF.c ****         }
 928              		.loc 1 433 23 view .LVU341
 929 0338 02EB4200 		add	r0, r2, r2, lsl #1
 930 033c 1844     		add	r0, r0, r3
 931 033e 01EB8001 		add	r1, r1, r0, lsl #2
 932 0342 D1ED007A 		vldr.32	s15, [r1]
 433:moudels/algorithm/QuaternionEKF.c ****         }
 933              		.loc 1 433 64 view .LVU342
 934 0346 02F15C0C 		add	ip, r2, #92
 935 034a 1D48     		ldr	r0, .L57+16
 936 034c 00EB8C00 		add	r0, r0, ip, lsl #2
 937 0350 90ED016A 		vldr.32	s12, [r0, #4]
 433:moudels/algorithm/QuaternionEKF.c ****         }
 938              		.loc 1 433 72 view .LVU343
 939 0354 DFED1E6A 		vldr.32	s13, .L57+32
 940 0358 86EE267A 		vdiv.f32	s14, s12, s13
 433:moudels/algorithm/QuaternionEKF.c ****         }
 941              		.loc 1 433 35 view .LVU344
 942 035c 67EE877A 		vmul.f32	s15, s15, s14
 943 0360 C1ED007A 		vstr.32	s15, [r1]
 431:moudels/algorithm/QuaternionEKF.c ****         {
 944              		.loc 1 431 36 is_stmt 1 discriminator 3 view .LVU345
 945 0364 0133     		adds	r3, r3, #1
 946              	.LVL51:
 431:moudels/algorithm/QuaternionEKF.c ****         {
 947              		.loc 1 431 36 is_stmt 0 discriminator 3 view .LVU346
 948 0366 DBB2     		uxtb	r3, r3
 949              	.LVL52:
 431:moudels/algorithm/QuaternionEKF.c ****         {
 950              		.loc 1 431 36 discriminator 3 view .LVU347
 951 0368 E2E7     		b	.L39
 952              	.LVL53:
 953              	.L55:
 431:moudels/algorithm/QuaternionEKF.c ****         {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 32


 954              		.loc 1 431 36 discriminator 3 view .LVU348
 955              	.LBE6:
 956              	.LBE5:
 437:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 957              		.loc 1 437 5 is_stmt 1 view .LVU349
 437:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 958              		.loc 1 437 36 is_stmt 0 view .LVU350
 959 036a B4F89830 		ldrh	r3, [r4, #152]
 437:moudels/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 960              		.loc 1 437 29 view .LVU351
 961 036e A4F8B830 		strh	r3, [r4, #184]	@ movhi
 438:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->K, &kf->temp_vector1, &kf->temp_vector); // temp_vector = 
 962              		.loc 1 438 5 is_stmt 1 view .LVU352
 438:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->K, &kf->temp_vector1, &kf->temp_vector); // temp_vector = 
 963              		.loc 1 438 29 is_stmt 0 view .LVU353
 964 0372 0123     		movs	r3, #1
 965 0374 A4F8BA30 		strh	r3, [r4, #186]	@ movhi
 439:moudels/algorithm/QuaternionEKF.c **** 
 966              		.loc 1 439 5 is_stmt 1 view .LVU354
 439:moudels/algorithm/QuaternionEKF.c **** 
 967              		.loc 1 439 21 is_stmt 0 view .LVU355
 968 0378 2A46     		mov	r2, r5
 969              	.LVL54:
 439:moudels/algorithm/QuaternionEKF.c **** 
 970              		.loc 1 439 21 view .LVU356
 971 037a 3146     		mov	r1, r6
 972 037c 3846     		mov	r0, r7
 973 037e FFF7FEFF 		bl	arm_mat_mult_f32
 974              	.LVL55:
 439:moudels/algorithm/QuaternionEKF.c **** 
 975              		.loc 1 439 19 discriminator 1 view .LVU357
 976 0382 84F8C800 		strb	r0, [r4, #200]
 442:moudels/algorithm/QuaternionEKF.c ****     {
 977              		.loc 1 442 5 is_stmt 1 view .LVU358
 442:moudels/algorithm/QuaternionEKF.c ****     {
 978              		.loc 1 442 17 is_stmt 0 view .LVU359
 979 0386 0E4B     		ldr	r3, .L57+16
 980 0388 93F83831 		ldrb	r3, [r3, #312]	@ zero_extendqisi2
 442:moudels/algorithm/QuaternionEKF.c ****     {
 981              		.loc 1 442 8 view .LVU360
 982 038c 002B     		cmp	r3, #0
 983 038e 50D1     		bne	.L48
 984              	.L41:
 458:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 985              		.loc 1 458 5 is_stmt 1 view .LVU361
 458:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 986              		.loc 1 458 20 is_stmt 0 view .LVU362
 987 0390 D4F8BC30 		ldr	r3, [r4, #188]
 458:moudels/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 988              		.loc 1 458 30 view .LVU363
 989 0394 0022     		movs	r2, #0
 990 0396 DA60     		str	r2, [r3, #12]	@ float
 459:moudels/algorithm/QuaternionEKF.c **** }
 991              		.loc 1 459 5 is_stmt 1 view .LVU364
 459:moudels/algorithm/QuaternionEKF.c **** }
 992              		.loc 1 459 21 is_stmt 0 view .LVU365
 993 0398 04F13002 		add	r2, r4, #48
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 33


 994 039c 2946     		mov	r1, r5
 995 039e 04F13800 		add	r0, r4, #56
 996 03a2 FFF7FEFF 		bl	arm_mat_add_f32
 997              	.LVL56:
 459:moudels/algorithm/QuaternionEKF.c **** }
 998              		.loc 1 459 19 discriminator 1 view .LVU366
 999 03a6 84F8C800 		strb	r0, [r4, #200]
 1000              	.LVL57:
 1001              	.L20:
 460:moudels/algorithm/QuaternionEKF.c **** 
 1002              		.loc 1 460 1 view .LVU367
 1003 03aa BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1004              	.LVL58:
 1005              	.L58:
 460:moudels/algorithm/QuaternionEKF.c **** 
 1006              		.loc 1 460 1 view .LVU368
 1007 03ae 00BF     		.align	2
 1008              	.L57:
 1009 03b0 00000000 		.word	q0.16
 1010 03b4 00000000 		.word	q1.15
 1011 03b8 00000000 		.word	q2.14
 1012 03bc 00000000 		.word	q3.13
 1013 03c0 00000000 		.word	QEKF_INS
 1014 03c4 00000000 		.word	sizeof_float
 1015 03c8 CDCCCC3D 		.word	1036831949
 1016 03cc 6666663F 		.word	1063675494
 1017 03d0 DA0FC93F 		.word	1070141402
 1018 03d4 C0010000 		.word	QEKF_INS+448
 1019              	.LVL59:
 1020              	.L44:
 1021              	.LBB7:
 444:moudels/algorithm/QuaternionEKF.c ****         {
 1022              		.loc 1 444 36 is_stmt 1 discriminator 2 view .LVU369
 1023 03d8 0133     		adds	r3, r3, #1
 1024              	.LVL60:
 444:moudels/algorithm/QuaternionEKF.c ****         {
 1025              		.loc 1 444 36 is_stmt 0 discriminator 2 view .LVU370
 1026 03da DBB2     		uxtb	r3, r3
 1027              	.LVL61:
 1028              	.L40:
 444:moudels/algorithm/QuaternionEKF.c ****         {
 1029              		.loc 1 444 31 is_stmt 1 discriminator 1 view .LVU371
 1030 03dc 052B     		cmp	r3, #5
 1031 03de D7D8     		bhi	.L41
 446:moudels/algorithm/QuaternionEKF.c ****             {
 1032              		.loc 1 446 13 view .LVU372
 446:moudels/algorithm/QuaternionEKF.c ****             {
 1033              		.loc 1 446 32 is_stmt 0 view .LVU373
 1034 03e0 D4F8BC20 		ldr	r2, [r4, #188]
 446:moudels/algorithm/QuaternionEKF.c ****             {
 1035              		.loc 1 446 38 view .LVU374
 1036 03e4 9900     		lsls	r1, r3, #2
 1037 03e6 02EB8302 		add	r2, r2, r3, lsl #2
 1038 03ea 92ED007A 		vldr.32	s14, [r2]
 446:moudels/algorithm/QuaternionEKF.c ****             {
 1039              		.loc 1 446 60 view .LVU375
 1040 03ee 1248     		ldr	r0, .L59
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 34


 1041 03f0 D0ED6F7A 		vldr.32	s15, [r0, #444]
 446:moudels/algorithm/QuaternionEKF.c ****             {
 1042              		.loc 1 446 50 view .LVU376
 1043 03f4 DFED116A 		vldr.32	s13, .L59+4
 1044 03f8 67EEA67A 		vmul.f32	s15, s15, s13
 446:moudels/algorithm/QuaternionEKF.c ****             {
 1045              		.loc 1 446 16 view .LVU377
 1046 03fc B4EEE77A 		vcmpe.f32	s14, s15
 1047 0400 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1048 0404 01DD     		ble	.L42
 448:moudels/algorithm/QuaternionEKF.c ****             }
 1049              		.loc 1 448 17 is_stmt 1 view .LVU378
 448:moudels/algorithm/QuaternionEKF.c ****             }
 1050              		.loc 1 448 42 is_stmt 0 view .LVU379
 1051 0406 C2ED007A 		vstr.32	s15, [r2]
 1052              	.L42:
 450:moudels/algorithm/QuaternionEKF.c ****             {
 1053              		.loc 1 450 13 is_stmt 1 view .LVU380
 450:moudels/algorithm/QuaternionEKF.c ****             {
 1054              		.loc 1 450 32 is_stmt 0 view .LVU381
 1055 040a D4F8BC20 		ldr	r2, [r4, #188]
 450:moudels/algorithm/QuaternionEKF.c ****             {
 1056              		.loc 1 450 38 view .LVU382
 1057 040e 0A44     		add	r2, r2, r1
 1058 0410 92ED007A 		vldr.32	s14, [r2]
 450:moudels/algorithm/QuaternionEKF.c ****             {
 1059              		.loc 1 450 61 view .LVU383
 1060 0414 0849     		ldr	r1, .L59
 1061 0416 D1ED6F7A 		vldr.32	s15, [r1, #444]
 450:moudels/algorithm/QuaternionEKF.c ****             {
 1062              		.loc 1 450 51 view .LVU384
 1063 041a DFED096A 		vldr.32	s13, .L59+8
 1064 041e 67EEA67A 		vmul.f32	s15, s15, s13
 450:moudels/algorithm/QuaternionEKF.c ****             {
 1065              		.loc 1 450 16 view .LVU385
 1066 0422 B4EEE77A 		vcmpe.f32	s14, s15
 1067 0426 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1068 042a D5D5     		bpl	.L44
 452:moudels/algorithm/QuaternionEKF.c ****             }
 1069              		.loc 1 452 17 is_stmt 1 view .LVU386
 452:moudels/algorithm/QuaternionEKF.c ****             }
 1070              		.loc 1 452 42 is_stmt 0 view .LVU387
 1071 042c C2ED007A 		vstr.32	s15, [r2]
 1072 0430 D2E7     		b	.L44
 1073              	.LVL62:
 1074              	.L48:
 444:moudels/algorithm/QuaternionEKF.c ****         {
 1075              		.loc 1 444 22 view .LVU388
 1076 0432 0423     		movs	r3, #4
 1077 0434 D2E7     		b	.L40
 1078              	.L60:
 1079 0436 00BF     		.align	2
 1080              	.L59:
 1081 0438 00000000 		.word	QEKF_INS
 1082 043c 0AD7233C 		.word	1008981770
 1083 0440 0AD723BC 		.word	-1138501878
 1084              	.LBE7:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 35


 1085              		.cfi_endproc
 1086              	.LFE171:
 1088              		.section	.text.IMU_QuaternionEKF_SetH,"ax",%progbits
 1089              		.align	1
 1090              		.syntax unified
 1091              		.thumb
 1092              		.thumb_func
 1094              	IMU_QuaternionEKF_SetH:
 1095              	.LVL63:
 1096              	.LFB170:
 283:moudels/algorithm/QuaternionEKF.c ****     static float doubleq0, doubleq1, doubleq2, doubleq3;
 1097              		.loc 1 283 1 is_stmt 1 view -0
 1098              		.cfi_startproc
 1099              		@ args = 0, pretend = 0, frame = 0
 1100              		@ frame_needed = 0, uses_anonymous_args = 0
 283:moudels/algorithm/QuaternionEKF.c ****     static float doubleq0, doubleq1, doubleq2, doubleq3;
 1101              		.loc 1 283 1 is_stmt 0 view .LVU390
 1102 0000 10B5     		push	{r4, lr}
 1103              		.cfi_def_cfa_offset 8
 1104              		.cfi_offset 4, -8
 1105              		.cfi_offset 14, -4
 1106 0002 2DED048B 		vpush.64	{d8, d9}
 1107              		.cfi_def_cfa_offset 24
 1108              		.cfi_offset 80, -24
 1109              		.cfi_offset 81, -20
 1110              		.cfi_offset 82, -16
 1111              		.cfi_offset 83, -12
 1112 0006 0446     		mov	r4, r0
 284:moudels/algorithm/QuaternionEKF.c ****     /* H
 1113              		.loc 1 284 5 is_stmt 1 view .LVU391
 292:moudels/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1114              		.loc 1 292 5 view .LVU392
 292:moudels/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1115              		.loc 1 292 22 is_stmt 0 view .LVU393
 1116 0008 D0F8EC30 		ldr	r3, [r0, #236]
 292:moudels/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1117              		.loc 1 292 38 view .LVU394
 1118 000c 93ED009A 		vldr.32	s18, [r3]
 292:moudels/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1119              		.loc 1 292 18 view .LVU395
 1120 0010 39EE099A 		vadd.f32	s18, s18, s18
 292:moudels/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1121              		.loc 1 292 14 view .LVU396
 1122 0014 2E4A     		ldr	r2, .L63
 1123 0016 82ED009A 		vstr.32	s18, [r2]
 293:moudels/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 1124              		.loc 1 293 5 is_stmt 1 view .LVU397
 293:moudels/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 1125              		.loc 1 293 38 is_stmt 0 view .LVU398
 1126 001a 93ED018A 		vldr.32	s16, [r3, #4]
 293:moudels/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 1127              		.loc 1 293 18 view .LVU399
 1128 001e 38EE088A 		vadd.f32	s16, s16, s16
 293:moudels/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 1129              		.loc 1 293 14 view .LVU400
 1130 0022 2C4A     		ldr	r2, .L63+4
 1131 0024 82ED008A 		vstr.32	s16, [r2]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 36


 294:moudels/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1132              		.loc 1 294 5 is_stmt 1 view .LVU401
 294:moudels/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1133              		.loc 1 294 38 is_stmt 0 view .LVU402
 1134 0028 D3ED029A 		vldr.32	s19, [r3, #8]
 294:moudels/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1135              		.loc 1 294 18 view .LVU403
 1136 002c 79EEA99A 		vadd.f32	s19, s19, s19
 294:moudels/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1137              		.loc 1 294 14 view .LVU404
 1138 0030 294A     		ldr	r2, .L63+8
 1139 0032 C2ED009A 		vstr.32	s19, [r2]
 295:moudels/algorithm/QuaternionEKF.c **** 
 1140              		.loc 1 295 5 is_stmt 1 view .LVU405
 295:moudels/algorithm/QuaternionEKF.c **** 
 1141              		.loc 1 295 38 is_stmt 0 view .LVU406
 1142 0036 D3ED038A 		vldr.32	s17, [r3, #12]
 295:moudels/algorithm/QuaternionEKF.c **** 
 1143              		.loc 1 295 18 view .LVU407
 1144 003a 78EEA88A 		vadd.f32	s17, s17, s17
 295:moudels/algorithm/QuaternionEKF.c **** 
 1145              		.loc 1 295 14 view .LVU408
 1146 003e 274B     		ldr	r3, .L63+12
 1147 0040 C3ED008A 		vstr.32	s17, [r3]
 297:moudels/algorithm/QuaternionEKF.c **** 
 1148              		.loc 1 297 5 is_stmt 1 view .LVU409
 297:moudels/algorithm/QuaternionEKF.c **** 
 1149              		.loc 1 297 44 is_stmt 0 view .LVU410
 1150 0044 827B     		ldrb	r2, [r0, #14]	@ zero_extendqisi2
 297:moudels/algorithm/QuaternionEKF.c **** 
 1151              		.loc 1 297 40 view .LVU411
 1152 0046 264B     		ldr	r3, .L63+16
 1153 0048 1B88     		ldrh	r3, [r3]
 1154 004a 02FB03F3 		mul	r3, r2, r3
 297:moudels/algorithm/QuaternionEKF.c **** 
 1155              		.loc 1 297 56 view .LVU412
 1156 004e 027B     		ldrb	r2, [r0, #12]	@ zero_extendqisi2
 297:moudels/algorithm/QuaternionEKF.c **** 
 1157              		.loc 1 297 5 view .LVU413
 1158 0050 03FB02F2 		mul	r2, r3, r2
 1159 0054 0021     		movs	r1, #0
 1160 0056 D0F80C01 		ldr	r0, [r0, #268]
 1161              	.LVL64:
 297:moudels/algorithm/QuaternionEKF.c **** 
 1162              		.loc 1 297 5 view .LVU414
 1163 005a FFF7FEFF 		bl	memset
 1164              	.LVL65:
 299:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1165              		.loc 1 299 5 is_stmt 1 view .LVU415
 299:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1166              		.loc 1 299 7 is_stmt 0 view .LVU416
 1167 005e D4F80C31 		ldr	r3, [r4, #268]
 299:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1168              		.loc 1 299 21 view .LVU417
 1169 0062 F1EE697A 		vneg.f32	s15, s19
 299:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1170              		.loc 1 299 19 view .LVU418
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 37


 1171 0066 C3ED007A 		vstr.32	s15, [r3]
 300:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 1172              		.loc 1 300 5 is_stmt 1 view .LVU419
 300:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 1173              		.loc 1 300 7 is_stmt 0 view .LVU420
 1174 006a D4F80C31 		ldr	r3, [r4, #268]
 300:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 1175              		.loc 1 300 19 view .LVU421
 1176 006e C3ED018A 		vstr.32	s17, [r3, #4]
 301:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1177              		.loc 1 301 5 is_stmt 1 view .LVU422
 301:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1178              		.loc 1 301 7 is_stmt 0 view .LVU423
 1179 0072 D4F80C31 		ldr	r3, [r4, #268]
 301:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1180              		.loc 1 301 21 view .LVU424
 1181 0076 B1EE497A 		vneg.f32	s14, s18
 301:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1182              		.loc 1 301 19 view .LVU425
 1183 007a 83ED027A 		vstr.32	s14, [r3, #8]
 302:moudels/algorithm/QuaternionEKF.c **** 
 1184              		.loc 1 302 5 is_stmt 1 view .LVU426
 302:moudels/algorithm/QuaternionEKF.c **** 
 1185              		.loc 1 302 7 is_stmt 0 view .LVU427
 1186 007e D4F80C31 		ldr	r3, [r4, #268]
 302:moudels/algorithm/QuaternionEKF.c **** 
 1187              		.loc 1 302 19 view .LVU428
 1188 0082 83ED038A 		vstr.32	s16, [r3, #12]
 304:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 1189              		.loc 1 304 5 is_stmt 1 view .LVU429
 304:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 1190              		.loc 1 304 7 is_stmt 0 view .LVU430
 1191 0086 D4F80C31 		ldr	r3, [r4, #268]
 304:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 1192              		.loc 1 304 19 view .LVU431
 1193 008a 83ED068A 		vstr.32	s16, [r3, #24]
 305:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 1194              		.loc 1 305 5 is_stmt 1 view .LVU432
 305:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 1195              		.loc 1 305 7 is_stmt 0 view .LVU433
 1196 008e D4F80C31 		ldr	r3, [r4, #268]
 305:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 1197              		.loc 1 305 19 view .LVU434
 1198 0092 83ED079A 		vstr.32	s18, [r3, #28]
 306:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 1199              		.loc 1 306 5 is_stmt 1 view .LVU435
 306:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 1200              		.loc 1 306 7 is_stmt 0 view .LVU436
 1201 0096 D4F80C31 		ldr	r3, [r4, #268]
 306:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 1202              		.loc 1 306 19 view .LVU437
 1203 009a C3ED088A 		vstr.32	s17, [r3, #32]
 307:moudels/algorithm/QuaternionEKF.c **** 
 1204              		.loc 1 307 5 is_stmt 1 view .LVU438
 307:moudels/algorithm/QuaternionEKF.c **** 
 1205              		.loc 1 307 7 is_stmt 0 view .LVU439
 1206 009e D4F80C31 		ldr	r3, [r4, #268]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 38


 307:moudels/algorithm/QuaternionEKF.c **** 
 1207              		.loc 1 307 19 view .LVU440
 1208 00a2 C3ED099A 		vstr.32	s19, [r3, #36]
 309:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 1209              		.loc 1 309 5 is_stmt 1 view .LVU441
 309:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 1210              		.loc 1 309 7 is_stmt 0 view .LVU442
 1211 00a6 D4F80C31 		ldr	r3, [r4, #268]
 309:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 1212              		.loc 1 309 20 view .LVU443
 1213 00aa 83ED0C9A 		vstr.32	s18, [r3, #48]
 310:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1214              		.loc 1 310 5 is_stmt 1 view .LVU444
 310:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1215              		.loc 1 310 7 is_stmt 0 view .LVU445
 1216 00ae D4F80C31 		ldr	r3, [r4, #268]
 310:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1217              		.loc 1 310 22 view .LVU446
 1218 00b2 B1EE488A 		vneg.f32	s16, s16
 310:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1219              		.loc 1 310 20 view .LVU447
 1220 00b6 83ED0D8A 		vstr.32	s16, [r3, #52]
 311:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 1221              		.loc 1 311 5 is_stmt 1 view .LVU448
 311:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 1222              		.loc 1 311 7 is_stmt 0 view .LVU449
 1223 00ba D4F80C31 		ldr	r3, [r4, #268]
 311:moudels/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 1224              		.loc 1 311 20 view .LVU450
 1225 00be C3ED0E7A 		vstr.32	s15, [r3, #56]
 312:moudels/algorithm/QuaternionEKF.c **** }
 1226              		.loc 1 312 5 is_stmt 1 view .LVU451
 312:moudels/algorithm/QuaternionEKF.c **** }
 1227              		.loc 1 312 7 is_stmt 0 view .LVU452
 1228 00c2 D4F80C31 		ldr	r3, [r4, #268]
 312:moudels/algorithm/QuaternionEKF.c **** }
 1229              		.loc 1 312 20 view .LVU453
 1230 00c6 C3ED0F8A 		vstr.32	s17, [r3, #60]
 313:moudels/algorithm/QuaternionEKF.c **** 
 1231              		.loc 1 313 1 view .LVU454
 1232 00ca BDEC048B 		vldm	sp!, {d8-d9}
 1233              		.cfi_restore 82
 1234              		.cfi_restore 83
 1235              		.cfi_restore 80
 1236              		.cfi_restore 81
 1237              		.cfi_def_cfa_offset 8
 1238 00ce 10BD     		pop	{r4, pc}
 1239              	.LVL66:
 1240              	.L64:
 313:moudels/algorithm/QuaternionEKF.c **** 
 1241              		.loc 1 313 1 view .LVU455
 1242              		.align	2
 1243              	.L63:
 1244 00d0 00000000 		.word	doubleq0.12
 1245 00d4 00000000 		.word	doubleq1.11
 1246 00d8 00000000 		.word	doubleq2.10
 1247 00dc 00000000 		.word	doubleq3.9
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 39


 1248 00e0 00000000 		.word	sizeof_float
 1249              		.cfi_endproc
 1250              	.LFE170:
 1252              		.section	.text.IMU_QuaternionEKF_Init,"ax",%progbits
 1253              		.align	1
 1254              		.global	IMU_QuaternionEKF_Init
 1255              		.syntax unified
 1256              		.thumb
 1257              		.thumb_func
 1259              	IMU_QuaternionEKF_Init:
 1260              	.LVL67:
 1261              	.LFB167:
  51:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Initialized = 1;
 1262              		.loc 1 51 1 is_stmt 1 view -0
 1263              		.cfi_startproc
 1264              		@ args = 0, pretend = 0, frame = 0
 1265              		@ frame_needed = 0, uses_anonymous_args = 0
  51:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Initialized = 1;
 1266              		.loc 1 51 1 is_stmt 0 view .LVU457
 1267 0000 38B5     		push	{r3, r4, r5, lr}
 1268              		.cfi_def_cfa_offset 16
 1269              		.cfi_offset 3, -16
 1270              		.cfi_offset 4, -12
 1271              		.cfi_offset 5, -8
 1272              		.cfi_offset 14, -4
 1273 0002 0446     		mov	r4, r0
  52:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Q1 = process_noise1;
 1274              		.loc 1 52 5 is_stmt 1 view .LVU458
  52:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Q1 = process_noise1;
 1275              		.loc 1 52 26 is_stmt 0 view .LVU459
 1276 0004 2F4B     		ldr	r3, .L71
 1277 0006 0122     		movs	r2, #1
 1278 0008 1A70     		strb	r2, [r3]
  53:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Q2 = process_noise2;
 1279              		.loc 1 53 5 is_stmt 1 view .LVU460
  53:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Q2 = process_noise2;
 1280              		.loc 1 53 17 is_stmt 0 view .LVU461
 1281 000a 83ED6C0A 		vstr.32	s0, [r3, #432]
  54:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.R = measure_noise;
 1282              		.loc 1 54 5 is_stmt 1 view .LVU462
  54:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.R = measure_noise;
 1283              		.loc 1 54 17 is_stmt 0 view .LVU463
 1284 000e C3ED6D0A 		vstr.32	s1, [r3, #436]
  55:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ChiSquareTestThreshold = 1e-8;
 1285              		.loc 1 55 5 is_stmt 1 view .LVU464
  55:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ChiSquareTestThreshold = 1e-8;
 1286              		.loc 1 55 16 is_stmt 0 view .LVU465
 1287 0012 83ED6E1A 		vstr.32	s2, [r3, #440]
  56:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ConvergeFlag = 0;
 1288              		.loc 1 56 5 is_stmt 1 view .LVU466
  56:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ConvergeFlag = 0;
 1289              		.loc 1 56 37 is_stmt 0 view .LVU467
 1290 0016 2C4A     		ldr	r2, .L71+4
 1291 0018 C3F8CC21 		str	r2, [r3, #460]	@ float
  57:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ErrorCount = 0;
 1292              		.loc 1 57 5 is_stmt 1 view .LVU468
  57:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.ErrorCount = 0;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 40


 1293              		.loc 1 57 27 is_stmt 0 view .LVU469
 1294 001c 0022     		movs	r2, #0
 1295 001e 83F83821 		strb	r2, [r3, #312]
  58:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
 1296              		.loc 1 58 5 is_stmt 1 view .LVU470
  58:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
 1297              		.loc 1 58 25 is_stmt 0 view .LVU471
 1298 0022 0020     		movs	r0, #0
 1299              	.LVL68:
  58:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
 1300              		.loc 1 58 25 view .LVU472
 1301 0024 0021     		movs	r1, #0
 1302 0026 C3E95001 		strd	r0, [r3, #320]
  59:moudels/algorithm/QuaternionEKF.c ****     if (lambda > 1)
 1303              		.loc 1 59 5 is_stmt 1 view .LVU473
  59:moudels/algorithm/QuaternionEKF.c ****     if (lambda > 1)
 1304              		.loc 1 59 26 is_stmt 0 view .LVU474
 1305 002a C3E95201 		strd	r0, [r3, #328]
  60:moudels/algorithm/QuaternionEKF.c ****     {
 1306              		.loc 1 60 5 is_stmt 1 view .LVU475
  60:moudels/algorithm/QuaternionEKF.c ****     {
 1307              		.loc 1 60 8 is_stmt 0 view .LVU476
 1308 002e F7EE007A 		vmov.f32	s15, #1.0e+0
 1309 0032 F4EEE71A 		vcmpe.f32	s3, s15
 1310 0036 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1311 003a 01DD     		ble	.L66
  62:moudels/algorithm/QuaternionEKF.c ****     }
 1312              		.loc 1 62 16 view .LVU477
 1313 003c F0EE671A 		vmov.f32	s3, s15
 1314              	.LVL69:
 1315              	.L66:
  64:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.accLPFcoef = lpf;
 1316              		.loc 1 64 5 is_stmt 1 view .LVU478
  64:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.accLPFcoef = lpf;
 1317              		.loc 1 64 21 is_stmt 0 view .LVU479
 1318 0040 204D     		ldr	r5, .L71
 1319 0042 C5ED741A 		vstr.32	s3, [r5, #464]
  65:moudels/algorithm/QuaternionEKF.c **** 
 1320              		.loc 1 65 5 is_stmt 1 view .LVU480
  65:moudels/algorithm/QuaternionEKF.c **** 
 1321              		.loc 1 65 25 is_stmt 0 view .LVU481
 1322 0046 85ED642A 		vstr.32	s4, [r5, #400]
  68:moudels/algorithm/QuaternionEKF.c ****     Matrix_Init(&QEKF_INS.ChiSquare, 1, 1, (float *)QEKF_INS.ChiSquare_Data);
 1323              		.loc 1 68 5 is_stmt 1 view .LVU482
 1324 004a 0323     		movs	r3, #3
 1325 004c 0022     		movs	r2, #0
 1326 004e 0621     		movs	r1, #6
 1327 0050 281D     		adds	r0, r5, #4
 1328 0052 FFF7FEFF 		bl	Kalman_Filter_Init
 1329              	.LVL70:
  69:moudels/algorithm/QuaternionEKF.c **** 
 1330              		.loc 1 69 5 view .LVU483
 1331 0056 05F5E473 		add	r3, r5, #456
 1332 005a 0122     		movs	r2, #1
 1333 005c 1146     		mov	r1, r2
 1334 005e 05F5E070 		add	r0, r5, #448
 1335 0062 FFF7FEFF 		bl	arm_mat_init_f32
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 41


 1336              	.LVL71:
  72:moudels/algorithm/QuaternionEKF.c ****     {
 1337              		.loc 1 72 5 view .LVU484
 1338              	.LBB8:
  72:moudels/algorithm/QuaternionEKF.c ****     {
 1339              		.loc 1 72 9 view .LVU485
  72:moudels/algorithm/QuaternionEKF.c ****     {
 1340              		.loc 1 72 13 is_stmt 0 view .LVU486
 1341 0066 0023     		movs	r3, #0
  72:moudels/algorithm/QuaternionEKF.c ****     {
 1342              		.loc 1 72 5 view .LVU487
 1343 0068 09E0     		b	.L67
 1344              	.LVL72:
 1345              	.L68:
  74:moudels/algorithm/QuaternionEKF.c ****     }
 1346              		.loc 1 74 9 is_stmt 1 view .LVU488
  74:moudels/algorithm/QuaternionEKF.c ****     }
 1347              		.loc 1 74 35 is_stmt 0 view .LVU489
 1348 006a 164A     		ldr	r2, .L71
 1349 006c D2F8EC20 		ldr	r2, [r2, #236]
  74:moudels/algorithm/QuaternionEKF.c ****     }
 1350              		.loc 1 74 45 view .LVU490
 1351 0070 02EB8302 		add	r2, r2, r3, lsl #2
  74:moudels/algorithm/QuaternionEKF.c ****     }
 1352              		.loc 1 74 66 view .LVU491
 1353 0074 04EB8301 		add	r1, r4, r3, lsl #2
 1354 0078 0968     		ldr	r1, [r1]	@ float
  74:moudels/algorithm/QuaternionEKF.c ****     }
 1355              		.loc 1 74 49 view .LVU492
 1356 007a 1160     		str	r1, [r2]	@ float
  72:moudels/algorithm/QuaternionEKF.c ****     {
 1357              		.loc 1 72 28 is_stmt 1 discriminator 3 view .LVU493
 1358 007c 0133     		adds	r3, r3, #1
 1359              	.LVL73:
 1360              	.L67:
  72:moudels/algorithm/QuaternionEKF.c ****     {
 1361              		.loc 1 72 22 discriminator 1 view .LVU494
 1362 007e 032B     		cmp	r3, #3
 1363 0080 F3DD     		ble	.L68
 1364              	.LBE8:
  78:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1365              		.loc 1 78 5 view .LVU495
  78:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1366              		.loc 1 78 45 is_stmt 0 view .LVU496
 1367 0082 104C     		ldr	r4, .L71
 1368              	.LVL74:
  78:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1369              		.loc 1 78 45 view .LVU497
 1370 0084 114B     		ldr	r3, .L71+8
 1371              	.LVL75:
  78:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1372              		.loc 1 78 45 view .LVU498
 1373 0086 C4F8D030 		str	r3, [r4, #208]
  79:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func2_f = IMU_QuaternionEKF_SetH;
 1374              		.loc 1 79 5 is_stmt 1 view .LVU499
  79:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func2_f = IMU_QuaternionEKF_SetH;
 1375              		.loc 1 79 45 is_stmt 0 view .LVU500
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 42


 1376 008a 114B     		ldr	r3, .L71+12
 1377 008c C4F8D430 		str	r3, [r4, #212]
  80:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func3_f = IMU_QuaternionEKF_xhatUpdate;
 1378              		.loc 1 80 5 is_stmt 1 view .LVU501
  80:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func3_f = IMU_QuaternionEKF_xhatUpdate;
 1379              		.loc 1 80 45 is_stmt 0 view .LVU502
 1380 0090 104B     		ldr	r3, .L71+16
 1381 0092 C4F8D830 		str	r3, [r4, #216]
  81:moudels/algorithm/QuaternionEKF.c **** 
 1382              		.loc 1 81 5 is_stmt 1 view .LVU503
  81:moudels/algorithm/QuaternionEKF.c **** 
 1383              		.loc 1 81 45 is_stmt 0 view .LVU504
 1384 0096 104B     		ldr	r3, .L71+20
 1385 0098 C4F8DC30 		str	r3, [r4, #220]
  84:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq4 = TRUE;
 1386              		.loc 1 84 5 is_stmt 1 view .LVU505
  84:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq4 = TRUE;
 1387              		.loc 1 84 40 is_stmt 0 view .LVU506
 1388 009c 0123     		movs	r3, #1
 1389 009e 84F82E30 		strb	r3, [r4, #46]
  85:moudels/algorithm/QuaternionEKF.c **** 
 1390              		.loc 1 85 5 is_stmt 1 view .LVU507
  85:moudels/algorithm/QuaternionEKF.c **** 
 1391              		.loc 1 85 40 is_stmt 0 view .LVU508
 1392 00a2 84F82F30 		strb	r3, [r4, #47]
  87:moudels/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.P_data, IMU_QuaternionEKF_P, sizeof(IMU_QuaternionEKF_P));
 1393              		.loc 1 87 5 is_stmt 1 view .LVU509
 1394 00a6 9025     		movs	r5, #144
 1395 00a8 2A46     		mov	r2, r5
 1396 00aa 0C49     		ldr	r1, .L71+24
 1397 00ac D4F80401 		ldr	r0, [r4, #260]
 1398 00b0 FFF7FEFF 		bl	memcpy
 1399              	.LVL76:
  88:moudels/algorithm/QuaternionEKF.c **** }
 1400              		.loc 1 88 5 view .LVU510
 1401 00b4 2A46     		mov	r2, r5
 1402 00b6 0A49     		ldr	r1, .L71+28
 1403 00b8 D4F8FC00 		ldr	r0, [r4, #252]
 1404 00bc FFF7FEFF 		bl	memcpy
 1405              	.LVL77:
  89:moudels/algorithm/QuaternionEKF.c **** 
 1406              		.loc 1 89 1 is_stmt 0 view .LVU511
 1407 00c0 38BD     		pop	{r3, r4, r5, pc}
 1408              	.L72:
 1409 00c2 00BF     		.align	2
 1410              	.L71:
 1411 00c4 00000000 		.word	QEKF_INS
 1412 00c8 77CC2B32 		.word	841731191
 1413 00cc 00000000 		.word	IMU_QuaternionEKF_Observe
 1414 00d0 00000000 		.word	IMU_QuaternionEKF_F_Linearization_P_Fading
 1415 00d4 00000000 		.word	IMU_QuaternionEKF_SetH
 1416 00d8 00000000 		.word	IMU_QuaternionEKF_xhatUpdate
 1417 00dc 00000000 		.word	IMU_QuaternionEKF_F
 1418 00e0 00000000 		.word	IMU_QuaternionEKF_P
 1419              		.cfi_endproc
 1420              	.LFE167:
 1422              		.section	.text.IMU_QuaternionEKF_Update,"ax",%progbits
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 43


 1423              		.align	1
 1424              		.global	IMU_QuaternionEKF_Update
 1425              		.syntax unified
 1426              		.thumb
 1427              		.thumb_func
 1429              	IMU_QuaternionEKF_Update:
 1430              	.LVL78:
 1431              	.LFB168:
  98:moudels/algorithm/QuaternionEKF.c ****     // 0.5(Ohm-Ohm^bias)*deltaT,ç”¨äºæ›´æ–°å·¥ä½œç‚¹å¤„çš„çŠ¶æ€è½¬ç§»FçŸ©é˜µ
 1432              		.loc 1 98 1 is_stmt 1 view -0
 1433              		.cfi_startproc
 1434              		@ args = 0, pretend = 0, frame = 0
 1435              		@ frame_needed = 0, uses_anonymous_args = 0
  98:moudels/algorithm/QuaternionEKF.c ****     // 0.5(Ohm-Ohm^bias)*deltaT,ç”¨äºæ›´æ–°å·¥ä½œç‚¹å¤„çš„çŠ¶æ€è½¬ç§»FçŸ©é˜µ
 1436              		.loc 1 98 1 is_stmt 0 view .LVU513
 1437 0000 10B5     		push	{r4, lr}
 1438              		.cfi_def_cfa_offset 8
 1439              		.cfi_offset 4, -8
 1440              		.cfi_offset 14, -4
 1441 0002 2DED088B 		vpush.64	{d8, d9, d10, d11}
 1442              		.cfi_def_cfa_offset 40
 1443              		.cfi_offset 80, -40
 1444              		.cfi_offset 81, -36
 1445              		.cfi_offset 82, -32
 1446              		.cfi_offset 83, -28
 1447              		.cfi_offset 84, -24
 1448              		.cfi_offset 85, -20
 1449              		.cfi_offset 86, -16
 1450              		.cfi_offset 87, -12
 1451 0006 F0EE61AA 		vmov.f32	s21, s3
 1452 000a B0EE42AA 		vmov.f32	s20, s4
 1453 000e F0EE629A 		vmov.f32	s19, s5
 100:moudels/algorithm/QuaternionEKF.c ****     static float accelInvNorm;
 1454              		.loc 1 100 5 is_stmt 1 view .LVU514
 101:moudels/algorithm/QuaternionEKF.c **** 
 1455              		.loc 1 101 5 view .LVU515
 111:moudels/algorithm/QuaternionEKF.c **** 
 1456              		.loc 1 111 5 view .LVU516
 111:moudels/algorithm/QuaternionEKF.c **** 
 1457              		.loc 1 111 17 is_stmt 0 view .LVU517
 1458 0012 804C     		ldr	r4, .L93
 1459 0014 84ED6F3A 		vstr.32	s6, [r4, #444]
 113:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 1460              		.loc 1 113 5 is_stmt 1 view .LVU518
 113:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 1461              		.loc 1 113 46 is_stmt 0 view .LVU519
 1462 0018 D4ED587A 		vldr.32	s15, [r4, #352]
 113:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 1463              		.loc 1 113 27 view .LVU520
 1464 001c 30EE670A 		vsub.f32	s0, s0, s15
 1465              	.LVL79:
 113:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 1466              		.loc 1 113 22 view .LVU521
 1467 0020 84ED5B0A 		vstr.32	s0, [r4, #364]
 114:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 1468              		.loc 1 114 5 is_stmt 1 view .LVU522
 114:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 44


 1469              		.loc 1 114 46 is_stmt 0 view .LVU523
 1470 0024 D4ED597A 		vldr.32	s15, [r4, #356]
 114:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 1471              		.loc 1 114 27 view .LVU524
 1472 0028 70EEE70A 		vsub.f32	s1, s1, s15
 1473              	.LVL80:
 114:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 1474              		.loc 1 114 22 view .LVU525
 1475 002c C4ED5C0A 		vstr.32	s1, [r4, #368]
 115:moudels/algorithm/QuaternionEKF.c **** 
 1476              		.loc 1 115 5 is_stmt 1 view .LVU526
 115:moudels/algorithm/QuaternionEKF.c **** 
 1477              		.loc 1 115 46 is_stmt 0 view .LVU527
 1478 0030 D4ED5A7A 		vldr.32	s15, [r4, #360]
 115:moudels/algorithm/QuaternionEKF.c **** 
 1479              		.loc 1 115 27 view .LVU528
 1480 0034 31EE671A 		vsub.f32	s2, s2, s15
 1481              	.LVL81:
 115:moudels/algorithm/QuaternionEKF.c **** 
 1482              		.loc 1 115 22 view .LVU529
 1483 0038 84ED5D1A 		vstr.32	s2, [r4, #372]
 118:moudels/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1484              		.loc 1 118 5 is_stmt 1 view .LVU530
 118:moudels/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1485              		.loc 1 118 21 is_stmt 0 view .LVU531
 1486 003c F6EE007A 		vmov.f32	s15, #5.0e-1
 1487 0040 20EE270A 		vmul.f32	s0, s0, s15
 118:moudels/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1488              		.loc 1 118 40 view .LVU532
 1489 0044 20EE039A 		vmul.f32	s18, s0, s6
 118:moudels/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1490              		.loc 1 118 14 view .LVU533
 1491 0048 734B     		ldr	r3, .L93+4
 1492 004a 83ED009A 		vstr.32	s18, [r3]
 119:moudels/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1493              		.loc 1 119 5 is_stmt 1 view .LVU534
 119:moudels/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1494              		.loc 1 119 21 is_stmt 0 view .LVU535
 1495 004e 60EEA70A 		vmul.f32	s1, s1, s15
 119:moudels/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1496              		.loc 1 119 40 view .LVU536
 1497 0052 20EE838A 		vmul.f32	s16, s1, s6
 119:moudels/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1498              		.loc 1 119 14 view .LVU537
 1499 0056 714B     		ldr	r3, .L93+8
 1500 0058 83ED008A 		vstr.32	s16, [r3]
 120:moudels/algorithm/QuaternionEKF.c **** 
 1501              		.loc 1 120 5 is_stmt 1 view .LVU538
 120:moudels/algorithm/QuaternionEKF.c **** 
 1502              		.loc 1 120 21 is_stmt 0 view .LVU539
 1503 005c 21EE271A 		vmul.f32	s2, s2, s15
 120:moudels/algorithm/QuaternionEKF.c **** 
 1504              		.loc 1 120 40 view .LVU540
 1505 0060 61EE038A 		vmul.f32	s17, s2, s6
 120:moudels/algorithm/QuaternionEKF.c **** 
 1506              		.loc 1 120 14 view .LVU541
 1507 0064 6E4B     		ldr	r3, .L93+12
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 45


 1508 0066 C3ED008A 		vstr.32	s17, [r3]
 124:moudels/algorithm/QuaternionEKF.c **** 
 1509              		.loc 1 124 5 is_stmt 1 view .LVU542
 1510 006a 9022     		movs	r2, #144
 1511 006c 6D49     		ldr	r1, .L93+16
 1512 006e D4F80401 		ldr	r0, [r4, #260]
 1513 0072 FFF7FEFF 		bl	memcpy
 1514              	.LVL82:
 126:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1515              		.loc 1 126 5 view .LVU543
 126:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1516              		.loc 1 126 31 is_stmt 0 view .LVU544
 1517 0076 D4F80431 		ldr	r3, [r4, #260]
 126:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1518              		.loc 1 126 44 view .LVU545
 1519 007a F1EE497A 		vneg.f32	s15, s18
 126:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1520              		.loc 1 126 42 view .LVU546
 1521 007e C3ED017A 		vstr.32	s15, [r3, #4]
 127:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1522              		.loc 1 127 5 is_stmt 1 view .LVU547
 127:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1523              		.loc 1 127 31 is_stmt 0 view .LVU548
 1524 0082 D4F80431 		ldr	r3, [r4, #260]
 127:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1525              		.loc 1 127 44 view .LVU549
 1526 0086 F1EE486A 		vneg.f32	s13, s16
 127:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1527              		.loc 1 127 42 view .LVU550
 1528 008a C3ED026A 		vstr.32	s13, [r3, #8]
 128:moudels/algorithm/QuaternionEKF.c **** 
 1529              		.loc 1 128 5 is_stmt 1 view .LVU551
 128:moudels/algorithm/QuaternionEKF.c **** 
 1530              		.loc 1 128 31 is_stmt 0 view .LVU552
 1531 008e D4F80431 		ldr	r3, [r4, #260]
 128:moudels/algorithm/QuaternionEKF.c **** 
 1532              		.loc 1 128 44 view .LVU553
 1533 0092 B1EE687A 		vneg.f32	s14, s17
 128:moudels/algorithm/QuaternionEKF.c **** 
 1534              		.loc 1 128 42 view .LVU554
 1535 0096 83ED037A 		vstr.32	s14, [r3, #12]
 130:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 1536              		.loc 1 130 5 is_stmt 1 view .LVU555
 130:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 1537              		.loc 1 130 31 is_stmt 0 view .LVU556
 1538 009a D4F80431 		ldr	r3, [r4, #260]
 130:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 1539              		.loc 1 130 42 view .LVU557
 1540 009e 83ED069A 		vstr.32	s18, [r3, #24]
 131:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 1541              		.loc 1 131 5 is_stmt 1 view .LVU558
 131:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 1542              		.loc 1 131 31 is_stmt 0 view .LVU559
 1543 00a2 D4F80431 		ldr	r3, [r4, #260]
 131:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 1544              		.loc 1 131 42 view .LVU560
 1545 00a6 C3ED088A 		vstr.32	s17, [r3, #32]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 46


 132:moudels/algorithm/QuaternionEKF.c **** 
 1546              		.loc 1 132 5 is_stmt 1 view .LVU561
 132:moudels/algorithm/QuaternionEKF.c **** 
 1547              		.loc 1 132 31 is_stmt 0 view .LVU562
 1548 00aa D4F80431 		ldr	r3, [r4, #260]
 132:moudels/algorithm/QuaternionEKF.c **** 
 1549              		.loc 1 132 42 view .LVU563
 1550 00ae C3ED096A 		vstr.32	s13, [r3, #36]
 134:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 1551              		.loc 1 134 5 is_stmt 1 view .LVU564
 134:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 1552              		.loc 1 134 31 is_stmt 0 view .LVU565
 1553 00b2 D4F80431 		ldr	r3, [r4, #260]
 134:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 1554              		.loc 1 134 43 view .LVU566
 1555 00b6 83ED0C8A 		vstr.32	s16, [r3, #48]
 135:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 1556              		.loc 1 135 5 is_stmt 1 view .LVU567
 135:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 1557              		.loc 1 135 31 is_stmt 0 view .LVU568
 1558 00ba D4F80431 		ldr	r3, [r4, #260]
 135:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 1559              		.loc 1 135 43 view .LVU569
 1560 00be 83ED0D7A 		vstr.32	s14, [r3, #52]
 136:moudels/algorithm/QuaternionEKF.c **** 
 1561              		.loc 1 136 5 is_stmt 1 view .LVU570
 136:moudels/algorithm/QuaternionEKF.c **** 
 1562              		.loc 1 136 31 is_stmt 0 view .LVU571
 1563 00c2 D4F80431 		ldr	r3, [r4, #260]
 136:moudels/algorithm/QuaternionEKF.c **** 
 1564              		.loc 1 136 43 view .LVU572
 1565 00c6 83ED0F9A 		vstr.32	s18, [r3, #60]
 138:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 1566              		.loc 1 138 5 is_stmt 1 view .LVU573
 138:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 1567              		.loc 1 138 31 is_stmt 0 view .LVU574
 1568 00ca D4F80431 		ldr	r3, [r4, #260]
 138:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 1569              		.loc 1 138 43 view .LVU575
 1570 00ce C3ED128A 		vstr.32	s17, [r3, #72]
 139:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 1571              		.loc 1 139 5 is_stmt 1 view .LVU576
 139:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 1572              		.loc 1 139 31 is_stmt 0 view .LVU577
 1573 00d2 D4F80431 		ldr	r3, [r4, #260]
 139:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 1574              		.loc 1 139 43 view .LVU578
 1575 00d6 83ED138A 		vstr.32	s16, [r3, #76]
 140:moudels/algorithm/QuaternionEKF.c **** 
 1576              		.loc 1 140 5 is_stmt 1 view .LVU579
 140:moudels/algorithm/QuaternionEKF.c **** 
 1577              		.loc 1 140 31 is_stmt 0 view .LVU580
 1578 00da D4F80431 		ldr	r3, [r4, #260]
 140:moudels/algorithm/QuaternionEKF.c **** 
 1579              		.loc 1 140 43 view .LVU581
 1580 00de C3ED147A 		vstr.32	s15, [r3, #80]
 143:moudels/algorithm/QuaternionEKF.c ****     {
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 47


 1581              		.loc 1 143 5 is_stmt 1 view .LVU582
 143:moudels/algorithm/QuaternionEKF.c ****     {
 1582              		.loc 1 143 17 is_stmt 0 view .LVU583
 1583 00e2 D4F84831 		ldr	r3, [r4, #328]
 1584 00e6 D4F84C21 		ldr	r2, [r4, #332]
 143:moudels/algorithm/QuaternionEKF.c ****     {
 1585              		.loc 1 143 8 view .LVU584
 1586 00ea 1343     		orrs	r3, r3, r2
 1587 00ec 05D1     		bne	.L74
 145:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[1] = ay;
 1588              		.loc 1 145 9 is_stmt 1 view .LVU585
 145:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[1] = ay;
 1589              		.loc 1 145 27 is_stmt 0 view .LVU586
 1590 00ee C4ED5EAA 		vstr.32	s21, [r4, #376]
 146:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[2] = az;
 1591              		.loc 1 146 9 is_stmt 1 view .LVU587
 146:moudels/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[2] = az;
 1592              		.loc 1 146 27 is_stmt 0 view .LVU588
 1593 00f2 84ED5FAA 		vstr.32	s20, [r4, #380]
 147:moudels/algorithm/QuaternionEKF.c ****     }
 1594              		.loc 1 147 9 is_stmt 1 view .LVU589
 147:moudels/algorithm/QuaternionEKF.c ****     }
 1595              		.loc 1 147 27 is_stmt 0 view .LVU590
 1596 00f6 C4ED609A 		vstr.32	s19, [r4, #384]
 1597              	.L74:
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1598              		.loc 1 149 5 is_stmt 1 view .LVU591
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1599              		.loc 1 149 39 is_stmt 0 view .LVU592
 1600 00fa 464B     		ldr	r3, .L93
 1601 00fc 93ED5E7A 		vldr.32	s14, [r3, #376]
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1602              		.loc 1 149 53 view .LVU593
 1603 0100 D3ED645A 		vldr.32	s11, [r3, #400]
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1604              		.loc 1 149 43 view .LVU594
 1605 0104 27EE257A 		vmul.f32	s14, s14, s11
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1606              		.loc 1 149 76 view .LVU595
 1607 0108 93ED6F6A 		vldr.32	s12, [r3, #444]
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1608              		.loc 1 149 80 view .LVU596
 1609 010c 75EE866A 		vadd.f32	s13, s11, s12
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1610              		.loc 1 149 65 view .LVU597
 1611 0110 C7EE267A 		vdiv.f32	s15, s14, s13
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1612              		.loc 1 149 108 view .LVU598
 1613 0114 66EE2AAA 		vmul.f32	s21, s12, s21
 1614              	.LVL83:
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1615              		.loc 1 149 122 view .LVU599
 1616 0118 8AEEA67A 		vdiv.f32	s14, s21, s13
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1617              		.loc 1 149 103 view .LVU600
 1618 011c 77EE877A 		vadd.f32	s15, s15, s14
 149:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 48


 1619              		.loc 1 149 23 view .LVU601
 1620 0120 C3ED5E7A 		vstr.32	s15, [r3, #376]
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1621              		.loc 1 150 5 is_stmt 1 view .LVU602
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1622              		.loc 1 150 39 is_stmt 0 view .LVU603
 1623 0124 93ED5F5A 		vldr.32	s10, [r3, #380]
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1624              		.loc 1 150 43 view .LVU604
 1625 0128 25EE855A 		vmul.f32	s10, s11, s10
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1626              		.loc 1 150 65 view .LVU605
 1627 012c 85EE267A 		vdiv.f32	s14, s10, s13
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1628              		.loc 1 150 108 view .LVU606
 1629 0130 26EE0AAA 		vmul.f32	s20, s12, s20
 1630              	.LVL84:
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1631              		.loc 1 150 122 view .LVU607
 1632 0134 8AEE265A 		vdiv.f32	s10, s20, s13
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1633              		.loc 1 150 103 view .LVU608
 1634 0138 37EE057A 		vadd.f32	s14, s14, s10
 150:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1635              		.loc 1 150 23 view .LVU609
 1636 013c 83ED5F7A 		vstr.32	s14, [r3, #380]
 151:moudels/algorithm/QuaternionEKF.c **** 
 1637              		.loc 1 151 5 is_stmt 1 view .LVU610
 151:moudels/algorithm/QuaternionEKF.c **** 
 1638              		.loc 1 151 39 is_stmt 0 view .LVU611
 1639 0140 93ED605A 		vldr.32	s10, [r3, #384]
 151:moudels/algorithm/QuaternionEKF.c **** 
 1640              		.loc 1 151 43 view .LVU612
 1641 0144 65EE855A 		vmul.f32	s11, s11, s10
 151:moudels/algorithm/QuaternionEKF.c **** 
 1642              		.loc 1 151 65 view .LVU613
 1643 0148 85EEA60A 		vdiv.f32	s0, s11, s13
 151:moudels/algorithm/QuaternionEKF.c **** 
 1644              		.loc 1 151 108 view .LVU614
 1645 014c 26EE296A 		vmul.f32	s12, s12, s19
 151:moudels/algorithm/QuaternionEKF.c **** 
 1646              		.loc 1 151 122 view .LVU615
 1647 0150 C6EE265A 		vdiv.f32	s11, s12, s13
 151:moudels/algorithm/QuaternionEKF.c **** 
 1648              		.loc 1 151 103 view .LVU616
 1649 0154 30EE250A 		vadd.f32	s0, s0, s11
 151:moudels/algorithm/QuaternionEKF.c **** 
 1650              		.loc 1 151 23 view .LVU617
 1651 0158 83ED600A 		vstr.32	s0, [r3, #384]
 154:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1652              		.loc 1 154 5 is_stmt 1 view .LVU618
 154:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1653              		.loc 1 154 46 is_stmt 0 view .LVU619
 1654 015c 67EEA77A 		vmul.f32	s15, s15, s15
 154:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1655              		.loc 1 154 86 view .LVU620
 1656 0160 27EE077A 		vmul.f32	s14, s14, s14
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 49


 154:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1657              		.loc 1 154 66 view .LVU621
 1658 0164 77EE877A 		vadd.f32	s15, s15, s14
 154:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1659              		.loc 1 154 126 view .LVU622
 1660 0168 20EE000A 		vmul.f32	s0, s0, s0
 154:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1661              		.loc 1 154 20 view .LVU623
 1662 016c 37EE800A 		vadd.f32	s0, s15, s0
 1663 0170 FFF7FEFF 		bl	invSqrt
 1664              	.LVL85:
 1665 0174 B0EE408A 		vmov.f32	s16, s0
 154:moudels/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1666              		.loc 1 154 18 discriminator 1 view .LVU624
 1667 0178 2B4B     		ldr	r3, .L93+20
 1668 017a 83ED000A 		vstr.32	s0, [r3]
 155:moudels/algorithm/QuaternionEKF.c ****     {
 1669              		.loc 1 155 5 is_stmt 1 view .LVU625
 1670              	.LBB9:
 155:moudels/algorithm/QuaternionEKF.c ****     {
 1671              		.loc 1 155 10 view .LVU626
 1672              	.LVL86:
 155:moudels/algorithm/QuaternionEKF.c ****     {
 1673              		.loc 1 155 18 is_stmt 0 view .LVU627
 1674 017e 0023     		movs	r3, #0
 155:moudels/algorithm/QuaternionEKF.c ****     {
 1675              		.loc 1 155 5 view .LVU628
 1676 0180 0FE0     		b	.L75
 1677              	.LVL87:
 1678              	.L76:
 157:moudels/algorithm/QuaternionEKF.c ****     }
 1679              		.loc 1 157 9 is_stmt 1 view .LVU629
 157:moudels/algorithm/QuaternionEKF.c ****     }
 1680              		.loc 1 157 70 is_stmt 0 view .LVU630
 1681 0182 2449     		ldr	r1, .L93
 1682 0184 03F15E02 		add	r2, r3, #94
 1683 0188 01EB8202 		add	r2, r1, r2, lsl #2
 1684 018c D2ED007A 		vldr.32	s15, [r2]
 157:moudels/algorithm/QuaternionEKF.c ****     }
 1685              		.loc 1 157 35 view .LVU631
 1686 0190 8A68     		ldr	r2, [r1, #8]
 157:moudels/algorithm/QuaternionEKF.c ****     }
 1687              		.loc 1 157 50 view .LVU632
 1688 0192 02EB8302 		add	r2, r2, r3, lsl #2
 157:moudels/algorithm/QuaternionEKF.c ****     }
 1689              		.loc 1 157 74 view .LVU633
 1690 0196 68EE277A 		vmul.f32	s15, s16, s15
 157:moudels/algorithm/QuaternionEKF.c ****     }
 1691              		.loc 1 157 54 view .LVU634
 1692 019a C2ED007A 		vstr.32	s15, [r2]
 155:moudels/algorithm/QuaternionEKF.c ****     {
 1693              		.loc 1 155 32 is_stmt 1 discriminator 3 view .LVU635
 1694 019e 0133     		adds	r3, r3, #1
 1695              	.LVL88:
 155:moudels/algorithm/QuaternionEKF.c ****     {
 1696              		.loc 1 155 32 is_stmt 0 discriminator 3 view .LVU636
 1697 01a0 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 50


 1698              	.LVL89:
 1699              	.L75:
 155:moudels/algorithm/QuaternionEKF.c ****     {
 1700              		.loc 1 155 27 is_stmt 1 discriminator 1 view .LVU637
 1701 01a2 022B     		cmp	r3, #2
 1702 01a4 EDD9     		bls	.L76
 1703              	.LBE9:
 161:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1704              		.loc 1 161 5 view .LVU638
 161:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1705              		.loc 1 161 54 is_stmt 0 view .LVU639
 1706 01a6 1B4C     		ldr	r4, .L93
 1707 01a8 94ED5B0A 		vldr.32	s0, [r4, #364]
 161:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1708              		.loc 1 161 58 view .LVU640
 1709 01ac 20EE000A 		vmul.f32	s0, s0, s0
 162:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[2] * QEKF_INS.Gyro[2]);
 1710              		.loc 1 162 54 view .LVU641
 1711 01b0 D4ED5C7A 		vldr.32	s15, [r4, #368]
 162:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[2] * QEKF_INS.Gyro[2]);
 1712              		.loc 1 162 58 view .LVU642
 1713 01b4 67EEA77A 		vmul.f32	s15, s15, s15
 161:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1714              		.loc 1 161 77 view .LVU643
 1715 01b8 70EE277A 		vadd.f32	s15, s0, s15
 163:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.accl_norm = 1.0f / accelInvNorm;
 1716              		.loc 1 163 54 view .LVU644
 1717 01bc 94ED5D0A 		vldr.32	s0, [r4, #372]
 163:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.accl_norm = 1.0f / accelInvNorm;
 1718              		.loc 1 163 58 view .LVU645
 1719 01c0 20EE000A 		vmul.f32	s0, s0, s0
 161:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1720              		.loc 1 161 33 view .LVU646
 1721 01c4 37EE800A 		vadd.f32	s0, s15, s0
 1722 01c8 FFF7FEFF 		bl	invSqrt
 1723              	.LVL90:
 161:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1724              		.loc 1 161 31 discriminator 1 view .LVU647
 1725 01cc B7EE007A 		vmov.f32	s14, #1.0e+0
 1726 01d0 C7EE007A 		vdiv.f32	s15, s14, s0
 161:moudels/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1727              		.loc 1 161 24 discriminator 1 view .LVU648
 1728 01d4 C4ED657A 		vstr.32	s15, [r4, #404]
 164:moudels/algorithm/QuaternionEKF.c **** 
 1729              		.loc 1 164 5 is_stmt 1 view .LVU649
 164:moudels/algorithm/QuaternionEKF.c **** 
 1730              		.loc 1 164 31 is_stmt 0 view .LVU650
 1731 01d8 C7EE086A 		vdiv.f32	s13, s14, s16
 164:moudels/algorithm/QuaternionEKF.c **** 
 1732              		.loc 1 164 24 view .LVU651
 1733 01dc C4ED666A 		vstr.32	s13, [r4, #408]
 168:moudels/algorithm/QuaternionEKF.c ****     {
 1734              		.loc 1 168 5 is_stmt 1 view .LVU652
 168:moudels/algorithm/QuaternionEKF.c ****     {
 1735              		.loc 1 168 8 is_stmt 0 view .LVU653
 1736 01e0 9FED127A 		vldr.32	s14, .L93+24
 1737 01e4 F4EEC77A 		vcmpe.f32	s15, s14
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 51


 1738 01e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1739 01ec 24D5     		bpl	.L77
 168:moudels/algorithm/QuaternionEKF.c ****     {
 1740              		.loc 1 168 35 discriminator 1 view .LVU654
 1741 01ee DFED107A 		vldr.32	s15, .L93+28
 1742 01f2 F4EEE76A 		vcmpe.f32	s13, s15
 1743 01f6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1744 01fa 1DDD     		ble	.L77
 168:moudels/algorithm/QuaternionEKF.c ****     {
 1745              		.loc 1 168 71 discriminator 2 view .LVU655
 1746 01fc DFED0D7A 		vldr.32	s15, .L93+32
 1747 0200 F4EEE76A 		vcmpe.f32	s13, s15
 1748 0204 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1749 0208 16D5     		bpl	.L77
 170:moudels/algorithm/QuaternionEKF.c ****     }
 1750              		.loc 1 170 9 is_stmt 1 view .LVU656
 170:moudels/algorithm/QuaternionEKF.c ****     }
 1751              		.loc 1 170 29 is_stmt 0 view .LVU657
 1752 020a 0122     		movs	r2, #1
 1753 020c 84F83921 		strb	r2, [r4, #313]
 1754 0210 16E0     		b	.L81
 1755              	.L94:
 1756 0212 00BF     		.align	2
 1757              	.L93:
 1758 0214 00000000 		.word	QEKF_INS
 1759 0218 00000000 		.word	halfgxdt.3
 1760 021c 00000000 		.word	halfgydt.2
 1761 0220 00000000 		.word	halfgzdt.1
 1762 0224 00000000 		.word	IMU_QuaternionEKF_F
 1763 0228 00000000 		.word	accelInvNorm.0
 1764 022c 9A99993E 		.word	1050253722
 1765 0230 CDCC1441 		.word	1091882189
 1766 0234 CDCC2441 		.word	1092930765
 1767              	.L77:
 174:moudels/algorithm/QuaternionEKF.c ****     }
 1768              		.loc 1 174 9 is_stmt 1 view .LVU658
 174:moudels/algorithm/QuaternionEKF.c ****     }
 1769              		.loc 1 174 29 is_stmt 0 view .LVU659
 1770 0238 744B     		ldr	r3, .L95
 1771 023a 0022     		movs	r2, #0
 1772 023c 83F83921 		strb	r2, [r3, #313]
 1773              	.L81:
 178:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1774              		.loc 1 178 5 is_stmt 1 view .LVU660
 178:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1775              		.loc 1 178 52 is_stmt 0 view .LVU661
 1776 0240 724C     		ldr	r4, .L95
 1777 0242 D4ED6C7A 		vldr.32	s15, [r4, #432]
 178:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1778              		.loc 1 178 66 view .LVU662
 1779 0246 94ED6F7A 		vldr.32	s14, [r4, #444]
 178:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1780              		.loc 1 178 31 view .LVU663
 1781 024a D4F81831 		ldr	r3, [r4, #280]
 178:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1782              		.loc 1 178 56 view .LVU664
 1783 024e 67EE877A 		vmul.f32	s15, s15, s14
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 52


 178:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1784              		.loc 1 178 42 view .LVU665
 1785 0252 C3ED007A 		vstr.32	s15, [r3]
 179:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1786              		.loc 1 179 5 is_stmt 1 view .LVU666
 179:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1787              		.loc 1 179 52 is_stmt 0 view .LVU667
 1788 0256 D4ED6C7A 		vldr.32	s15, [r4, #432]
 179:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1789              		.loc 1 179 66 view .LVU668
 1790 025a 94ED6F7A 		vldr.32	s14, [r4, #444]
 179:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1791              		.loc 1 179 31 view .LVU669
 1792 025e D4F81831 		ldr	r3, [r4, #280]
 179:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1793              		.loc 1 179 56 view .LVU670
 1794 0262 67EE877A 		vmul.f32	s15, s15, s14
 179:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1795              		.loc 1 179 42 view .LVU671
 1796 0266 C3ED077A 		vstr.32	s15, [r3, #28]
 180:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1797              		.loc 1 180 5 is_stmt 1 view .LVU672
 180:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1798              		.loc 1 180 53 is_stmt 0 view .LVU673
 1799 026a D4ED6C7A 		vldr.32	s15, [r4, #432]
 180:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1800              		.loc 1 180 67 view .LVU674
 1801 026e 94ED6F7A 		vldr.32	s14, [r4, #444]
 180:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1802              		.loc 1 180 31 view .LVU675
 1803 0272 D4F81831 		ldr	r3, [r4, #280]
 180:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1804              		.loc 1 180 57 view .LVU676
 1805 0276 67EE877A 		vmul.f32	s15, s15, s14
 180:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1806              		.loc 1 180 43 view .LVU677
 1807 027a C3ED0E7A 		vstr.32	s15, [r3, #56]
 181:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1808              		.loc 1 181 5 is_stmt 1 view .LVU678
 181:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1809              		.loc 1 181 53 is_stmt 0 view .LVU679
 1810 027e D4ED6C7A 		vldr.32	s15, [r4, #432]
 181:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1811              		.loc 1 181 67 view .LVU680
 1812 0282 94ED6F7A 		vldr.32	s14, [r4, #444]
 181:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1813              		.loc 1 181 31 view .LVU681
 1814 0286 D4F81831 		ldr	r3, [r4, #280]
 181:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1815              		.loc 1 181 57 view .LVU682
 1816 028a 67EE877A 		vmul.f32	s15, s15, s14
 181:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1817              		.loc 1 181 43 view .LVU683
 1818 028e C3ED157A 		vstr.32	s15, [r3, #84]
 182:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1819              		.loc 1 182 5 is_stmt 1 view .LVU684
 182:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 53


 1820              		.loc 1 182 53 is_stmt 0 view .LVU685
 1821 0292 D4ED6D7A 		vldr.32	s15, [r4, #436]
 182:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1822              		.loc 1 182 67 view .LVU686
 1823 0296 94ED6F7A 		vldr.32	s14, [r4, #444]
 182:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1824              		.loc 1 182 31 view .LVU687
 1825 029a D4F81831 		ldr	r3, [r4, #280]
 182:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1826              		.loc 1 182 57 view .LVU688
 1827 029e 67EE877A 		vmul.f32	s15, s15, s14
 182:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1828              		.loc 1 182 43 view .LVU689
 1829 02a2 C3ED1C7A 		vstr.32	s15, [r3, #112]
 183:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1830              		.loc 1 183 5 is_stmt 1 view .LVU690
 183:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1831              		.loc 1 183 53 is_stmt 0 view .LVU691
 1832 02a6 D4ED6D7A 		vldr.32	s15, [r4, #436]
 183:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1833              		.loc 1 183 67 view .LVU692
 1834 02aa 94ED6F7A 		vldr.32	s14, [r4, #444]
 183:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1835              		.loc 1 183 31 view .LVU693
 1836 02ae D4F81831 		ldr	r3, [r4, #280]
 183:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1837              		.loc 1 183 57 view .LVU694
 1838 02b2 67EE877A 		vmul.f32	s15, s15, s14
 183:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1839              		.loc 1 183 43 view .LVU695
 1840 02b6 C3ED237A 		vstr.32	s15, [r3, #140]
 184:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1841              		.loc 1 184 5 is_stmt 1 view .LVU696
 184:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1842              		.loc 1 184 31 is_stmt 0 view .LVU697
 1843 02ba D4F81C21 		ldr	r2, [r4, #284]
 184:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1844              		.loc 1 184 52 view .LVU698
 1845 02be D4F8B831 		ldr	r3, [r4, #440]	@ float
 184:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1846              		.loc 1 184 42 view .LVU699
 1847 02c2 1360     		str	r3, [r2]	@ float
 185:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
 1848              		.loc 1 185 5 is_stmt 1 view .LVU700
 185:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
 1849              		.loc 1 185 31 is_stmt 0 view .LVU701
 1850 02c4 D4F81C21 		ldr	r2, [r4, #284]
 185:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
 1851              		.loc 1 185 42 view .LVU702
 1852 02c8 1361     		str	r3, [r2, #16]	@ float
 186:moudels/algorithm/QuaternionEKF.c **** 
 1853              		.loc 1 186 5 is_stmt 1 view .LVU703
 186:moudels/algorithm/QuaternionEKF.c **** 
 1854              		.loc 1 186 31 is_stmt 0 view .LVU704
 1855 02ca D4F81C31 		ldr	r3, [r4, #284]
 186:moudels/algorithm/QuaternionEKF.c **** 
 1856              		.loc 1 186 52 view .LVU705
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 54


 1857 02ce D4F8B821 		ldr	r2, [r4, #440]	@ float
 186:moudels/algorithm/QuaternionEKF.c **** 
 1858              		.loc 1 186 42 view .LVU706
 1859 02d2 1A62     		str	r2, [r3, #32]	@ float
 189:moudels/algorithm/QuaternionEKF.c **** 
 1860              		.loc 1 189 5 is_stmt 1 view .LVU707
 1861 02d4 201D     		adds	r0, r4, #4
 1862 02d6 FFF7FEFF 		bl	Kalman_Filter_Update
 1863              	.LVL91:
 192:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1864              		.loc 1 192 5 view .LVU708
 192:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1865              		.loc 1 192 47 is_stmt 0 view .LVU709
 1866 02da 6368     		ldr	r3, [r4, #4]
 192:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1867              		.loc 1 192 61 view .LVU710
 1868 02dc D3ED008A 		vldr.32	s17, [r3]
 192:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1869              		.loc 1 192 19 view .LVU711
 1870 02e0 C4ED548A 		vstr.32	s17, [r4, #336]
 193:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[2] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[2];
 1871              		.loc 1 193 5 is_stmt 1 view .LVU712
 193:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[2] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[2];
 1872              		.loc 1 193 19 is_stmt 0 view .LVU713
 1873 02e4 93ED018A 		vldr.32	s16, [r3, #4]
 1874 02e8 84ED558A 		vstr.32	s16, [r4, #340]
 194:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[3] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[3];
 1875              		.loc 1 194 5 is_stmt 1 view .LVU714
 194:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.q[3] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[3];
 1876              		.loc 1 194 19 is_stmt 0 view .LVU715
 1877 02ec D3ED02AA 		vldr.32	s21, [r3, #8]
 1878 02f0 C4ED56AA 		vstr.32	s21, [r4, #344]
 195:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[4];
 1879              		.loc 1 195 5 is_stmt 1 view .LVU716
 195:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[4];
 1880              		.loc 1 195 19 is_stmt 0 view .LVU717
 1881 02f4 93ED03AA 		vldr.32	s20, [r3, #12]
 1882 02f8 84ED57AA 		vstr.32	s20, [r4, #348]
 196:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[5];
 1883              		.loc 1 196 5 is_stmt 1 view .LVU718
 196:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[5];
 1884              		.loc 1 196 26 is_stmt 0 view .LVU719
 1885 02fc 1A69     		ldr	r2, [r3, #16]	@ float
 1886 02fe C4F86021 		str	r2, [r4, #352]	@ float
 197:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[2] = 0; // å¤§éƒ¨åˆ†æ—¶å€™zè½´é€šå¤©,æ— æ³•è§‚æµ‹yawçš„æ¼‚ç§»
 1887              		.loc 1 197 5 is_stmt 1 view .LVU720
 197:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[2] = 0; // å¤§éƒ¨åˆ†æ—¶å€™zè½´é€šå¤©,æ— æ³•è§‚æµ‹yawçš„æ¼‚ç§»
 1888              		.loc 1 197 26 is_stmt 0 view .LVU721
 1889 0302 5B69     		ldr	r3, [r3, #20]	@ float
 1890 0304 C4F86431 		str	r3, [r4, #356]	@ float
 198:moudels/algorithm/QuaternionEKF.c **** 
 1891              		.loc 1 198 5 is_stmt 1 view .LVU722
 198:moudels/algorithm/QuaternionEKF.c **** 
 1892              		.loc 1 198 26 is_stmt 0 view .LVU723
 1893 0308 0023     		movs	r3, #0
 1894 030a C4F86831 		str	r3, [r4, #360]	@ float
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 55


 1895              		.loc 1 201 5 is_stmt 1 view .LVU724
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1896              		.loc 1 201 49 is_stmt 0 view .LVU725
 1897 030e 28EE8A0A 		vmul.f32	s0, s17, s20
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1898              		.loc 1 201 81 view .LVU726
 1899 0312 68EE2A7A 		vmul.f32	s15, s16, s21
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1900              		.loc 1 201 65 view .LVU727
 1901 0316 30EE270A 		vadd.f32	s0, s0, s15
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1902              		.loc 1 201 121 view .LVU728
 1903 031a 28EEA89A 		vmul.f32	s18, s17, s17
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1904              		.loc 1 201 153 view .LVU729
 1905 031e 68EE080A 		vmul.f32	s1, s16, s16
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1906              		.loc 1 201 137 view .LVU730
 1907 0322 79EE200A 		vadd.f32	s1, s18, s1
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1908              		.loc 1 201 104 view .LVU731
 1909 0326 70EEA00A 		vadd.f32	s1, s1, s1
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1910              		.loc 1 201 20 view .LVU732
 1911 032a F7EE00BA 		vmov.f32	s23, #1.0e+0
 1912 032e 70EEEB0A 		vsub.f32	s1, s1, s23
 1913 0332 30EE000A 		vadd.f32	s0, s0, s0
 1914 0336 FFF7FEFF 		bl	atan2f
 1915              	.LVL92:
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1916              		.loc 1 201 178 discriminator 1 view .LVU733
 1917 033a 9FED35BA 		vldr.32	s22, .L95+4
 1918 033e 60EE0B9A 		vmul.f32	s19, s0, s22
 1919              	.LVL93:
 201:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1920              		.loc 1 201 18 discriminator 1 view .LVU734
 1921 0342 C4ED6A9A 		vstr.32	s19, [r4, #424]
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1922              		.loc 1 202 5 is_stmt 1 view .LVU735
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1923              		.loc 1 202 51 is_stmt 0 view .LVU736
 1924 0346 28EE880A 		vmul.f32	s0, s17, s16
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1925              		.loc 1 202 83 view .LVU737
 1926 034a 6AEE8A7A 		vmul.f32	s15, s21, s20
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1927              		.loc 1 202 67 view .LVU738
 1928 034e 30EE270A 		vadd.f32	s0, s0, s15
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1929              		.loc 1 202 155 view .LVU739
 1930 0352 6AEE0A7A 		vmul.f32	s15, s20, s20
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1931              		.loc 1 202 139 view .LVU740
 1932 0356 39EE279A 		vadd.f32	s18, s18, s15
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1933              		.loc 1 202 106 view .LVU741
 1934 035a 39EE099A 		vadd.f32	s18, s18, s18
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 56


 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1935              		.loc 1 202 22 view .LVU742
 1936 035e 79EE6B0A 		vsub.f32	s1, s18, s23
 1937 0362 30EE000A 		vadd.f32	s0, s0, s0
 1938 0366 FFF7FEFF 		bl	atan2f
 1939              	.LVL94:
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1940              		.loc 1 202 180 discriminator 1 view .LVU743
 1941 036a 20EE0B0A 		vmul.f32	s0, s0, s22
 202:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1942              		.loc 1 202 20 discriminator 1 view .LVU744
 1943 036e 84ED690A 		vstr.32	s0, [r4, #420]
 203:moudels/algorithm/QuaternionEKF.c **** 
 1944              		.loc 1 203 5 is_stmt 1 view .LVU745
 203:moudels/algorithm/QuaternionEKF.c **** 
 1945              		.loc 1 203 50 is_stmt 0 view .LVU746
 1946 0372 28EE0A8A 		vmul.f32	s16, s16, s20
 203:moudels/algorithm/QuaternionEKF.c **** 
 1947              		.loc 1 203 82 view .LVU747
 1948 0376 68EEAA8A 		vmul.f32	s17, s17, s21
 203:moudels/algorithm/QuaternionEKF.c **** 
 1949              		.loc 1 203 66 view .LVU748
 1950 037a 38EE688A 		vsub.f32	s16, s16, s17
 203:moudels/algorithm/QuaternionEKF.c **** 
 1951              		.loc 1 203 21 view .LVU749
 1952 037e B8EE000A 		vmov.f32	s0, #-2.0e+0
 1953 0382 28EE000A 		vmul.f32	s0, s16, s0
 1954 0386 FFF7FEFF 		bl	asinf
 1955              	.LVL95:
 203:moudels/algorithm/QuaternionEKF.c **** 
 1956              		.loc 1 203 100 discriminator 1 view .LVU750
 1957 038a 20EE0B0A 		vmul.f32	s0, s0, s22
 203:moudels/algorithm/QuaternionEKF.c **** 
 1958              		.loc 1 203 19 discriminator 1 view .LVU751
 1959 038e 84ED680A 		vstr.32	s0, [r4, #416]
 206:moudels/algorithm/QuaternionEKF.c ****     {
 1960              		.loc 1 206 5 is_stmt 1 view .LVU752
 206:moudels/algorithm/QuaternionEKF.c ****     {
 1961              		.loc 1 206 32 is_stmt 0 view .LVU753
 1962 0392 D4ED767A 		vldr.32	s15, [r4, #472]
 206:moudels/algorithm/QuaternionEKF.c ****     {
 1963              		.loc 1 206 22 view .LVU754
 1964 0396 79EEE77A 		vsub.f32	s15, s19, s15
 206:moudels/algorithm/QuaternionEKF.c ****     {
 1965              		.loc 1 206 8 view .LVU755
 1966 039a 9FED1E7A 		vldr.32	s14, .L95+8
 1967 039e F4EEC77A 		vcmpe.f32	s15, s14
 1968 03a2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1969 03a6 23DD     		ble	.L91
 208:moudels/algorithm/QuaternionEKF.c ****     }
 1970              		.loc 1 208 9 is_stmt 1 view .LVU756
 208:moudels/algorithm/QuaternionEKF.c ****     }
 1971              		.loc 1 208 17 is_stmt 0 view .LVU757
 1972 03a8 B4F9D431 		ldrsh	r3, [r4, #468]
 208:moudels/algorithm/QuaternionEKF.c ****     }
 1973              		.loc 1 208 31 view .LVU758
 1974 03ac 013B     		subs	r3, r3, #1
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 57


 1975 03ae A4F8D431 		strh	r3, [r4, #468]	@ movhi
 1976              	.L84:
 214:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 1977              		.loc 1 214 5 is_stmt 1 view .LVU759
 214:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 1978              		.loc 1 214 47 is_stmt 0 view .LVU760
 1979 03b2 164B     		ldr	r3, .L95
 1980 03b4 B3F9D421 		ldrsh	r2, [r3, #468]
 1981 03b8 07EE902A 		vmov	s15, r2	@ int
 214:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 1982              		.loc 1 214 37 view .LVU761
 1983 03bc F8EEE77A 		vcvt.f32.s32	s15, s15
 1984 03c0 9FED157A 		vldr.32	s14, .L95+12
 1985 03c4 67EE877A 		vmul.f32	s15, s15, s14
 214:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 1986              		.loc 1 214 62 view .LVU762
 1987 03c8 79EEA77A 		vadd.f32	s15, s19, s15
 214:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 1988              		.loc 1 214 28 view .LVU763
 1989 03cc C3ED6B7A 		vstr.32	s15, [r3, #428]
 215:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount++; // åˆå§‹åŒ–ä½é€šæ»¤æ³¢ç”¨,è®¡æ•°æµ‹è¯•ç”¨
 1990              		.loc 1 215 5 is_stmt 1 view .LVU764
 215:moudels/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount++; // åˆå§‹åŒ–ä½é€šæ»¤æ³¢ç”¨,è®¡æ•°æµ‹è¯•ç”¨
 1991              		.loc 1 215 27 is_stmt 0 view .LVU765
 1992 03d0 C3ED769A 		vstr.32	s19, [r3, #472]
 216:moudels/algorithm/QuaternionEKF.c **** }
 1993              		.loc 1 216 5 is_stmt 1 view .LVU766
 216:moudels/algorithm/QuaternionEKF.c **** }
 1994              		.loc 1 216 13 is_stmt 0 view .LVU767
 1995 03d4 D3F84821 		ldr	r2, [r3, #328]
 1996 03d8 D3F84C11 		ldr	r1, [r3, #332]
 216:moudels/algorithm/QuaternionEKF.c **** }
 1997              		.loc 1 216 25 view .LVU768
 1998 03dc 0132     		adds	r2, r2, #1
 1999 03de 41F10001 		adc	r1, r1, #0
 2000 03e2 C3F84821 		str	r2, [r3, #328]
 2001 03e6 C3F84C11 		str	r1, [r3, #332]
 217:moudels/algorithm/QuaternionEKF.c **** 
 2002              		.loc 1 217 1 view .LVU769
 2003 03ea BDEC088B 		vldm	sp!, {d8-d11}
 2004              		.cfi_remember_state
 2005              		.cfi_restore 86
 2006              		.cfi_restore 87
 2007              		.cfi_restore 84
 2008              		.cfi_restore 85
 2009              		.cfi_restore 82
 2010              		.cfi_restore 83
 2011              		.cfi_restore 80
 2012              		.cfi_restore 81
 2013              		.cfi_def_cfa_offset 8
 2014 03ee 10BD     		pop	{r4, pc}
 2015              	.L91:
 2016              		.cfi_restore_state
 210:moudels/algorithm/QuaternionEKF.c ****     {
 2017              		.loc 1 210 10 is_stmt 1 view .LVU770
 210:moudels/algorithm/QuaternionEKF.c ****     {
 2018              		.loc 1 210 13 is_stmt 0 view .LVU771
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 58


 2019 03f0 9FED0A7A 		vldr.32	s14, .L95+16
 2020 03f4 F4EEC77A 		vcmpe.f32	s15, s14
 2021 03f8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2022 03fc D9D5     		bpl	.L84
 212:moudels/algorithm/QuaternionEKF.c ****     }
 2023              		.loc 1 212 9 is_stmt 1 view .LVU772
 212:moudels/algorithm/QuaternionEKF.c ****     }
 2024              		.loc 1 212 17 is_stmt 0 view .LVU773
 2025 03fe 034A     		ldr	r2, .L95
 2026 0400 B2F9D431 		ldrsh	r3, [r2, #468]
 212:moudels/algorithm/QuaternionEKF.c ****     }
 2027              		.loc 1 212 31 view .LVU774
 2028 0404 0133     		adds	r3, r3, #1
 2029 0406 A2F8D431 		strh	r3, [r2, #468]	@ movhi
 2030 040a D2E7     		b	.L84
 2031              	.L96:
 2032              		.align	2
 2033              	.L95:
 2034 040c 00000000 		.word	QEKF_INS
 2035 0410 E12E6542 		.word	1113927393
 2036 0414 00003443 		.word	1127481344
 2037 0418 0000B443 		.word	1135869952
 2038 041c 000034C3 		.word	-1020002304
 2039              		.cfi_endproc
 2040              	.LFE168:
 2042              		.section	.bss.accelInvNorm.0,"aw",%nobits
 2043              		.align	2
 2046              	accelInvNorm.0:
 2047 0000 00000000 		.space	4
 2048              		.section	.bss.halfgzdt.1,"aw",%nobits
 2049              		.align	2
 2052              	halfgzdt.1:
 2053 0000 00000000 		.space	4
 2054              		.section	.bss.halfgydt.2,"aw",%nobits
 2055              		.align	2
 2058              	halfgydt.2:
 2059 0000 00000000 		.space	4
 2060              		.section	.bss.halfgxdt.3,"aw",%nobits
 2061              		.align	2
 2064              	halfgxdt.3:
 2065 0000 00000000 		.space	4
 2066              		.section	.bss.qInvNorm.4,"aw",%nobits
 2067              		.align	2
 2070              	qInvNorm.4:
 2071 0000 00000000 		.space	4
 2072              		.section	.bss.q3.5,"aw",%nobits
 2073              		.align	2
 2076              	q3.5:
 2077 0000 00000000 		.space	4
 2078              		.section	.bss.q2.6,"aw",%nobits
 2079              		.align	2
 2082              	q2.6:
 2083 0000 00000000 		.space	4
 2084              		.section	.bss.q1.7,"aw",%nobits
 2085              		.align	2
 2088              	q1.7:
 2089 0000 00000000 		.space	4
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 59


 2090              		.section	.bss.q0.8,"aw",%nobits
 2091              		.align	2
 2094              	q0.8:
 2095 0000 00000000 		.space	4
 2096              		.section	.bss.doubleq3.9,"aw",%nobits
 2097              		.align	2
 2100              	doubleq3.9:
 2101 0000 00000000 		.space	4
 2102              		.section	.bss.doubleq2.10,"aw",%nobits
 2103              		.align	2
 2106              	doubleq2.10:
 2107 0000 00000000 		.space	4
 2108              		.section	.bss.doubleq1.11,"aw",%nobits
 2109              		.align	2
 2112              	doubleq1.11:
 2113 0000 00000000 		.space	4
 2114              		.section	.bss.doubleq0.12,"aw",%nobits
 2115              		.align	2
 2118              	doubleq0.12:
 2119 0000 00000000 		.space	4
 2120              		.section	.bss.q3.13,"aw",%nobits
 2121              		.align	2
 2124              	q3.13:
 2125 0000 00000000 		.space	4
 2126              		.section	.bss.q2.14,"aw",%nobits
 2127              		.align	2
 2130              	q2.14:
 2131 0000 00000000 		.space	4
 2132              		.section	.bss.q1.15,"aw",%nobits
 2133              		.align	2
 2136              	q1.15:
 2137 0000 00000000 		.space	4
 2138              		.section	.bss.q0.16,"aw",%nobits
 2139              		.align	2
 2142              	q0.16:
 2143 0000 00000000 		.space	4
 2144              		.global	IMU_QuaternionEKF_H
 2145              		.section	.bss.IMU_QuaternionEKF_H,"aw",%nobits
 2146              		.align	2
 2149              	IMU_QuaternionEKF_H:
 2150 0000 00000000 		.space	72
 2150      00000000 
 2150      00000000 
 2150      00000000 
 2150      00000000 
 2151              		.global	IMU_QuaternionEKF_K
 2152              		.section	.bss.IMU_QuaternionEKF_K,"aw",%nobits
 2153              		.align	2
 2156              	IMU_QuaternionEKF_K:
 2157 0000 00000000 		.space	72
 2157      00000000 
 2157      00000000 
 2157      00000000 
 2157      00000000 
 2158              		.global	IMU_QuaternionEKF_P
 2159              		.section	.data.IMU_QuaternionEKF_P,"aw"
 2160              		.align	2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 60


 2163              	IMU_QuaternionEKF_P:
 2164 0000 0050C347 		.word	1203982336
 2165 0004 CDCCCC3D 		.word	1036831949
 2166 0008 CDCCCC3D 		.word	1036831949
 2167 000c CDCCCC3D 		.word	1036831949
 2168 0010 CDCCCC3D 		.word	1036831949
 2169 0014 CDCCCC3D 		.word	1036831949
 2170 0018 CDCCCC3D 		.word	1036831949
 2171 001c 0050C347 		.word	1203982336
 2172 0020 CDCCCC3D 		.word	1036831949
 2173 0024 CDCCCC3D 		.word	1036831949
 2174 0028 CDCCCC3D 		.word	1036831949
 2175 002c CDCCCC3D 		.word	1036831949
 2176 0030 CDCCCC3D 		.word	1036831949
 2177 0034 CDCCCC3D 		.word	1036831949
 2178 0038 0050C347 		.word	1203982336
 2179 003c CDCCCC3D 		.word	1036831949
 2180 0040 CDCCCC3D 		.word	1036831949
 2181 0044 CDCCCC3D 		.word	1036831949
 2182 0048 CDCCCC3D 		.word	1036831949
 2183 004c CDCCCC3D 		.word	1036831949
 2184 0050 CDCCCC3D 		.word	1036831949
 2185 0054 0050C347 		.word	1203982336
 2186 0058 CDCCCC3D 		.word	1036831949
 2187 005c CDCCCC3D 		.word	1036831949
 2188 0060 CDCCCC3D 		.word	1036831949
 2189 0064 CDCCCC3D 		.word	1036831949
 2190 0068 CDCCCC3D 		.word	1036831949
 2191 006c CDCCCC3D 		.word	1036831949
 2192 0070 0000C842 		.word	1120403456
 2193 0074 CDCCCC3D 		.word	1036831949
 2194 0078 CDCCCC3D 		.word	1036831949
 2195 007c CDCCCC3D 		.word	1036831949
 2196 0080 CDCCCC3D 		.word	1036831949
 2197 0084 CDCCCC3D 		.word	1036831949
 2198 0088 CDCCCC3D 		.word	1036831949
 2199 008c 0000C842 		.word	1120403456
 2200              		.global	IMU_QuaternionEKF_F
 2201              		.section	.rodata.IMU_QuaternionEKF_F,"a"
 2202              		.align	2
 2205              	IMU_QuaternionEKF_F:
 2206 0000 0000803F 		.word	1065353216
 2207 0004 00000000 		.word	0
 2208 0008 00000000 		.word	0
 2209 000c 00000000 		.word	0
 2210 0010 00000000 		.word	0
 2211 0014 00000000 		.word	0
 2212 0018 00000000 		.word	0
 2213 001c 0000803F 		.word	1065353216
 2214 0020 00000000 		.word	0
 2215 0024 00000000 		.word	0
 2216 0028 00000000 		.word	0
 2217 002c 00000000 		.word	0
 2218 0030 00000000 		.word	0
 2219 0034 00000000 		.word	0
 2220 0038 0000803F 		.word	1065353216
 2221 003c 00000000 		.word	0
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 61


 2222 0040 00000000 		.word	0
 2223 0044 00000000 		.word	0
 2224 0048 00000000 		.word	0
 2225 004c 00000000 		.word	0
 2226 0050 00000000 		.word	0
 2227 0054 0000803F 		.word	1065353216
 2228 0058 00000000 		.word	0
 2229 005c 00000000 		.word	0
 2230 0060 00000000 		.word	0
 2231 0064 00000000 		.word	0
 2232 0068 00000000 		.word	0
 2233 006c 00000000 		.word	0
 2234 0070 0000803F 		.word	1065353216
 2235 0074 00000000 		.word	0
 2236 0078 00000000 		.word	0
 2237 007c 00000000 		.word	0
 2238 0080 00000000 		.word	0
 2239 0084 00000000 		.word	0
 2240 0088 00000000 		.word	0
 2241 008c 0000803F 		.word	1065353216
 2242              		.global	QEKF_INS
 2243              		.section	.bss.QEKF_INS,"aw",%nobits
 2244              		.align	3
 2247              	QEKF_INS:
 2248 0000 00000000 		.space	480
 2248      00000000 
 2248      00000000 
 2248      00000000 
 2248      00000000 
 2249              		.text
 2250              	.Letext0:
 2251              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 2252              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 2253              		.file 4 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 2254              		.file 5 "Middlewares/ST/ARM/DSP/Inc/arm_math.h"
 2255              		.file 6 "moudels/algorithm/kalman_filter.h"
 2256              		.file 7 "moudels/algorithm/QuaternionEKF.h"
 2257              		.file 8 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 2258              		.file 9 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 2259              		.file 10 "<built-in>"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 62


DEFINED SYMBOLS
                            *ABS*:00000000 QuaternionEKF.c
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:21     .text.invSqrt:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:26     .text.invSqrt:00000000 invSqrt
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:72     .text.invSqrt:0000002c $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:77     .text.IMU_QuaternionEKF_F_Linearization_P_Fading:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:82     .text.IMU_QuaternionEKF_F_Linearization_P_Fading:00000000 IMU_QuaternionEKF_F_Linearization_P_Fading
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:329    .text.IMU_QuaternionEKF_F_Linearization_P_Fading:00000184 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2094   .bss.q0.8:00000000 q0.8
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2088   .bss.q1.7:00000000 q1.7
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2082   .bss.q2.6:00000000 q2.6
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2076   .bss.q3.5:00000000 q3.5
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2070   .bss.qInvNorm.4:00000000 qInvNorm.4
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2247   .bss.QEKF_INS:00000000 QEKF_INS
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:340    .text.IMU_QuaternionEKF_Observe:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:345    .text.IMU_QuaternionEKF_Observe:00000000 IMU_QuaternionEKF_Observe
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:388    .text.IMU_QuaternionEKF_Observe:0000002c $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2163   .data.IMU_QuaternionEKF_P:00000000 IMU_QuaternionEKF_P
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2156   .bss.IMU_QuaternionEKF_K:00000000 IMU_QuaternionEKF_K
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2149   .bss.IMU_QuaternionEKF_H:00000000 IMU_QuaternionEKF_H
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:395    .text.IMU_QuaternionEKF_xhatUpdate:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:400    .text.IMU_QuaternionEKF_xhatUpdate:00000000 IMU_QuaternionEKF_xhatUpdate
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1009   .text.IMU_QuaternionEKF_xhatUpdate:000003b0 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2142   .bss.q0.16:00000000 q0.16
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2136   .bss.q1.15:00000000 q1.15
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2130   .bss.q2.14:00000000 q2.14
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2124   .bss.q3.13:00000000 q3.13
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1023   .text.IMU_QuaternionEKF_xhatUpdate:000003d8 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1081   .text.IMU_QuaternionEKF_xhatUpdate:00000438 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1089   .text.IMU_QuaternionEKF_SetH:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1094   .text.IMU_QuaternionEKF_SetH:00000000 IMU_QuaternionEKF_SetH
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1244   .text.IMU_QuaternionEKF_SetH:000000d0 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2118   .bss.doubleq0.12:00000000 doubleq0.12
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2112   .bss.doubleq1.11:00000000 doubleq1.11
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2106   .bss.doubleq2.10:00000000 doubleq2.10
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2100   .bss.doubleq3.9:00000000 doubleq3.9
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1253   .text.IMU_QuaternionEKF_Init:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1259   .text.IMU_QuaternionEKF_Init:00000000 IMU_QuaternionEKF_Init
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1411   .text.IMU_QuaternionEKF_Init:000000c4 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2205   .rodata.IMU_QuaternionEKF_F:00000000 IMU_QuaternionEKF_F
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1423   .text.IMU_QuaternionEKF_Update:00000000 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1429   .text.IMU_QuaternionEKF_Update:00000000 IMU_QuaternionEKF_Update
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1758   .text.IMU_QuaternionEKF_Update:00000214 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2064   .bss.halfgxdt.3:00000000 halfgxdt.3
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2058   .bss.halfgydt.2:00000000 halfgydt.2
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2052   .bss.halfgzdt.1:00000000 halfgzdt.1
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2046   .bss.accelInvNorm.0:00000000 accelInvNorm.0
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:1770   .text.IMU_QuaternionEKF_Update:00000238 $t
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2034   .text.IMU_QuaternionEKF_Update:0000040c $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2043   .bss.accelInvNorm.0:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2049   .bss.halfgzdt.1:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2055   .bss.halfgydt.2:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2061   .bss.halfgxdt.3:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2067   .bss.qInvNorm.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2073   .bss.q3.5:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2079   .bss.q2.6:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2085   .bss.q1.7:00000000 $d
ARM GAS  C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s 			page 63


C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2091   .bss.q0.8:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2097   .bss.doubleq3.9:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2103   .bss.doubleq2.10:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2109   .bss.doubleq1.11:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2115   .bss.doubleq0.12:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2121   .bss.q3.13:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2127   .bss.q2.14:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2133   .bss.q1.15:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2139   .bss.q0.16:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2146   .bss.IMU_QuaternionEKF_H:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2153   .bss.IMU_QuaternionEKF_K:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2160   .data.IMU_QuaternionEKF_P:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2202   .rodata.IMU_QuaternionEKF_F:00000000 $d
C:\Users\Sive\AppData\Local\Temp\ccvCb8xe.s:2244   .bss.QEKF_INS:00000000 $d

UNDEFINED SYMBOLS
memcpy
arm_mat_trans_f32
arm_mat_mult_f32
arm_mat_add_f32
arm_mat_inverse_f32
acosf
arm_mat_sub_f32
sizeof_float
memset
Kalman_Filter_Init
arm_mat_init_f32
Kalman_Filter_Update
atan2f
asinf
