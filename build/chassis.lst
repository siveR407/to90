ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"chassis.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "application/chassis/chassis.c"
  20              		.section	.text.MecanumCalculate,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MecanumCalculate:
  27              	.LFB168:
   1:application/chassis/chassis.c **** #include "chassis.h"
   2:application/chassis/chassis.c **** #include "robot_def.h"
   3:application/chassis/chassis.c **** #include "dji_motor.h"
   4:application/chassis/chassis.c **** #include "general_def.h"
   5:application/chassis/chassis.c **** #include "bsp_dwt.h"
   6:application/chassis/chassis.c **** #include "message_center.h"
   7:application/chassis/chassis.c **** #include "ins_task.h"
   8:application/chassis/chassis.c **** #include "arm_math.h"
   9:application/chassis/chassis.c **** #include "distance.h"
  10:application/chassis/chassis.c **** #include "MImotor.h"
  11:application/chassis/chassis.c **** /* Ê†πÊçÆrobot_def.h‰∏≠ÁöÑmacroËá™Âä®ËÆ°ÁÆóÁöÑÂèÇÊï∞ */
  12:application/chassis/chassis.c **** #define HALF_WHEEL_BASE (WHEEL_BASE / 2.0f)     // ÂçäËΩ¥Ë∑ù
  13:application/chassis/chassis.c **** #define HALF_TRACK_WIDTH (TRACK_WIDTH / 2.0f)   // ÂçäËΩÆË∑ù
  14:application/chassis/chassis.c **** #define PERIMETER_WHEEL (RADIUS_WHEEL * 2 * PI) // ËΩÆÂ≠êÂë®Èïø
  15:application/chassis/chassis.c **** 
  16:application/chassis/chassis.c **** /* ÁßÅÊúâÂáΩÊï∞ËÆ°ÁÆóÁöÑ‰∏≠‰ªãÂèòÈáè,ËÆæ‰∏∫ÈùôÊÄÅÈÅøÂÖçÂèÇÊï∞‰º†ÈÄíÁöÑÂºÄÈîÄ */
  17:application/chassis/chassis.c **** static float chassis_x, chassis_y, chassis_z; // Â∫ïÁõòÁöÑ‰ΩçÁΩÆÂíåËßíÂ∫¶
  18:application/chassis/chassis.c **** static float chassis_vx, chassis_vy,chassis_wz;     // Ëß£ÁÆóÂêéÁöÑÂ∫ïÁõòÈÄüÂ∫¶
  19:application/chassis/chassis.c **** static float vt_lf, vt_rf, vt_lb, vt_rb; // Â∫ïÁõòÈÄüÂ∫¶Ëß£ÁÆóÂêéÁöÑ‰∏¥Êó∂ËæìÂá∫,ÂæÖËøõË°åÈôêÂπÖ
  20:application/chassis/chassis.c **** #ifdef ONE_BOARD
  21:application/chassis/chassis.c **** static Publisher_t *chassis_pub;                    // Áî®‰∫éÂèëÂ∏ÉÂ∫ïÁõòÁöÑÊï∞ÊçÆ
  22:application/chassis/chassis.c **** static Subscriber_t *chassis_sub;                   // Áî®‰∫éËÆ¢ÈòÖÂ∫ïÁõòÁöÑÊéßÂà∂ÂëΩ‰ª§
  23:application/chassis/chassis.c **** #endif                                              // !ONE_BOARD
  24:application/chassis/chassis.c **** static Chassis_Ctrl_Cmd_s chassis_cmd_recv;         // Â∫ïÁõòÊé•Êî∂Âà∞ÁöÑÊéßÂà∂ÂëΩ‰ª§
  25:application/chassis/chassis.c **** static Chassis_Upload_Data_s chassis_feedback_data; // Â∫ïÁõòÂõû‰º†ÁöÑÂèçÈ¶àÊï∞ÊçÆ
  26:application/chassis/chassis.c **** // static PIDInstance chassis_angle_pid;                     // Â∫ïÁõòÁöÑPIDÊéßÂà∂Âô®
  27:application/chassis/chassis.c **** // static PIDInstance chassis_distance_pid;                      // Â∫ïÁõòÁöÑPIDÊéßÂà∂Âô®
  28:application/chassis/chassis.c **** 
  29:application/chassis/chassis.c **** static DJIMotorInstance   *motor_lb, *motor_rb; // left right forward back
  30:application/chassis/chassis.c **** static MIMotorInstance  *motor_lf,*motor_rf;
  31:application/chassis/chassis.c ****  
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 2


  32:application/chassis/chassis.c **** void ChassisInit()
  33:application/chassis/chassis.c **** {       
  34:application/chassis/chassis.c ****         //Â∫ïÁõòË∑ùÁ¶ªÁéØpidÂàùÂßãÂåñ„ÄÅ
  35:application/chassis/chassis.c ****     //----------------ÊµãËØïÂ∞èÁ±≥ÁîµÊú∫------------------
  36:application/chassis/chassis.c ****     Motor_Init_Config_s mi__motor_config = {
  37:application/chassis/chassis.c ****         .can_init_config.can_handle = &hcan1,
  38:application/chassis/chassis.c ****         .controller_param_init_config = {
  39:application/chassis/chassis.c ****             .speed_PID = {
  40:application/chassis/chassis.c ****                 .Kp = 10, // 4.5
  41:application/chassis/chassis.c ****                 .Ki = 0,  // 0
  42:application/chassis/chassis.c ****                 .Kd = 0,  // 0
  43:application/chassis/chassis.c ****                 .IntegralLimit = 3000,
  44:application/chassis/chassis.c ****                 .Improve = PID_Trapezoid_Intergral | PID_Integral_Limit | PID_Derivative_On_Measure
  45:application/chassis/chassis.c ****                 .MaxOut = 12000,
  46:application/chassis/chassis.c ****             },
  47:application/chassis/chassis.c ****             .current_PID = {
  48:application/chassis/chassis.c ****                 .Kp = 0.5, // 0.4
  49:application/chassis/chassis.c ****                 .Ki = 0,   // 0
  50:application/chassis/chassis.c ****                 .Kd = 0,
  51:application/chassis/chassis.c ****                 .IntegralLimit = 3000,
  52:application/chassis/chassis.c ****                 .Improve = PID_Trapezoid_Intergral | PID_Integral_Limit | PID_Derivative_On_Measure
  53:application/chassis/chassis.c ****                 .MaxOut = 15000,
  54:application/chassis/chassis.c ****             },
  55:application/chassis/chassis.c ****         },
  56:application/chassis/chassis.c ****         .controller_setting_init_config = {
  57:application/chassis/chassis.c ****             .ifsetflag=0,  
  58:application/chassis/chassis.c ****             .angle_feedback_source = MOTOR_FEED,
  59:application/chassis/chassis.c ****             .speed_feedback_source = MOTOR_FEED,
  60:application/chassis/chassis.c ****             .outer_loop_type = SPEED_LOOP,
  61:application/chassis/chassis.c ****             .close_loop_type =  SPEED_LOOP, 
  62:application/chassis/chassis.c ****         },
  63:application/chassis/chassis.c ****         .motor_type =  MI,
  64:application/chassis/chassis.c ****     };
  65:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_id = 1;
  66:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_ide=CAN_ID_EXT;
  67:application/chassis/chassis.c ****     mi__motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_REVERSE;
  68:application/chassis/chassis.c ****     motor_lf = MIMotorInit(&mi__motor_config);
  69:application/chassis/chassis.c **** 
  70:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_id = 2;
  71:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_ide=CAN_ID_EXT;
  72:application/chassis/chassis.c ****     mi__motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_REVERSE;
  73:application/chassis/chassis.c ****     motor_rf = MIMotorInit(&mi__motor_config);
  74:application/chassis/chassis.c ****    
  75:application/chassis/chassis.c **** #ifdef CHASSIS_BOARD
  76:application/chassis/chassis.c ****     Chassis_IMU_data = INS_Init(); // Â∫ïÁõòIMUÂàùÂßãÂåñ
  77:application/chassis/chassis.c **** 
  78:application/chassis/chassis.c ****     CANComm_Init_Config_s comm_conf = {
  79:application/chassis/chassis.c ****         .can_config = {
  80:application/chassis/chassis.c ****             .can_handle = &hcan2,
  81:application/chassis/chassis.c ****             .tx_id = 0x311, 
  82:application/chassis/chassis.c ****             .rx_id = 0x312,
  83:application/chassis/chassis.c ****         },
  84:application/chassis/chassis.c ****         .recv_data_len = sizeof(Chassis_Ctrl_Cmd_s),
  85:application/chassis/chassis.c ****         .send_data_len = sizeof(Chassis_Upload_Data_s),
  86:application/chassis/chassis.c ****     };
  87:application/chassis/chassis.c ****     chasiss_can_comm = CANCommInit(&comm_conf); // can commÂàùÂßãÂåñ
  88:application/chassis/chassis.c **** #endif                                          // CHASSIS_BOARD
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 3


  89:application/chassis/chassis.c **** 
  90:application/chassis/chassis.c **** #ifdef ONE_BOARD // ÂçïÊùøÊéßÂà∂Êï¥ËΩ¶,ÂàôÈÄöËøápubsubÊù•‰º†ÈÄíÊ∂àÊÅØ
  91:application/chassis/chassis.c ****     chassis_sub = SubRegister("chassis_cmd", sizeof(Chassis_Ctrl_Cmd_s));
  92:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
  93:application/chassis/chassis.c **** #endif // ONE_BOARD
  94:application/chassis/chassis.c **** }
  95:application/chassis/chassis.c **** #define LF_CENTER ((HALF_TRACK_WIDTH + CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE - CENTER_GIMBAL_OFF
  96:application/chassis/chassis.c **** #define RF_CENTER ((HALF_TRACK_WIDTH - CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE - CENTER_GIMBAL_OFF
  97:application/chassis/chassis.c **** #define LB_CENTER ((HALF_TRACK_WIDTH + CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE + CENTER_GIMBAL_OFF
  98:application/chassis/chassis.c **** #define RB_CENTER ((HALF_TRACK_WIDTH - CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE + CENTER_GIMBAL_OFF
  99:application/chassis/chassis.c **** /**
 100:application/chassis/chassis.c ****  * @brief ËÆ°ÁÆóÊØè‰∏™ËΩÆÊØÇÁîµÊú∫ÁöÑËæìÂá∫,Ê≠£ËøêÂä®Â≠¶Ëß£ÁÆó
 101:application/chassis/chassis.c ****  *        Áî®ÂÆèËøõË°åÈ¢ÑÊõøÊç¢ÂáèÂ∞èÂºÄÈîÄ,ËøêÂä®Ëß£ÁÆóÂÖ∑‰ΩìËøáÁ®ãÂèÇËÄÉÊïôÁ®ã
 102:application/chassis/chassis.c ****  */
 103:application/chassis/chassis.c **** static void MecanumCalculate()
 104:application/chassis/chassis.c **** {  
  28              		.loc 1 104 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 105:application/chassis/chassis.c ****     // vt_lf = -chassis_vx - chassis_vy - chassis_cmd_recv.wz * LF_CENTER;
 106:application/chassis/chassis.c ****     // vt_rf = -chassis_vx + chassis_vy - chassis_cmd_recv.wz * RF_CENTER;
 107:application/chassis/chassis.c ****     // vt_lb = chassis_vx - chassis_vy - chassis_cmd_recv.wz * LB_CENTER;
 108:application/chassis/chassis.c ****     // vt_rb = chassis_vx + chassis_vy - chassis_cmd_recv.wz * RB_CENTER;
 109:application/chassis/chassis.c ****     vt_lf = chassis_vx /100;
  33              		.loc 1 109 5 view .LVU1
  34              		.loc 1 109 24 is_stmt 0 view .LVU2
  35 0000 094B     		ldr	r3, .L2
  36 0002 D3ED007A 		vldr.32	s15, [r3]
  37 0006 DFED096A 		vldr.32	s13, .L2+4
  38 000a 87EEA67A 		vdiv.f32	s14, s15, s13
  39              		.loc 1 109 11 view .LVU3
  40 000e 084B     		ldr	r3, .L2+8
  41 0010 83ED007A 		vstr.32	s14, [r3]
 110:application/chassis/chassis.c ****     vt_rf = chassis_vx /100;
  42              		.loc 1 110 5 is_stmt 1 view .LVU4
  43              		.loc 1 110 11 is_stmt 0 view .LVU5
  44 0014 074B     		ldr	r3, .L2+12
  45 0016 83ED007A 		vstr.32	s14, [r3]
 111:application/chassis/chassis.c ****     vt_lb = chassis_vx ;
  46              		.loc 1 111 5 is_stmt 1 view .LVU6
  47              		.loc 1 111 11 is_stmt 0 view .LVU7
  48 001a 074B     		ldr	r3, .L2+16
  49 001c C3ED007A 		vstr.32	s15, [r3]
 112:application/chassis/chassis.c ****     vt_rb = chassis_vx ;
  50              		.loc 1 112 5 is_stmt 1 view .LVU8
  51              		.loc 1 112 11 is_stmt 0 view .LVU9
  52 0020 064B     		ldr	r3, .L2+20
  53 0022 C3ED007A 		vstr.32	s15, [r3]
 113:application/chassis/chassis.c **** }
  54              		.loc 1 113 1 view .LVU10
  55 0026 7047     		bx	lr
  56              	.L3:
  57              		.align	2
  58              	.L2:
  59 0028 00000000 		.word	chassis_vx
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 4


  60 002c 0000C842 		.word	1120403456
  61 0030 00000000 		.word	vt_lf
  62 0034 00000000 		.word	vt_rf
  63 0038 00000000 		.word	vt_lb
  64 003c 00000000 		.word	vt_rb
  65              		.cfi_endproc
  66              	.LFE168:
  68              		.section	.text.LimitChassisOutput,"ax",%progbits
  69              		.align	1
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  74              	LimitChassisOutput:
  75              	.LFB169:
 114:application/chassis/chassis.c **** 
 115:application/chassis/chassis.c **** /**
 116:application/chassis/chassis.c ****  * @brief Ê†πÊçÆË£ÅÂà§Á≥ªÁªüÂíåÁîµÂÆπÂâ©‰ΩôÂÆπÈáèÂØπËæìÂá∫ËøõË°åÈôêÂà∂Âπ∂ËÆæÁΩÆÁîµÊú∫ÂèÇËÄÉÂÄº
 117:application/chassis/chassis.c ****  *
 118:application/chassis/chassis.c ****  */
 119:application/chassis/chassis.c **** static void LimitChassisOutput()
 120:application/chassis/chassis.c **** {
  76              		.loc 1 120 1 is_stmt 1 view -0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80 0000 08B5     		push	{r3, lr}
  81              		.cfi_def_cfa_offset 8
  82              		.cfi_offset 3, -8
  83              		.cfi_offset 14, -4
 121:application/chassis/chassis.c ****     // ÂäüÁéáÈôêÂà∂ÂæÖÊ∑ªÂä†
 122:application/chassis/chassis.c ****     // referee_data->PowerHeatData.chassis_power;
 123:application/chassis/chassis.c ****     // referee_data->PowerHeatData.chassis_power_buffer;
 124:application/chassis/chassis.c **** 
 125:application/chassis/chassis.c ****     // ÂÆåÊàêÂäüÁéáÈôêÂà∂ÂêéËøõË°åÁîµÊú∫ÂèÇËÄÉËæìÂÖ•ËÆæÂÆö
 126:application/chassis/chassis.c ****     MIMotorSetRef(motor_lf, vt_lf);
  84              		.loc 1 126 5 view .LVU12
  85 0002 0D4B     		ldr	r3, .L6
  86 0004 93ED000A 		vldr.32	s0, [r3]
  87 0008 0C4B     		ldr	r3, .L6+4
  88 000a 1868     		ldr	r0, [r3]
  89 000c FFF7FEFF 		bl	MIMotorSetRef
  90              	.LVL0:
 127:application/chassis/chassis.c ****     MIMotorSetRef(motor_rf, vt_rf);
  91              		.loc 1 127 5 view .LVU13
  92 0010 0B4B     		ldr	r3, .L6+8
  93 0012 93ED000A 		vldr.32	s0, [r3]
  94 0016 0B4B     		ldr	r3, .L6+12
  95 0018 1868     		ldr	r0, [r3]
  96 001a FFF7FEFF 		bl	MIMotorSetRef
  97              	.LVL1:
 128:application/chassis/chassis.c ****     DJIMotorSetRef(motor_lb, vt_lb);
  98              		.loc 1 128 5 view .LVU14
  99 001e 0A4B     		ldr	r3, .L6+16
 100 0020 93ED000A 		vldr.32	s0, [r3]
 101 0024 0020     		movs	r0, #0
 102 0026 FFF7FEFF 		bl	DJIMotorSetRef
 103              	.LVL2:
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 5


 129:application/chassis/chassis.c ****     DJIMotorSetRef(motor_rb, vt_rb);
 104              		.loc 1 129 5 view .LVU15
 105 002a 084B     		ldr	r3, .L6+20
 106 002c 93ED000A 		vldr.32	s0, [r3]
 107 0030 0020     		movs	r0, #0
 108 0032 FFF7FEFF 		bl	DJIMotorSetRef
 109              	.LVL3:
 130:application/chassis/chassis.c **** }
 110              		.loc 1 130 1 is_stmt 0 view .LVU16
 111 0036 08BD     		pop	{r3, pc}
 112              	.L7:
 113              		.align	2
 114              	.L6:
 115 0038 00000000 		.word	vt_lf
 116 003c 00000000 		.word	motor_lf
 117 0040 00000000 		.word	vt_rf
 118 0044 00000000 		.word	motor_rf
 119 0048 00000000 		.word	vt_lb
 120 004c 00000000 		.word	vt_rb
 121              		.cfi_endproc
 122              	.LFE169:
 124              		.section	.rodata.ChassisInit.str1.4,"aMS",%progbits,1
 125              		.align	2
 126              	.LC0:
 127 0000 63686173 		.ascii	"chassis_cmd\000"
 127      7369735F 
 127      636D6400 
 128              		.align	2
 129              	.LC1:
 130 000c 63686173 		.ascii	"chassis_feed\000"
 130      7369735F 
 130      66656564 
 130      00
 131              		.section	.text.ChassisInit,"ax",%progbits
 132              		.align	1
 133              		.global	ChassisInit
 134              		.syntax unified
 135              		.thumb
 136              		.thumb_func
 138              	ChassisInit:
 139              	.LFB167:
  33:application/chassis/chassis.c ****         //Â∫ïÁõòË∑ùÁ¶ªÁéØpidÂàùÂßãÂåñ„ÄÅ
 140              		.loc 1 33 1 is_stmt 1 view -0
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 184
 143              		@ frame_needed = 0, uses_anonymous_args = 0
 144 0000 70B5     		push	{r4, r5, r6, lr}
 145              		.cfi_def_cfa_offset 16
 146              		.cfi_offset 4, -16
 147              		.cfi_offset 5, -12
 148              		.cfi_offset 6, -8
 149              		.cfi_offset 14, -4
 150 0002 AEB0     		sub	sp, sp, #184
 151              		.cfi_def_cfa_offset 200
  36:application/chassis/chassis.c ****         .can_init_config.can_handle = &hcan1,
 152              		.loc 1 36 5 view .LVU18
  36:application/chassis/chassis.c ****         .can_init_config.can_handle = &hcan1,
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 6


 153              		.loc 1 36 25 is_stmt 0 view .LVU19
 154 0004 B822     		movs	r2, #184
 155 0006 0021     		movs	r1, #0
 156 0008 6846     		mov	r0, sp
 157 000a FFF7FEFF 		bl	memset
 158              	.LVL4:
 159 000e 4FF07C53 		mov	r3, #1056964608
 160 0012 0493     		str	r3, [sp, #16]	@ float
 161 0014 1E4B     		ldr	r3, .L10
 162 0016 0793     		str	r3, [sp, #28]	@ float
 163 0018 0722     		movs	r2, #7
 164 001a 8DF82420 		strb	r2, [sp, #36]
 165 001e 1D4B     		ldr	r3, .L10+4
 166 0020 0A93     		str	r3, [sp, #40]	@ float
 167 0022 1D49     		ldr	r1, .L10+8
 168 0024 0F91     		str	r1, [sp, #60]	@ float
 169 0026 1D49     		ldr	r1, .L10+12
 170 0028 1291     		str	r1, [sp, #72]	@ float
 171 002a 8DF85020 		strb	r2, [sp, #80]
 172 002e 1593     		str	r3, [sp, #84]	@ float
 173 0030 0226     		movs	r6, #2
 174 0032 8DF89460 		strb	r6, [sp, #148]
 175 0036 8DF89560 		strb	r6, [sp, #149]
 176 003a 0425     		movs	r5, #4
 177 003c 8DF8A050 		strb	r5, [sp, #160]
 178 0040 174B     		ldr	r3, .L10+16
 179 0042 2993     		str	r3, [sp, #164]
  65:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_ide=CAN_ID_EXT;
 180              		.loc 1 65 5 is_stmt 1 view .LVU20
  65:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_ide=CAN_ID_EXT;
 181              		.loc 1 65 44 is_stmt 0 view .LVU21
 182 0044 0124     		movs	r4, #1
 183 0046 8DF8A940 		strb	r4, [sp, #169]
  66:application/chassis/chassis.c ****     mi__motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_REVERSE;
 184              		.loc 1 66 5 is_stmt 1 view .LVU22
  66:application/chassis/chassis.c ****     mi__motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_REVERSE;
 185              		.loc 1 66 44 is_stmt 0 view .LVU23
 186 004a 8DF8A850 		strb	r5, [sp, #168]
  67:application/chassis/chassis.c ****     motor_lf = MIMotorInit(&mi__motor_config);
 187              		.loc 1 67 5 is_stmt 1 view .LVU24
  67:application/chassis/chassis.c ****     motor_lf = MIMotorInit(&mi__motor_config);
 188              		.loc 1 67 72 is_stmt 0 view .LVU25
 189 004e 8DF89640 		strb	r4, [sp, #150]
  68:application/chassis/chassis.c **** 
 190              		.loc 1 68 5 is_stmt 1 view .LVU26
  68:application/chassis/chassis.c **** 
 191              		.loc 1 68 16 is_stmt 0 view .LVU27
 192 0052 6846     		mov	r0, sp
 193 0054 FFF7FEFF 		bl	MIMotorInit
 194              	.LVL5:
  68:application/chassis/chassis.c **** 
 195              		.loc 1 68 14 discriminator 1 view .LVU28
 196 0058 124B     		ldr	r3, .L10+20
 197 005a 1860     		str	r0, [r3]
  70:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_ide=CAN_ID_EXT;
 198              		.loc 1 70 5 is_stmt 1 view .LVU29
  70:application/chassis/chassis.c ****     mi__motor_config.can_init_config.tx_ide=CAN_ID_EXT;
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 7


 199              		.loc 1 70 44 is_stmt 0 view .LVU30
 200 005c 8DF8A960 		strb	r6, [sp, #169]
  71:application/chassis/chassis.c ****     mi__motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_REVERSE;
 201              		.loc 1 71 5 is_stmt 1 view .LVU31
  71:application/chassis/chassis.c ****     mi__motor_config.controller_setting_init_config.motor_reverse_flag = MOTOR_DIRECTION_REVERSE;
 202              		.loc 1 71 44 is_stmt 0 view .LVU32
 203 0060 8DF8A850 		strb	r5, [sp, #168]
  72:application/chassis/chassis.c ****     motor_rf = MIMotorInit(&mi__motor_config);
 204              		.loc 1 72 5 is_stmt 1 view .LVU33
  72:application/chassis/chassis.c ****     motor_rf = MIMotorInit(&mi__motor_config);
 205              		.loc 1 72 72 is_stmt 0 view .LVU34
 206 0064 8DF89640 		strb	r4, [sp, #150]
  73:application/chassis/chassis.c ****    
 207              		.loc 1 73 5 is_stmt 1 view .LVU35
  73:application/chassis/chassis.c ****    
 208              		.loc 1 73 16 is_stmt 0 view .LVU36
 209 0068 6846     		mov	r0, sp
 210 006a FFF7FEFF 		bl	MIMotorInit
 211              	.LVL6:
  73:application/chassis/chassis.c ****    
 212              		.loc 1 73 14 discriminator 1 view .LVU37
 213 006e 0E4B     		ldr	r3, .L10+24
 214 0070 1860     		str	r0, [r3]
  91:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
 215              		.loc 1 91 5 is_stmt 1 view .LVU38
  91:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
 216              		.loc 1 91 19 is_stmt 0 view .LVU39
 217 0072 2521     		movs	r1, #37
 218 0074 0D48     		ldr	r0, .L10+28
 219 0076 FFF7FEFF 		bl	SubRegister
 220              	.LVL7:
  91:application/chassis/chassis.c ****     chassis_pub = PubRegister("chassis_feed", sizeof(Chassis_Upload_Data_s));
 221              		.loc 1 91 17 discriminator 1 view .LVU40
 222 007a 0D4B     		ldr	r3, .L10+32
 223 007c 1860     		str	r0, [r3]
  92:application/chassis/chassis.c **** #endif // ONE_BOARD
 224              		.loc 1 92 5 is_stmt 1 view .LVU41
  92:application/chassis/chassis.c **** #endif // ONE_BOARD
 225              		.loc 1 92 19 is_stmt 0 view .LVU42
 226 007e 2146     		mov	r1, r4
 227 0080 0C48     		ldr	r0, .L10+36
 228 0082 FFF7FEFF 		bl	PubRegister
 229              	.LVL8:
  92:application/chassis/chassis.c **** #endif // ONE_BOARD
 230              		.loc 1 92 17 discriminator 1 view .LVU43
 231 0086 0C4B     		ldr	r3, .L10+40
 232 0088 1860     		str	r0, [r3]
  94:application/chassis/chassis.c **** #define LF_CENTER ((HALF_TRACK_WIDTH + CENTER_GIMBAL_OFFSET_X + HALF_WHEEL_BASE - CENTER_GIMBAL_OFF
 233              		.loc 1 94 1 view .LVU44
 234 008a 2EB0     		add	sp, sp, #184
 235              		.cfi_def_cfa_offset 16
 236              		@ sp needed
 237 008c 70BD     		pop	{r4, r5, r6, pc}
 238              	.L11:
 239 008e 00BF     		.align	2
 240              	.L10:
 241 0090 00606A46 		.word	1181376512
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 8


 242 0094 00803B45 		.word	1161527296
 243 0098 00002041 		.word	1092616192
 244 009c 00803B46 		.word	1178304512
 245 00a0 00000000 		.word	hcan1
 246 00a4 00000000 		.word	motor_lf
 247 00a8 00000000 		.word	motor_rf
 248 00ac 00000000 		.word	.LC0
 249 00b0 00000000 		.word	chassis_sub
 250 00b4 0C000000 		.word	.LC1
 251 00b8 00000000 		.word	chassis_pub
 252              		.cfi_endproc
 253              	.LFE167:
 255              		.section	.text.ChassisTask,"ax",%progbits
 256              		.align	1
 257              		.global	ChassisTask
 258              		.syntax unified
 259              		.thumb
 260              		.thumb_func
 262              	ChassisTask:
 263              	.LFB171:
 131:application/chassis/chassis.c **** 
 132:application/chassis/chassis.c **** 
 133:application/chassis/chassis.c **** /**
 134:application/chassis/chassis.c ****  * @brief ÂØπÊéßÂà∂ÁöÑÂ∫ïÁõòË∑ùÁ¶ªËøõË°åËß£ÁÆó
 135:application/chassis/chassis.c ****  *          
 136:application/chassis/chassis.c ****  *
 137:application/chassis/chassis.c ****  */
 138:application/chassis/chassis.c **** 
 139:application/chassis/chassis.c **** // static void EstimateChassisDistance(PIDInstance *chassis_distance_pid,float distance_measure,flo
 140:application/chassis/chassis.c **** //         chassis_cmd_recv.vy= -1*PIDCalculate(chassis_distance_pid, distance_measure, distance_re
 141:application/chassis/chassis.c **** // }
 142:application/chassis/chassis.c **** 
 143:application/chassis/chassis.c **** 
 144:application/chassis/chassis.c **** /**
 145:application/chassis/chassis.c ****  * @brief ÂØπÊéßÂà∂ÁöÑÂ∫ïÁõòËßíÂ∫¶ËøõË°åËß£ÁÆó
 146:application/chassis/chassis.c ****  *          
 147:application/chassis/chassis.c ****  *
 148:application/chassis/chassis.c ****  */
 149:application/chassis/chassis.c **** 
 150:application/chassis/chassis.c **** // static void EstimateChassisAngle(PIDInstance *chassis_angle_pid,float angle_measure,float angle_
 151:application/chassis/chassis.c **** //         chassis_cmd_recv.wz= -1*PIDCalculate(chassis_angle_pid, angle_measure, angle_ref);
 152:application/chassis/chassis.c **** // }
 153:application/chassis/chassis.c **** 
 154:application/chassis/chassis.c **** /**
 155:application/chassis/chassis.c ****  * @brief Ê†πÊçÆÊØè‰∏™ËΩÆÂ≠êÁöÑÈÄüÂ∫¶ÂèçÈ¶à,ËÆ°ÁÆóÂ∫ïÁõòÁöÑÂÆûÈôÖËøêÂä®ÈÄüÂ∫¶,ÈÄÜËøêÂä®Ëß£ÁÆó
 156:application/chassis/chassis.c ****  *        ÂØπ‰∫éÂèåÊùøÁöÑÊÉÖÂÜµ,ËÄÉËôëÂ¢ûÂä†Êù•Ëá™Â∫ïÁõòÊùøIMUÁöÑÊï∞ÊçÆ
 157:application/chassis/chassis.c ****  *
 158:application/chassis/chassis.c ****  */
 159:application/chassis/chassis.c **** static void EstimateSpeed()
 160:application/chassis/chassis.c ****     // Ê†πÊçÆÁîµÊú∫ÈÄüÂ∫¶ÂíåÈôÄËû∫‰ª™ÁöÑËßíÈÄüÂ∫¶ËøõË°åËß£ÁÆó,ËøòÂèØ‰ª•Âà©Áî®Âä†ÈÄüÂ∫¶ËÆ°Âà§Êñ≠ÊòØÂ
 161:application/chassis/chassis.c **** {
 162:application/chassis/chassis.c ****     // chassis_feedback_data.vx vy wz =
 163:application/chassis/chassis.c ****     //  ...
 164:application/chassis/chassis.c **** }
 165:application/chassis/chassis.c **** 
 166:application/chassis/chassis.c **** /* Êú∫Âô®‰∫∫Â∫ïÁõòÊéßÂà∂Ê†∏ÂøÉ‰ªªÂä° */
 167:application/chassis/chassis.c **** void ChassisTask()
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 9


 168:application/chassis/chassis.c **** {
 264              		.loc 1 168 1 is_stmt 1 view -0
 265              		.cfi_startproc
 266              		@ args = 0, pretend = 0, frame = 0
 267              		@ frame_needed = 0, uses_anonymous_args = 0
 268 0000 10B5     		push	{r4, lr}
 269              		.cfi_def_cfa_offset 8
 270              		.cfi_offset 4, -8
 271              		.cfi_offset 14, -4
 169:application/chassis/chassis.c ****     // ÂêéÁª≠Â¢ûÂä†Ê≤°Êî∂Âà∞Ê∂àÊÅØÁöÑÂ§ÑÁêÜ(ÂèåÊùøÁöÑÊÉÖÂÜµ)
 170:application/chassis/chassis.c ****     // Ëé∑ÂèñÊñ∞ÁöÑÊéßÂà∂‰ø°ÊÅØ
 171:application/chassis/chassis.c **** #ifdef ONE_BOARD
 172:application/chassis/chassis.c ****     SubGetMessage(chassis_sub, &chassis_cmd_recv);
 272              		.loc 1 172 5 view .LVU46
 273 0002 1F4C     		ldr	r4, .L16
 274 0004 2146     		mov	r1, r4
 275 0006 1F4B     		ldr	r3, .L16+4
 276 0008 1868     		ldr	r0, [r3]
 277 000a FFF7FEFF 		bl	SubGetMessage
 278              	.LVL9:
 173:application/chassis/chassis.c **** #endif   
 174:application/chassis/chassis.c **** #ifdef CHASSIS_BOARD
 175:application/chassis/chassis.c ****     chassis_cmd_recv = *(Chassis_Ctrl_Cmd_s *)CANCommGet(chasiss_can_comm);
 176:application/chassis/chassis.c **** #endif // CHASSIS_BOARD
 177:application/chassis/chassis.c **** 
 178:application/chassis/chassis.c ****     if (chassis_cmd_recv.chassis_mode == CHASSIS_ZERO_FORCE)
 279              		.loc 1 178 5 view .LVU47
 280              		.loc 1 178 25 is_stmt 0 view .LVU48
 281 000e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 282              		.loc 1 178 8 view .LVU49
 283 0010 3BBB     		cbnz	r3, .L13
 179:application/chassis/chassis.c ****     { // Â¶ÇÊûúÂá∫Áé∞ÈáçË¶ÅÊ®°ÂùóÁ¶ªÁ∫øÊàñÈÅ•ÊéßÂô®ËÆæÁΩÆ‰∏∫ÊÄ•ÂÅú,ËÆ©ÁîµÊú∫ÂÅúÊ≠¢
 180:application/chassis/chassis.c ****         MIMotorStop(motor_lf);
 284              		.loc 1 180 9 is_stmt 1 view .LVU50
 285 0012 1D4B     		ldr	r3, .L16+8
 286 0014 1868     		ldr	r0, [r3]
 287 0016 FFF7FEFF 		bl	MIMotorStop
 288              	.LVL10:
 181:application/chassis/chassis.c ****         MIMotorStop(motor_rf);
 289              		.loc 1 181 9 view .LVU51
 290 001a 1C4B     		ldr	r3, .L16+12
 291 001c 1868     		ldr	r0, [r3]
 292 001e FFF7FEFF 		bl	MIMotorStop
 293              	.LVL11:
 182:application/chassis/chassis.c ****         DJIMotorStop(motor_lb);
 294              		.loc 1 182 9 view .LVU52
 295 0022 0020     		movs	r0, #0
 296 0024 FFF7FEFF 		bl	DJIMotorStop
 297              	.LVL12:
 183:application/chassis/chassis.c ****         DJIMotorStop(motor_rb);
 298              		.loc 1 183 9 view .LVU53
 299 0028 0020     		movs	r0, #0
 300 002a FFF7FEFF 		bl	DJIMotorStop
 301              	.LVL13:
 302              	.L14:
 184:application/chassis/chassis.c ****     }
 185:application/chassis/chassis.c ****     else
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 10


 186:application/chassis/chassis.c ****     { // Ê≠£Â∏∏Â∑•‰Ωú
 187:application/chassis/chassis.c ****         MIMotorEnable(motor_lf);
 188:application/chassis/chassis.c ****         MIMotorEnable(motor_rf);
 189:application/chassis/chassis.c ****         DJIMotorEnable(motor_lb);
 190:application/chassis/chassis.c ****         DJIMotorEnable(motor_rb);
 191:application/chassis/chassis.c ****     }
 192:application/chassis/chassis.c ****     chassis_x=chassis_cmd_recv.x;
 303              		.loc 1 192 5 view .LVU54
 304              		.loc 1 192 31 is_stmt 0 view .LVU55
 305 002e 144B     		ldr	r3, .L16
 306 0030 D3F81910 		ldr	r1, [r3, #25]	@ unaligned
 307              		.loc 1 192 14 view .LVU56
 308 0034 164A     		ldr	r2, .L16+16
 309 0036 1160     		str	r1, [r2]	@ float
 193:application/chassis/chassis.c ****     chassis_z=INS.total_angle;
 310              		.loc 1 193 5 is_stmt 1 view .LVU57
 311              		.loc 1 193 18 is_stmt 0 view .LVU58
 312 0038 164A     		ldr	r2, .L16+20
 313 003a D2F88010 		ldr	r1, [r2, #128]	@ float
 314              		.loc 1 193 14 view .LVU59
 315 003e 164A     		ldr	r2, .L16+24
 316 0040 1160     		str	r1, [r2]	@ float
 194:application/chassis/chassis.c ****     // Ê†πÊçÆÊéßÂà∂Ê®°ÂºèËÆæÂÆöÊóãËΩ¨ÈÄüÂ∫¶
 195:application/chassis/chassis.c ****     // switch (chassis_cmd_recv.chassis_mode)
 196:application/chassis/chassis.c ****     // {
 197:application/chassis/chassis.c ****     // case CHASSIS_NO_FOLLOW: // Â∫ïÁõò‰∏çÊóãËΩ¨,‰ΩÜÁª¥ÊåÅÂÖ®ÂêëÊú∫Âä®,‰∏ÄËà¨Áî®‰∫éË∞ÉÊï¥‰∫ëÂè∞Âßø
 198:application/chassis/chassis.c ****     //     chassis_cmd_recv.wz = 0;
 199:application/chassis/chassis.c ****     //     break;
 200:application/chassis/chassis.c ****     // case CHASSIS_FOLLOW_GIMBAL_YAW: // Ë∑üÈöè‰∫ëÂè∞,‰∏çÂçïÁã¨ËÆæÁΩÆpid,‰ª•ËØØÂ∑ÆËßíÂ∫¶Âπ≥Êñπ‰∏∫È
 201:application/chassis/chassis.c ****     //     chassis_cmd_recv.wz = -1.5f * chassis_cmd_recv.offset_angle * abs(chassis_cmd_recv.offse
 202:application/chassis/chassis.c ****     //     break;
 203:application/chassis/chassis.c ****     // case CHASSIS_ROTATE: // Ëá™Êóã,ÂêåÊó∂‰øùÊåÅÂÖ®ÂêëÊú∫Âä®;ÂΩìÂâçwzÁª¥ÊåÅÂÆöÂÄº,ÂêéÁª≠Â¢ûÂä†‰∏ç
 204:application/chassis/chassis.c ****     //     chassis_cmd_recv.wz = 4000;
 205:application/chassis/chassis.c ****     //     break;
 206:application/chassis/chassis.c ****     // default:
 207:application/chassis/chassis.c ****     //     break;
 208:application/chassis/chassis.c ****     // }
 209:application/chassis/chassis.c ****     // if((90-abs(INS.Yaw))>30){----Â∫ïÁõòËΩ¨90¬∞
 210:application/chassis/chassis.c **** 
 211:application/chassis/chassis.c ****     // }else
 212:application/chassis/chassis.c ****     // {intergal=intergal+(90-abs(INS.Yaw));}
 213:application/chassis/chassis.c ****     // chassis_cmd_recv.wz=(90-abs(INS.Yaw))*10+intergal*0.05;
 214:application/chassis/chassis.c ****     // chassis_cmd_recv.wz=PIDCalculate(&chassis_angle_pid, INS.Yaw,90);
 215:application/chassis/chassis.c ****     // EstimateChassisAngle(&chassis_angle_pid,chassis_z,0);
 216:application/chassis/chassis.c ****     // EstimateChassisDistance(&chassis_distance_pid, chassis_x,1000);
 217:application/chassis/chassis.c ****     chassis_vx= chassis_cmd_recv.vy;
 317              		.loc 1 217 5 is_stmt 1 view .LVU60
 318              		.loc 1 217 33 is_stmt 0 view .LVU61
 319 0042 5968     		ldr	r1, [r3, #4]	@ float
 320              		.loc 1 217 15 view .LVU62
 321 0044 154A     		ldr	r2, .L16+28
 322 0046 1160     		str	r1, [r2]	@ float
 218:application/chassis/chassis.c ****     chassis_vy=chassis_cmd_recv.vx;
 323              		.loc 1 218 5 is_stmt 1 view .LVU63
 324              		.loc 1 218 32 is_stmt 0 view .LVU64
 325 0048 1A68     		ldr	r2, [r3]	@ float
 326              		.loc 1 218 15 view .LVU65
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 11


 327 004a 154B     		ldr	r3, .L16+32
 328 004c 1A60     		str	r2, [r3]	@ float
 219:application/chassis/chassis.c ****     // chassis_wz=chassis_cmd_recv.wz;
 220:application/chassis/chassis.c ****     //  chassis_cmd_recv.wz=0;
 221:application/chassis/chassis.c ****     // Ê†πÊçÆ‰∫ëÂè∞ÂíåÂ∫ïÁõòÁöÑËßíÂ∫¶offsetÂ∞ÜÊéßÂà∂ÈáèÊò†Â∞ÑÂà∞Â∫ïÁõòÂùêÊ†áÁ≥ª‰∏ä
 222:application/chassis/chassis.c ****     // Â∫ïÁõòÈÄÜÊó∂ÈíàÊóãËΩ¨‰∏∫ËßíÂ∫¶Ê≠£ÊñπÂêë;‰∫ëÂè∞ÂëΩ‰ª§ÁöÑÊñπÂêë‰ª•‰∫ëÂè∞ÊåáÂêëÁöÑÊñπÂêë‰∏∫x,Èá
 223:application/chassis/chassis.c ****     // static float sin_theta, cos_theta;
 224:application/chassis/chassis.c ****     // cos_theta = arm_cos_f32(chassis_cmd_recv.offset_angle * DEGREE_2_RAD);
 225:application/chassis/chassis.c ****     // sin_theta = arm_sin_f32(chassis_cmd_recv.offset_angle * DEGREE_2_RAD);
 226:application/chassis/chassis.c ****     // chassis_vx = chassis_cmd_recv.vx * cos_theta - chassis_cmd_recv.vy * sin_theta;
 227:application/chassis/chassis.c ****     // chassis_vy = chassis_cmd_recv.vx * sin_theta + chassis_cmd_recv.vy * cos_theta;
 228:application/chassis/chassis.c ****     
 229:application/chassis/chassis.c **** 
 230:application/chassis/chassis.c ****     // Ê†πÊçÆÊéßÂà∂Ê®°ÂºèËøõË°åÊ≠£ËøêÂä®Â≠¶Ëß£ÁÆó,ËÆ°ÁÆóÂ∫ïÁõòËæìÂá∫
 231:application/chassis/chassis.c ****     MecanumCalculate();
 329              		.loc 1 231 5 is_stmt 1 view .LVU66
 330 004e FFF7FEFF 		bl	MecanumCalculate
 331              	.LVL14:
 232:application/chassis/chassis.c **** 
 233:application/chassis/chassis.c ****     // Ê†πÊçÆË£ÅÂà§Á≥ªÁªüÁöÑÂèçÈ¶àÊï∞ÊçÆÂíåÁîµÂÆπÊï∞ÊçÆÂØπËæìÂá∫ÈôêÂπÖÂπ∂ËÆæÂÆöÈó≠ÁéØÂèÇËÄÉÂÄº
 234:application/chassis/chassis.c ****     LimitChassisOutput();
 332              		.loc 1 234 5 view .LVU67
 333 0052 FFF7FEFF 		bl	LimitChassisOutput
 334              	.LVL15:
 235:application/chassis/chassis.c **** 
 236:application/chassis/chassis.c ****     // Ê†πÊçÆÁîµÊú∫ÁöÑÂèçÈ¶àÈÄüÂ∫¶ÂíåIMU(Â¶ÇÊûúÊúâ)ËÆ°ÁÆóÁúüÂÆûÈÄüÂ∫¶
 237:application/chassis/chassis.c ****     EstimateSpeed();
 335              		.loc 1 237 5 view .LVU68
 238:application/chassis/chassis.c **** 
 239:application/chassis/chassis.c ****     // // Ëé∑ÂèñË£ÅÂà§Á≥ªÁªüÊï∞ÊçÆ   Âª∫ËÆÆÂ∞ÜË£ÅÂà§Á≥ªÁªü‰∏éÂ∫ïÁõòÂàÜÁ¶ªÔºåÊâÄ‰ª•Ê≠§Â§ÑÊï∞ÊçÆÂ∫î‰Ω
 240:application/chassis/chassis.c ****     // // ÊàëÊñπÈ¢úËâ≤idÂ∞è‰∫é7ÊòØÁ∫¢Ëâ≤,Â§ß‰∫é7ÊòØËìùËâ≤,Ê≥®ÊÑèËøôÈáåÂèëÈÄÅÁöÑÊòØÂØπÊñπÁöÑÈ¢úËâ≤, 
 241:application/chassis/chassis.c ****     // chassis_feedback_data.enemy_color = referee_data->GameRobotState.robot_id > 7 ? 1 : 0;
 242:application/chassis/chassis.c ****     // // ÂΩìÂâçÂè™ÂÅö‰∫Ü17mmÁÉ≠ÈáèÁöÑÊï∞ÊçÆËé∑Âèñ,ÂêéÁª≠Ê†πÊçÆrobot_def‰∏≠ÁöÑÂÆèÂàáÊç¢ÂèåÊû™ÁÆ°Âíå
 243:application/chassis/chassis.c ****     // chassis_feedback_data.bullet_speed = referee_data->GameRobotState.shooter_id1_17mm_speed_lim
 244:application/chassis/chassis.c ****     // chassis_feedback_data.rest_heat = referee_data->PowerHeatData.shooter_heat0;
 245:application/chassis/chassis.c **** 
 246:application/chassis/chassis.c ****     // Êé®ÈÄÅÂèçÈ¶àÊ∂àÊÅØ
 247:application/chassis/chassis.c **** #ifdef ONE_BOARD
 248:application/chassis/chassis.c ****     PubPushMessage(chassis_pub, (void *)&chassis_feedback_data);
 336              		.loc 1 248 5 view .LVU69
 337 0056 1349     		ldr	r1, .L16+36
 338 0058 134B     		ldr	r3, .L16+40
 339 005a 1868     		ldr	r0, [r3]
 340 005c FFF7FEFF 		bl	PubPushMessage
 341              	.LVL16:
 249:application/chassis/chassis.c **** #endif
 250:application/chassis/chassis.c **** #ifdef CHASSIS_BOARD
 251:application/chassis/chassis.c ****     CANCommSend(chasiss_can_comm, (void *)&chassis_feedback_data);
 252:application/chassis/chassis.c **** #endif // CHASSIS_BOARD
 253:application/chassis/chassis.c **** }...
 342              		.loc 1 253 1 is_stmt 0 view .LVU70
 343 0060 10BD     		pop	{r4, pc}
 344              	.L13:
 187:application/chassis/chassis.c ****         MIMotorEnable(motor_lf);
 345              		.loc 1 187 9 is_stmt 1 view .LVU71
 346 0062 094B     		ldr	r3, .L16+8
 347 0064 1868     		ldr	r0, [r3]
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 12


 348 0066 FFF7FEFF 		bl	MIMotorEnable
 349              	.LVL17:
 188:application/chassis/chassis.c ****         MIMotorEnable(motor_rf);
 350              		.loc 1 188 9 view .LVU72
 351 006a 084B     		ldr	r3, .L16+12
 352 006c 1868     		ldr	r0, [r3]
 353 006e FFF7FEFF 		bl	MIMotorEnable
 354              	.LVL18:
 189:application/chassis/chassis.c ****         DJIMotorEnable(motor_lb);
 355              		.loc 1 189 9 view .LVU73
 356 0072 0020     		movs	r0, #0
 357 0074 FFF7FEFF 		bl	DJIMotorEnable
 358              	.LVL19:
 190:application/chassis/chassis.c ****         DJIMotorEnable(motor_rb);
 359              		.loc 1 190 9 view .LVU74
 360 0078 0020     		movs	r0, #0
 361 007a FFF7FEFF 		bl	DJIMotorEnable
 362              	.LVL20:
 363 007e D6E7     		b	.L14
 364              	.L17:
 365              		.align	2
 366              	.L16:
 367 0080 00000000 		.word	chassis_cmd_recv
 368 0084 00000000 		.word	chassis_sub
 369 0088 00000000 		.word	motor_lf
 370 008c 00000000 		.word	motor_rf
 371 0090 00000000 		.word	chassis_x
 372 0094 00000000 		.word	INS
 373 0098 00000000 		.word	chassis_z
 374 009c 00000000 		.word	chassis_vx
 375 00a0 00000000 		.word	chassis_vy
 376 00a4 00000000 		.word	chassis_feedback_data
 377 00a8 00000000 		.word	chassis_pub
 378              		.cfi_endproc
 379              	.LFE171:
 381              		.section	.bss.motor_rf,"aw",%nobits
 382              		.align	2
 385              	motor_rf:
 386 0000 00000000 		.space	4
 387              		.section	.bss.motor_lf,"aw",%nobits
 388              		.align	2
 391              	motor_lf:
 392 0000 00000000 		.space	4
 393              		.section	.bss.chassis_feedback_data,"aw",%nobits
 394              		.align	2
 397              	chassis_feedback_data:
 398 0000 00       		.space	1
 399              		.section	.bss.chassis_cmd_recv,"aw",%nobits
 400              		.align	2
 403              	chassis_cmd_recv:
 404 0000 00000000 		.space	37
 404      00000000 
 404      00000000 
 404      00000000 
 404      00000000 
 405              		.section	.bss.chassis_sub,"aw",%nobits
 406              		.align	2
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 13


 409              	chassis_sub:
 410 0000 00000000 		.space	4
 411              		.section	.bss.chassis_pub,"aw",%nobits
 412              		.align	2
 415              	chassis_pub:
 416 0000 00000000 		.space	4
 417              		.section	.bss.vt_rb,"aw",%nobits
 418              		.align	2
 421              	vt_rb:
 422 0000 00000000 		.space	4
 423              		.section	.bss.vt_lb,"aw",%nobits
 424              		.align	2
 427              	vt_lb:
 428 0000 00000000 		.space	4
 429              		.section	.bss.vt_rf,"aw",%nobits
 430              		.align	2
 433              	vt_rf:
 434 0000 00000000 		.space	4
 435              		.section	.bss.vt_lf,"aw",%nobits
 436              		.align	2
 439              	vt_lf:
 440 0000 00000000 		.space	4
 441              		.section	.bss.chassis_vy,"aw",%nobits
 442              		.align	2
 445              	chassis_vy:
 446 0000 00000000 		.space	4
 447              		.section	.bss.chassis_vx,"aw",%nobits
 448              		.align	2
 451              	chassis_vx:
 452 0000 00000000 		.space	4
 453              		.section	.bss.chassis_z,"aw",%nobits
 454              		.align	2
 457              	chassis_z:
 458 0000 00000000 		.space	4
 459              		.section	.bss.chassis_x,"aw",%nobits
 460              		.align	2
 463              	chassis_x:
 464 0000 00000000 		.space	4
 465              		.text
 466              	.Letext0:
 467              		.file 2 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 468              		.file 3 "C:/Users/Sive/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 469              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 470              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 471              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 472              		.file 7 "moudels/imu/INS_task.h"
 473              		.file 8 "application/robot_def.h"
 474              		.file 9 "bsp/can/bsp_can.h"
 475              		.file 10 "moudels/algorithm/controller.h"
 476              		.file 11 "moudels/motor/motor_def.h"
 477              		.file 12 "moudels/daemon/daemon.h"
 478              		.file 13 "moudels/motor/DJImotor/dji_motor.h"
 479              		.file 14 "moudels/message_center/message_center.h"
 480              		.file 15 "moudels/motor/MImotor/MImotor.h"
 481              		.file 16 "Core/Inc/can.h"
 482              		.file 17 "<built-in>"
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 chassis.c
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:21     .text.MecanumCalculate:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:26     .text.MecanumCalculate:00000000 MecanumCalculate
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:59     .text.MecanumCalculate:00000028 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:451    .bss.chassis_vx:00000000 chassis_vx
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:439    .bss.vt_lf:00000000 vt_lf
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:433    .bss.vt_rf:00000000 vt_rf
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:427    .bss.vt_lb:00000000 vt_lb
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:421    .bss.vt_rb:00000000 vt_rb
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:69     .text.LimitChassisOutput:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:74     .text.LimitChassisOutput:00000000 LimitChassisOutput
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:115    .text.LimitChassisOutput:00000038 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:391    .bss.motor_lf:00000000 motor_lf
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:385    .bss.motor_rf:00000000 motor_rf
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:125    .rodata.ChassisInit.str1.4:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:132    .text.ChassisInit:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:138    .text.ChassisInit:00000000 ChassisInit
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:241    .text.ChassisInit:00000090 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:409    .bss.chassis_sub:00000000 chassis_sub
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:415    .bss.chassis_pub:00000000 chassis_pub
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:256    .text.ChassisTask:00000000 $t
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:262    .text.ChassisTask:00000000 ChassisTask
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:367    .text.ChassisTask:00000080 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:403    .bss.chassis_cmd_recv:00000000 chassis_cmd_recv
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:463    .bss.chassis_x:00000000 chassis_x
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:457    .bss.chassis_z:00000000 chassis_z
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:445    .bss.chassis_vy:00000000 chassis_vy
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:397    .bss.chassis_feedback_data:00000000 chassis_feedback_data
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:382    .bss.motor_rf:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:388    .bss.motor_lf:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:394    .bss.chassis_feedback_data:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:400    .bss.chassis_cmd_recv:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:406    .bss.chassis_sub:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:412    .bss.chassis_pub:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:418    .bss.vt_rb:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:424    .bss.vt_lb:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:430    .bss.vt_rf:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:436    .bss.vt_lf:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:442    .bss.chassis_vy:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:448    .bss.chassis_vx:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:454    .bss.chassis_z:00000000 $d
C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s:460    .bss.chassis_x:00000000 $d

UNDEFINED SYMBOLS
MIMotorSetRef
DJIMotorSetRef
memset
MIMotorInit
SubRegister
PubRegister
hcan1
SubGetMessage
MIMotorStop
DJIMotorStop
PubPushMessage
MIMotorEnable
ARM GAS  C:\Users\Sive\AppData\Local\Temp\cco9HoHU.s 			page 15


DJIMotorEnable
INS
